(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[637],{295:(e,r,t)=>{Promise.resolve().then(t.bind(t,8333))},422:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var a=t(3246);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),l=e=>{let r=s(e);return r.charAt(0).toUpperCase()+r.slice(1)},o=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},i=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:r,...c,width:n,height:n,stroke:t,strokeWidth:l?24*Number(s)/Number(n):s,className:o("lucide",d),...!u&&!i(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let t=(0,a.forwardRef)((t,s)=>{let{className:i,...c}=t;return(0,a.createElement)(d,{ref:s,iconNode:r,className:o("lucide-".concat(n(l(e))),"lucide-".concat(e),i),...c})});return t.displayName=l(e),t}},6497:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(422).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6612:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(422).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},8333:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(8510),n=t(6497),s=t(6612),l=t(5211),o=t.n(l),i=t(3246);function c(){let[e,r]=(0,i.useState)(""),[t,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(null);async function h(r){if(r.preventDefault(),e.trim()&&t.trim()){d(!0),m(null);try{let r=await fetch("/api/find-booking?surname=".concat(encodeURIComponent(e),"&bookingRef=").concat(encodeURIComponent(t)));if(!r.ok)return void(404===r.status?m("Booking not found. Please check your details."):429===r.status?m("Too many attempts. Please try again later."):m("Something went wrong. Please try again."));let a=await r.json();if(!a.redirectUrl)return void m("We could not open your portal. Please try again.");window.location.href=a.redirectUrl}catch(e){m("Connection error. Please try again.")}finally{d(!1)}}}return(0,a.jsx)("main",{className:"min-h-screen bg-gray-50 p-4",children:(0,a.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center gap-3",children:[(0,a.jsx)(o(),{href:"/",className:"rounded-full p-2 hover:bg-gray-200",children:(0,a.jsx)(n.A,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Find My Stay"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Enter your booking details"})]})]}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"surname",className:"block text-sm font-medium text-gray-700",children:"Surname"}),(0,a.jsx)("input",{id:"surname",type:"text",value:e,onChange:e=>r(e.target.value),placeholder:"Enter your surname",className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:c})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"bookingRef",className:"block text-sm font-medium text-gray-700",children:"Booking Reference"}),(0,a.jsx)("input",{id:"bookingRef",type:"text",value:t,onChange:e=>l(e.target.value.toUpperCase()),placeholder:"e.g. BDC-123456",className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-3 font-mono uppercase focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:c})]}),u&&(0,a.jsx)("div",{className:"rounded-lg bg-red-50 p-4 text-red-800",children:u}),(0,a.jsx)("button",{type:"submit",disabled:c||!e.trim()||!t.trim(),className:"flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-6 py-3 text-white hover:bg-blue-700 disabled:opacity-50",children:c?(0,a.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{className:"h-5 w-5"}),"Find Booking"]})})]})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[211,493,597,358],()=>r(295)),_N_E=e.O()}]);