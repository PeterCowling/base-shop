(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{347:(e,t,r)=>{Promise.resolve().then(r.bind(r,8745))},1319:(e,t,r)=>{"use strict";r.d(t,{b:()=>l,r:()=>a});var u=r(6586),s=r(7826);let n=(0,s.createContext)(null);function a(e){let{children:t}=e,[r,a]=(0,s.useState)(null),[l,o]=(0,s.useState)(null);async function i(e){if(e.length>=4){let e="user_".concat(Date.now());return a({id:e}),o("staff"),localStorage.setItem("prime_role","staff"),localStorage.setItem("prime_user_id",e),!0}return!1}return(0,s.useEffect)(()=>{let e=localStorage.getItem("prime_role"),t=localStorage.getItem("prime_user_id");e&&t&&(o(e),a({id:t}))},[]),(0,u.jsx)(n.Provider,{value:{user:r,role:l,isAuthenticated:!!r,login:i,logout:function(){a(null),o(null),localStorage.removeItem("prime_role"),localStorage.removeItem("prime_user_id")}},children:t})}function l(){let e=(0,s.useContext)(n);if(!e)throw Error("usePinAuth must be used within a PinAuthProvider");return e}},8745:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var u=r(6586),s=r(9528),n=r(7826),a=r(1319);function l(e){let{children:t}=e,{user:r,isAuthenticated:l}=(0,a.b)(),o=(0,s.useRouter)();return((0,n.useEffect)(()=>{l||o.push("/")},[l,o]),r)?(0,u.jsx)(u.Fragment,{children:t}):(0,u.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,u.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"})})}},9528:(e,t,r)=>{"use strict";var u=r(3320);r.o(u,"useRouter")&&r.d(t,{useRouter:function(){return u.useRouter}}),r.o(u,"useSearchParams")&&r.d(t,{useSearchParams:function(){return u.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[956,889,358],()=>t(347)),_N_E=e.O()}]);