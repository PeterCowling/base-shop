"use strict";(self.webpackChunk_apps_storybook=self.webpackChunk_apps_storybook||[]).push([[5297],{"../../packages/ui/src/components/cms/Breadcrumbs.client.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),_acme_shared_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/shared-utils/src/index.ts"),next_navigation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/storybook@9.1.8_@testing-library+dom@10.4.0_msw@2.11.3_@types+node@20.19.4_typescript@5_27edcbda9b6b9dee06ee395aa7a16bf2/node_modules/storybook/dist/core-server/presets/webpack/loaders/webpack-automock-loader.cjs?spy=false!../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/navigation.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),_molecules_Breadcrumbs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/ui/src/components/molecules/Breadcrumbs.tsx"),_acme_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/i18n/src/index.ts");const LABEL_KEYS={cms:null,shop:"cms.breadcrumb.shop",products:"cms.breadcrumb.products",pages:"cms.breadcrumb.pages",media:"cms.breadcrumb.media",settings:"cms.breadcrumb.settings",live:"cms.breadcrumb.live",rbac:"cms.breadcrumb.rbac",wizard:"cms.breadcrumb.wizard","account-requests":"cms.breadcrumb.accountRequests",builder:"cms.breadcrumb.builder",edit:"cms.breadcrumb.edit",seo:"cms.breadcrumb.seo"};function BreadcrumbsInner(){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_5__.c3)(),pathname=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)(),parts=pathname.split("/").filter(Boolean),[extra,setExtra]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({}),shop=(0,_acme_shared_utils__WEBPACK_IMPORTED_MODULE_1__.e6)(pathname);(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{!async function fetchLabels(){const segments=pathname.split("/").filter(Boolean),shopSlug=shop;if(!shopSlug)return;const next={},prodIdx=segments.indexOf("products");if(prodIdx>=0&&segments[prodIdx+1]){const id=segments[prodIdx+1];try{const res=await fetch(`/api/products/${shopSlug}/${id}`);if(res.ok){const data=await res.json(),title=(null==data?void 0:data.title)?Object.values(data.title)[0]:null;title&&(next[id]=title)}}catch(e){}}const pageIdx=segments.indexOf("pages");if(pageIdx>=0&&segments[pageIdx+1]){const slug=segments[pageIdx+1];try{const res=await fetch(`/api/pages/${shopSlug}`);if(res.ok){var _page_seo;var _pages_find;const page=null!==(_pages_find=(await res.json()).find(p=>p.slug===slug))&&void 0!==_pages_find?_pages_find:null;(null==page||null===(_page_seo=page.seo)||void 0===_page_seo?void 0:_page_seo.title)&&(next[slug]=page.seo.title)}}catch(e){}}setExtra(next)}()},[pathname,shop]);let href="";const items=[];for(const part of parts){href+=`/${part}`;const label=LABEL_KEYS.hasOwnProperty(part)?LABEL_KEYS[part]?t(LABEL_KEYS[part]):null:extra[part]||part;label&&items.push({label,href})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_molecules_Breadcrumbs__WEBPACK_IMPORTED_MODULE_4__.A,{items})}const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(BreadcrumbsInner);BreadcrumbsInner.__docgenInfo={description:"",methods:[],displayName:"BreadcrumbsInner"}},"../../packages/ui/src/components/cms/ShopSelector.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ShopSelector});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),_acme_shared_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/shared-utils/src/index.ts"),next_navigation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/storybook@9.1.8_@testing-library+dom@10.4.0_msw@2.11.3_@types+node@20.19.4_typescript@5_27edcbda9b6b9dee06ee395aa7a16bf2/node_modules/storybook/dist/core-server/presets/webpack/loaders/webpack-automock-loader.cjs?spy=false!../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/navigation.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/ui/src/components/atoms/shadcn/index.ts"),_acme_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/i18n/src/index.ts"),console=__webpack_require__("../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function ShopSelector(){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_5__.c3)(),[shops,setShops]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),[status,setStatus]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("loading"),[errorMsg,setErrorMsg]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);var _usePathname;const pathname=null!==(_usePathname=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)())&&void 0!==_usePathname?_usePathname:"",router=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{!async function fetchShops(){try{const res=await fetch("/api/shops");if(res.ok){const data=await res.json();if(Array.isArray(data))return setShops(data),void setStatus("ready");setErrorMsg("Invalid response")}else{const json=await res.json().catch(()=>({}));var _json_error;setErrorMsg(null!==(_json_error=json.error)&&void 0!==_json_error?_json_error:`Error ${res.status}`)}setStatus("error")}catch(err){console.error("Error loading shops",err),setErrorMsg(err instanceof Error?err.message:"Failed to load shops"),setStatus("error"),setShops([])}}()},[]);const selected=(0,_acme_shared_utils__WEBPACK_IMPORTED_MODULE_1__.e6)(pathname);return"loading"===status?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-sm",children:t("cms.shops.loading")}):"error"===status?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-sm text-danger","data-token":"--color-danger",children:null!=errorMsg?errorMsg:t("cms.shops.loadFailed")}):0===shops.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-muted-foreground text-sm",children:t("cms.shops.empty")}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__.l6,{value:null!=selected?selected:"",onValueChange:v=>function changeShop(value){const search=window.location.search,newPath=(0,_acme_shared_utils__WEBPACK_IMPORTED_MODULE_1__.hJ)(pathname,value);router.push(`${newPath}${search}`)}(v),"data-cy":"shop-select",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__.bq,{"data-cy":"shop-select","aria-label":String(t("cms.shops.ariaLabel")),className:"w-36",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__.yv,{placeholder:String(t("cms.shops.selectPlaceholder"))})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__.gC,{children:shops.map(s=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__.eb,{value:s,children:s},s))})]})}ShopSelector.__docgenInfo={description:"",methods:[],displayName:"ShopSelector"}},"../../packages/ui/src/components/cms/TopBar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>TopBar_stories});var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),src=__webpack_require__("../../packages/shared-utils/src/index.ts"),react=__webpack_require__("../../node_modules/.pnpm/next-auth@4.24.11_next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+t_150b50f8e34ca3d390380cb6edee750a/node_modules/next-auth/react/index.js"),next_link=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),navigation=__webpack_require__("../../node_modules/.pnpm/storybook@9.1.8_@testing-library+dom@10.4.0_msw@2.11.3_@types+node@20.19.4_typescript@5_27edcbda9b6b9dee06ee395aa7a16bf2/node_modules/storybook/dist/core-server/presets/webpack/loaders/webpack-automock-loader.cjs?spy=false!../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/navigation.js"),compiled_react=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),react_icons_esm=__webpack_require__("../../node_modules/.pnpm/@radix-ui+react-icons@1.3.2_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),shadcn=__webpack_require__("../../packages/ui/src/components/atoms/shadcn/index.ts"),atoms=__webpack_require__("../../packages/ui/src/components/atoms/index.ts"),Breadcrumbs_client=__webpack_require__("../../packages/ui/src/components/cms/Breadcrumbs.client.tsx"),ShopSelector=__webpack_require__("../../packages/ui/src/components/cms/ShopSelector.tsx"),dropdown_menu=__webpack_require__("../../packages/ui/src/components/atoms/primitives/dropdown-menu.tsx"),useCmsNavItems=__webpack_require__("../../packages/ui/src/components/cms/nav/useCmsNavItems.tsx"),i18n_src=__webpack_require__("../../packages/i18n/src/index.ts");function NavMenu({role,onConfiguratorStartNew,label,variant="cms"}){const t=(0,i18n_src.c3)(),router=(0,navigation.useRouter)();var _usePathname;const pathname=null!==(_usePathname=(0,navigation.usePathname)())&&void 0!==_usePathname?_usePathname:"",items=(0,useCmsNavItems.W)({pathname,role}),filteredItems="shop"===variant?items.filter(i=>!(i.fullHref.endsWith("/pages/new/componenteditor")||i.fullHref.endsWith("/pages/new/componentcreator")||i.fullHref.endsWith("/components/new")||i.fullHref.endsWith("/pages/new/component")||i.fullHref.endsWith("/pages/edit/component")||i.isConfigurator)):"cms"===variant?items.filter(i=>!i.fullHref.startsWith("/cms/shop/")&&!i.isConfigurator):items,handleOpenPageBuilder=(0,compiled_react.useCallback)(()=>{const shop=(0,src.e6)(pathname);shop&&router.push(`/cms/shop/${shop}/pages/new/page`)},[pathname,router]),handleConfiguratorClick=(0,compiled_react.useCallback)(()=>{try{const result=null==onConfiguratorStartNew?void 0:onConfiguratorStartNew();result&&"function"==typeof result.then&&result.catch(()=>{})}catch(e){}},[onConfiguratorStartNew]),shop=(0,src.e6)(pathname),baseShopPath=shop?`/cms/shop/${shop}`:null,newPageHref=shop?`${baseShopPath}/pages/new/page`:null,pagesRootHref=shop?`${baseShopPath}/pages`:null,onNewPage=!!newPageHref&&pathname===newPageHref,isActive=(active,href)=>(!onNewPage||!(href=>!!pagesRootHref&&href===pagesRootHref)(href))&&active,onConfigurator=pathname.startsWith("/cms/configurator");return(0,jsx_runtime.jsxs)(dropdown_menu.rI,{children:[(0,jsx_runtime.jsx)(dropdown_menu.ty,{asChild:!0,children:(0,jsx_runtime.jsx)(shadcn.$n,{variant:"outline",className:"h-9 rounded-lg border-border-2 text-foreground hover:bg-surface-3",children:null!=label?label:t("nav.menu")})}),(0,jsx_runtime.jsxs)(dropdown_menu.SQ,{align:"start",sideOffset:8,children:[(0,jsx_runtime.jsx)(dropdown_menu.lp,{children:t("nav.navigate")}),(0,jsx_runtime.jsx)(dropdown_menu.mB,{}),"cms"===variant&&(0,jsx_runtime.jsxs)(dropdown_menu._2,{className:onConfigurator?"bg-surface-3 text-foreground":"",onSelect:()=>{router.push("/cms/configurator")},children:[(0,jsx_runtime.jsx)("span",{className:"me-2","aria-hidden":!0,children:(0,jsx_runtime.jsx)(react_icons_esm.c11,{className:"h-4 w-4"})}),(0,jsx_runtime.jsx)("span",{className:"flex-1",children:t("nav.newShop")}),onConfigurator?(0,jsx_runtime.jsx)("span",{className:"ms-2 h-2 w-2 rounded-full bg-emerald-400","aria-hidden":!0}):null]},"add-shop"),"cms"===variant&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(dropdown_menu._2,{onSelect:()=>{router.push("/cms/pages/new/component")},children:[(0,jsx_runtime.jsx)("span",{className:"me-2","aria-hidden":!0,children:(0,jsx_runtime.jsx)(react_icons_esm.c11,{className:"h-4 w-4"})}),(0,jsx_runtime.jsx)("span",{className:"flex-1",children:t("nav.newComponent")})]},"cms-new-component"),(0,jsx_runtime.jsxs)(dropdown_menu._2,{onSelect:()=>{router.push("/cms/pages/edit/component")},children:[(0,jsx_runtime.jsx)("span",{className:"me-2","aria-hidden":!0,children:(0,jsx_runtime.jsx)(react_icons_esm.OI_,{className:"h-4 w-4"})}),(0,jsx_runtime.jsx)("span",{className:"flex-1",children:t("nav.editComponent")})]},"cms-edit-component"),(0,jsx_runtime.jsx)(dropdown_menu.mB,{})]}),"shop"===variant?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[filteredItems.length>0&&(0,jsx_runtime.jsxs)(dropdown_menu._2,{className:isActive(filteredItems[0].active,filteredItems[0].fullHref)?"bg-surface-3 text-foreground":"",onSelect:()=>{filteredItems[0].isConfigurator&&handleConfiguratorClick(),router.push(filteredItems[0].fullHref)},children:[(0,jsx_runtime.jsx)("span",{className:"me-2","aria-hidden":!0,children:filteredItems[0].icon}),(0,jsx_runtime.jsx)("span",{className:"flex-1",children:filteredItems[0].label}),isActive(filteredItems[0].active,filteredItems[0].fullHref)?(0,jsx_runtime.jsx)("span",{className:"ms-2 h-2 w-2 rounded-full bg-emerald-400","aria-hidden":!0}):null]},`${filteredItems[0].fullHref}|${filteredItems[0].label}`),shop&&(0,jsx_runtime.jsxs)(dropdown_menu._2,{className:onNewPage?"bg-surface-3 text-foreground":"",onSelect:handleOpenPageBuilder,children:[(0,jsx_runtime.jsx)("span",{className:"me-2","aria-hidden":!0,children:(0,jsx_runtime.jsx)(react_icons_esm.c11,{className:"h-4 w-4"})}),(0,jsx_runtime.jsx)("span",{className:"flex-1",children:t("nav.newPage")}),onNewPage?(0,jsx_runtime.jsx)("span",{className:"ms-2 h-2 w-2 rounded-full bg-emerald-400","aria-hidden":!0}):null]},"page-builder-special"),filteredItems.slice(1).map(item=>(0,jsx_runtime.jsxs)(dropdown_menu._2,{className:isActive(item.active,item.fullHref)?"bg-surface-3 text-foreground":"",onSelect:()=>{item.isConfigurator&&handleConfiguratorClick(),router.push(item.fullHref)},children:[(0,jsx_runtime.jsx)("span",{className:"me-2","aria-hidden":!0,children:item.icon}),(0,jsx_runtime.jsx)("span",{className:"flex-1",children:item.label}),isActive(item.active,item.fullHref)?(0,jsx_runtime.jsx)("span",{className:"ms-2 h-2 w-2 rounded-full bg-emerald-400","aria-hidden":!0}):null]},`${item.fullHref}|${item.label}`))]}):filteredItems.map(item=>(0,jsx_runtime.jsxs)(dropdown_menu._2,{className:item.active?"bg-surface-3 text-foreground":"",onSelect:()=>{item.isConfigurator&&handleConfiguratorClick(),router.push(item.fullHref)},children:[(0,jsx_runtime.jsx)("span",{className:"me-2","aria-hidden":!0,children:item.icon}),(0,jsx_runtime.jsx)("span",{className:"flex-1",children:item.label}),item.active?(0,jsx_runtime.jsx)("span",{className:"ms-2 h-2 w-2 rounded-full bg-emerald-400","aria-hidden":!0}):null]},`${item.fullHref}|${item.label}`))]})]})}const NavMenu_client=(0,compiled_react.memo)(NavMenu);function TopBarInner({role,onConfiguratorStartNew}){const router=(0,navigation.useRouter)(),pathname=(0,navigation.usePathname)(),t=(0,i18n_src.c3)(),segments=pathname.split("/").filter(Boolean),shop=(0,src.e6)(pathname),last=segments[segments.length-1],baseShopPath=shop?`/cms/shop/${shop}`:null,showNewProduct=shop&&"products"===last,showNewPage=!!(shop&&baseShopPath&&pathname.startsWith(`${baseShopPath}/pages`)),[isDark,setIsDark]=(0,compiled_react.useState)(!1);return(0,compiled_react.useEffect)(()=>{const root=document.documentElement,dark=root.classList.contains("theme-dark");setIsDark(dark);try{root.style.colorScheme=dark?"dark":"light"}catch(e){}},[]),(0,jsx_runtime.jsxs)("header",{className:"relative border-b border-border-1 bg-surface-2 px-6 py-3 text-foreground",children:[(0,jsx_runtime.jsxs)("div",{className:"relative flex flex-wrap items-center justify-between gap-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-1 items-center gap-3",children:[(0,jsx_runtime.jsx)(link_default(),{href:"/cms",className:"rounded-lg border border-border-1 bg-surface-2 px-3 py-2 text-sm font-medium text-foreground transition hover:bg-surface-3",children:t("Home")}),(0,jsx_runtime.jsx)(NavMenu_client,{role,onConfiguratorStartNew,label:String(t("CMS")),variant:"cms"}),shop&&(0,jsx_runtime.jsx)(NavMenu_client,{role,onConfiguratorStartNew,label:String(t("Shop")),variant:"shop"}),(0,jsx_runtime.jsx)(Breadcrumbs_client.A,{}),(0,jsx_runtime.jsx)("div",{className:"hidden sm:flex",children:(0,jsx_runtime.jsx)(ShopSelector.A,{})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[showNewProduct&&(0,jsx_runtime.jsx)(shadcn.$n,{asChild:!0,className:"h-9 rounded-lg bg-emerald-500 px-3 py-2 text-white hover:bg-emerald-400",children:(0,jsx_runtime.jsx)(link_default(),{href:`/cms/shop/${shop}/products/new`,children:t("New product")})}),showNewPage&&(0,jsx_runtime.jsx)(shadcn.$n,{asChild:!0,className:"h-9 rounded-lg bg-sky-500 px-3 py-2 text-white hover:bg-sky-400",children:(0,jsx_runtime.jsx)(link_default(),{href:`/cms/shop/${shop}/pages/new/page`,children:t("New page")})}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 pe-2",role:"group","aria-labelledby":"cms-theme-label",children:[(0,jsx_runtime.jsx)("span",{className:"sr-only",id:"cms-theme-label",children:t("Toggle theme")}),(0,jsx_runtime.jsx)(react_icons_esm.gLX,{"aria-hidden":!0,className:"h-4 w-4 "+(isDark?"text-muted-foreground":"text-foreground")}),(0,jsx_runtime.jsx)(atoms.dO,{"aria-labelledby":"cms-theme-label",checked:isDark,onChange:e=>{const next=e.currentTarget.checked?"dark":"base";try{localStorage.setItem("theme",next)}catch(e){}const root=document.documentElement;root.style.colorScheme="dark"===next?"dark":"light",root.classList.toggle("theme-dark","dark"===next),setIsDark("dark"===next);try{window.dispatchEvent(new CustomEvent("pb:theme-changed"))}catch(e){}}}),(0,jsx_runtime.jsx)(react_icons_esm.rRK,{"aria-hidden":!0,className:"h-4 w-4 "+(isDark?"text-foreground":"text-muted-foreground")})]}),(0,jsx_runtime.jsx)(shadcn.$n,{variant:"outline",className:"h-9 rounded-lg border-border-2 text-foreground hover:bg-surface-3",onClick:()=>router.refresh(),children:t("Refresh")}),(0,jsx_runtime.jsx)(shadcn.$n,{variant:"ghost",className:"h-9 rounded-lg text-foreground hover:bg-muted/10",onClick:()=>(0,react.signOut)({redirect:!1}).then(()=>router.push("/login")),children:t("Sign out")})]})]}),(0,jsx_runtime.jsx)("div",{className:"mt-3 flex flex-wrap items-center gap-3 sm:hidden",children:(0,jsx_runtime.jsx)(shadcn.Zp,{className:"w-full border-border-1 bg-surface-2",children:(0,jsx_runtime.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:(0,jsx_runtime.jsx)(ShopSelector.A,{})})})})]})}NavMenu.__docgenInfo={description:"",methods:[],displayName:"NavMenu",props:{role:{required:!1,tsType:{name:"string"},description:""},onConfiguratorStartNew:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},variant:{required:!1,tsType:{name:"union",raw:'"cms" | "shop"',elements:[{name:"literal",value:'"cms"'},{name:"literal",value:'"shop"'}]},description:"",defaultValue:{value:'"cms"',computed:!1}}}};const TopBar_client=(0,compiled_react.memo)(TopBarInner);TopBarInner.__docgenInfo={description:"",methods:[],displayName:"TopBarInner",props:{role:{required:!1,tsType:{name:"string"},description:""},onConfiguratorStartNew:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""}}};const TopBar_stories={component:TopBar_client,args:{}},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"../../packages/ui/src/components/molecules/Breadcrumbs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),next_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__),_utils_style__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("../../packages/ui/src/utils/style/index.ts")),_atoms_primitives_Inline__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/ui/src/components/atoms/primitives/Inline.tsx");function Breadcrumbs({items,className,...props}){const keyMap=new WeakMap;let auto=0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("nav",{className:(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.cn)("text-xs sm:text-sm",className),...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_primitives_Inline__WEBPACK_IMPORTED_MODULE_4__.c,{gap:1,alignY:"center",children:items.map((item,idx)=>{const last=idx===items.length-1;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_primitives_Inline__WEBPACK_IMPORTED_MODULE_4__.c,{gap:1,alignY:"center",className:"whitespace-nowrap",children:[idx>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{"aria-hidden":"true",children:"/"}),item.href&&!last?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{href:item.href,className:(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.cn)("capitalize hover:underline","text-muted-foreground"),children:item.label}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"capitalize",children:item.label})]},(item=>{if(item.href)return item.href;const fromLabel="string"==typeof item.label||"number"==typeof item.label?String(item.label):void 0;if(fromLabel)return fromLabel;const existing=keyMap.get(item);if(existing)return existing;const k="crumb-"+auto++;return keyMap.set(item,k),k})(item))})})})}Breadcrumbs.displayName="Breadcrumbs";const __WEBPACK_DEFAULT_EXPORT__=Breadcrumbs;Breadcrumbs.__docgenInfo={description:"",methods:[],displayName:"Breadcrumbs",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"BreadcrumbItem"}],raw:"BreadcrumbItem[]"},description:""}}}}}]);