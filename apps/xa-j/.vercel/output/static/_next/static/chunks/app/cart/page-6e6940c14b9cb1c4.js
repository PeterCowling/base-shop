(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4005],{2341:(e,t,r)=>{"use strict";r.d(t,{w:()=>c});var n=r(6586),s=r(7826),l=r(1129);let i={none:"px-0 py-0",narrow:"px-4 py-6",default:"px-4 py-8",wide:"px-6 py-12"},a={constrained:"mx-auto w-full max-w-screen-2xl",full:"w-full"},c=(0,s.forwardRef)((e,t)=>{let{as:r,padding:s="default",width:c="constrained",className:u,...d}=e;return(0,n.jsx)(null!=r?r:"section",{ref:t,className:(0,l.A)(a[c],i[s],u),...d})});c.displayName="Section"},2642:(e,t,r)=>{"use strict";function n(e,t){return t?"".concat(e,":").concat(t):e}function s(e,t){return Object.values(e).reduce((e,r)=>e+(r.sku.id===t?r.qty:0),0)}function l(e,t,r){return Object.entries(e).reduce((e,n)=>{let[s,l]=n;return s===r?e:e+(l.sku.id===t?l.qty:0)},0)}r.d(t,{Oi:()=>n,mh:()=>l,nx:()=>s})},4349:(e,t,r)=>{"use strict";r.d(t,{BI:()=>c,Dn:()=>u.default,zB:()=>m,q2:()=>j,M1:()=>p.QuantityInput});var n=r(6586),s=r(55),l=r(3690),i=r(5937);function a(e){let{items:t,className:r,...a}=e,c=new WeakMap,u=0,d=e=>{if(e.href)return e.href;let t="string"==typeof e.label||"number"==typeof e.label?String(e.label):void 0;if(t)return t;let r=c.get(e);if(r)return r;let n="crumb-".concat(u++);return c.set(e,n),n};return(0,n.jsx)("nav",{className:(0,l.cn)("text-xs sm:text-sm",r),...a,children:(0,n.jsx)(i.c,{gap:1,alignY:"center",children:t.map((e,r)=>{let a=r===t.length-1;return(0,n.jsxs)(i.c,{gap:1,alignY:"center",className:"whitespace-nowrap",children:[r>0&&(0,n.jsx)("span",{"aria-hidden":"true",children:"/"}),e.href&&!a?(0,n.jsx)(s,{href:e.href,className:(0,l.cn)("capitalize hover:underline","text-muted-foreground"),children:e.label}):(0,n.jsx)("span",{className:"capitalize",children:e.label})]},d(e))})})})}a.displayName="Breadcrumbs";let c=a;var u=r(2557);r(2286);var d=r(7826);let o="--color-danger",m=d.forwardRef((e,t)=>{let{label:r,htmlFor:s,error:i,required:a=!1,width:c,height:u,padding:m,margin:f,className:x,children:h,style:j,...p}=e,{classes:y,style:v}=(0,l.A)({width:c,height:u,padding:m,margin:f}),N={...v,...null!=j?j:{}},g=d.Children.toArray(null!=i?i:null).filter(e=>""!==e),b=g.length>0,k=b&&g.every(e=>"string"==typeof e||"number"==typeof e);return(0,n.jsxs)("div",{ref:t,className:(0,l.cn)("flex flex-col gap-1",y,x),style:N,...p,children:[(0,n.jsxs)("label",{htmlFor:s,className:"text-sm font-medium",children:[r,a&&(0,n.jsx)("span",{"aria-hidden":"true",className:"text-danger","data-token":o,children:"*"})]}),h,b&&(0,n.jsx)(k?"p":"div",{className:"text-sm text-danger","data-token":o,children:i})]})});m.displayName="FormField",r(430),r(1505),r(5861),r(5445);var f=r(9388),x=r(9079),h=r(1085);let j=d.forwardRef((e,t)=>{let{price:r,compare:s,currency:i="EUR",className:a,...c}=e,u=(0,h.c3)(),d="number"==typeof s&&s>r,o=d?Math.round(100-r/s*100):0;return(0,n.jsxs)("div",{ref:t,className:(0,l.cn)("flex items-baseline gap-2",a),...c,children:[(0,n.jsx)(f.g,{amount:r,currency:i,className:"font-semibold"}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.g,{amount:s,currency:i,className:"text-muted-foreground text-sm line-through"}),(0,n.jsx)(x.B,{label:u("pricing.discount.badge",{discount:o}),variant:"sale"})]})]})});j.displayName="PriceCluster",r(1290);var p=r(4691),y=r(9029);d.forwardRef((e,t)=>{let{rating:r,count:s,className:i,...a}=e,c=(0,h.c3)(),u=r.toFixed(1);return(0,n.jsxs)("div",{ref:t,className:(0,l.cn)("flex items-center gap-2",i),...a,children:[(0,n.jsx)(y.z,{rating:r}),(0,n.jsxs)("span",{className:"text-sm",children:[u,"number"==typeof s&&(0,n.jsx)("span",{className:"text-muted",children:(()=>{let e=c("ratings.count",{count:s});return e&&"ratings.count"!==e?e:"(".concat(s,")")})()})]})]})}).displayName="RatingSummary",r(5393),d.forwardRef((e,t)=>{let{badges:r,className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-wrap gap-2",s),...i,children:r.map(e=>{var t;return(0,n.jsx)(x.B,{label:e.label,variant:null!=(t=e.variant)?t:"new"},e.label)})})}).displayName="SustainabilityBadgeCluster",r(4958)},5187:(e,t,r)=>{Promise.resolve().then(r.bind(r,6413))},5948:(e,t,r)=>{"use strict";function n(){try{return window.localStorage}catch(e){return null}}function s(e){let t=n();if(!t)return null;try{let r=t.getItem(e);if(!r)return null;return JSON.parse(r)}catch(e){return null}}function l(e,t){let r=n();if(r)try{r.setItem(e,JSON.stringify(t))}catch(e){}}r.d(t,{GF:()=>l,Vh:()=>s})},6413:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(6586),s=r(7826),l=r(55),i=r.n(l),a=r(7689),c=r(2341),u=r(4349),d=r(7722);function o(){let[e,t]=(0,d._)(),r=s.useMemo(()=>Object.entries(e),[e]),l=s.useMemo(()=>r.reduce((e,t)=>{var r;let[,n]=t;return e+n.qty*(null!=(r=n.sku.price)?r:0)},0),[r]);return(0,n.jsxs)("main",{className:"sf-content",children:[(0,n.jsx)(c.w,{padding:"wide",children:(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Cart"})}),(0,n.jsx)(c.w,{padding:"default",children:0===r.length?(0,n.jsxs)("div",{className:"rounded-lg border p-6",children:[(0,n.jsx)("div",{className:"font-medium",children:"Your cart is empty."}),(0,n.jsx)("div",{className:"mt-2 text-sm text-muted-foreground",children:(0,n.jsx)(i(),{href:"/collections/all",className:"underline",children:"Continue shopping"})})]}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"overflow-x-auto rounded-lg border",children:(0,n.jsxs)(a.XI,{children:[(0,n.jsx)(a.A0,{children:(0,n.jsxs)(a.Hj,{children:[(0,n.jsx)(a.nd,{children:"Item"}),(0,n.jsx)(a.nd,{children:"Qty"}),(0,n.jsx)(a.nd,{className:"text-end",children:"Total"}),(0,n.jsx)(a.nd,{})]})}),(0,n.jsx)(a.BF,{children:r.map(e=>{let[r,s]=e;return(0,n.jsxs)(a.Hj,{children:[(0,n.jsx)(a.nA,{children:(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("div",{className:"font-medium",children:s.sku.title}),s.size?(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Size: ",s.size]}):null,(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:(0,n.jsx)(a.gm,{amount:s.sku.price,className:"font-medium"})})]})}),(0,n.jsx)(a.nA,{children:(0,n.jsx)(u.M1,{value:s.qty,min:1,max:s.sku.stock,onChange:e=>{t({type:"setQty",id:r,qty:e})}})}),(0,n.jsx)(a.nA,{className:"text-end",children:(0,n.jsx)(a.gm,{amount:s.qty*s.sku.price,className:"font-semibold"})}),(0,n.jsx)(a.nA,{className:"text-end",children:(0,n.jsx)(a.$n,{variant:"outline",onClick:()=>void t({type:"remove",id:r}),children:"Remove"})})]},r)})})]})}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsxs)("div",{className:"text-lg font-semibold",children:["Subtotal: ",(0,n.jsx)(a.gm,{amount:l})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,n.jsx)(a.$n,{variant:"outline",onClick:()=>void t({type:"clear"}),children:"Clear cart"}),(0,n.jsx)(a.$n,{asChild:!0,children:(0,n.jsx)(i(),{href:"/checkout",children:"Checkout"})})]})]})]})})]})}},7722:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>o,_:()=>m});var n=r(6586),s=r(7826),l=r(2642),i=r(9354),a=r(5948);let c="XA_CART_V1",u=s.createContext(void 0);function d(e,t,r){var n;let s=(0,i.lR)(t.id),a=(0,l.mh)(e,t.id,r);return Math.max(0,(null!=(n=t.stock)?n:0)-s-a)}function o(e){let{children:t}=e,[r,i]=s.useState({});s.useEffect(()=>{let e=function(e){if(!e||"object"!=typeof e)return{};let t={};for(let[r,n]of Object.entries(e)){if(!n||"object"!=typeof n)continue;let e=n.sku,s=n.qty,l=n.size;if(!e||"object"!=typeof e)continue;let i="number"==typeof s?s:Number(s);Number.isFinite(i)&&!(i<=0)&&(t[r]={sku:e,qty:Math.floor(i),size:"string"==typeof l?l:void 0})}return t}((0,a.Vh)(c));Object.keys(e).length&&i(t=>{if(!Object.keys(t).length)return(0,a.GF)(c,e),e;let r={...e,...t};return(0,a.GF)(c,r),r})},[]);let o=s.useCallback(e=>{i(e),(0,a.GF)(c,e)},[]),m=async e=>{switch(e.type){case"add":{var t,n,s;let i=Math.floor(null!=(n=e.qty)?n:1);if(!Number.isFinite(i)||i<=0)return;if(e.sku.sizes.length&&!e.size)throw Error("Size is required");let a=(0,l.Oi)(e.sku.id,e.size),c=null!=(s=null==(t=r[a])?void 0:t.qty)?s:0,u=d(r,e.sku,a),m=Math.min(c+i,u);if(u<=0||m<=c)throw Error("Out of stock");o({...r,[a]:{sku:e.sku,size:e.size,qty:m}});return}case"remove":{let t={...r};delete t[e.id],o(t);return}case"setQty":{let t=r[e.id];if(!t)return;let n=Math.floor(e.qty);if(!Number.isFinite(n)||n<=0){let t={...r};delete t[e.id],o(t);return}let s=Math.min(n,d(r,t.sku,e.id));o({...r,[e.id]:{...t,qty:s}});return}case"clear":return void o({});default:return}};return(0,n.jsx)(u.Provider,{value:[r,m],children:t})}function m(){let e=s.useContext(u);if(!e)throw Error("useCart must be inside CartProvider");return e}},9354:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u,lR:()=>a,xD:()=>c});var n=r(2642),s=r(5948);let l="XA_INVENTORY_SOLD_V1";function i(){var e=(0,s.Vh)(l);if(!e||"object"!=typeof e)return{};let t={};for(let[r,n]of Object.entries(e)){let e="number"==typeof n?n:Number(n);Number.isFinite(e)&&!(e<=0)&&(t[r]=Math.floor(e))}return t}function a(e){var t;return null!=(t=i()[e])?t:0}function c(e,t){var r;if(!Number.isFinite(t)||t<=0)return;let n=i();n[e]=(null!=(r=n[e])?r:0)+Math.floor(t),(0,s.GF)(l,n)}function u(e,t){var r;let s=a(e.id),l=(0,n.nx)(t,e.id);return Math.max(0,(null!=(r=e.stock)?r:0)-s-l)}}},e=>{var t=t=>e(e.s=t);e.O(0,[2827,1584,55,7407,8528,8622,2871,7689,8513,9956,2889,7358],()=>t(5187)),_N_E=e.O()}]);