"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[6741],{"./packages/i18n/src/resolveText.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function resolveText(value,locale,t){if("string"==typeof value)return value;if("key"===(null==value?void 0:value.type))return t(value.key,value.params);if("inline"===(null==value?void 0:value.type)){const chain=function fallbackChain(locale){switch(locale){case"de":return["de","en"];case"it":return["it","en"];default:return["en"]}}(locale);for(const loc of chain){var _value_value;const v=null===(_value_value=value.value)||void 0===_value_value?void 0:_value_value[loc];if("string"==typeof v&&v.length>0)return v}return""}return""}__webpack_require__.d(__webpack_exports__,{W:()=>resolveText})},"./packages/ui/src/components/atoms/primitives/Grid.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>Grid});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_utils_style_cn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");function Grid({cols=2,gap=4,className,...rest}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_utils_style_cn__WEBPACK_IMPORTED_MODULE_1__.$)("grid",`grid-cols-${cols}`,`gap-${gap}`,className),...rest})}Grid.__docgenInfo={description:"",methods:[],displayName:"Grid",props:{cols:{required:!1,tsType:{name:"union",raw:"1 | 2 | 3 | 4 | 5 | 6 | 12",elements:[{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"12"}]},description:"",defaultValue:{value:"2",computed:!1}},gap:{required:!1,tsType:{name:"union",raw:"0 | 1 | 2 | 3 | 4 | 5 | 6 | 8 | 10 | 12",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"8"},{name:"literal",value:"10"},{name:"literal",value:"12"}]},description:"",defaultValue:{value:"4",computed:!1}}}}},"./packages/ui/src/components/atoms/primitives/Inline.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>Inline});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_utils_style_cn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");const Inline=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js").forwardRef(({gap=2,alignY="center",wrap=!0,className,...rest},ref)=>{const alignClass="start"===alignY?"items-start":"center"===alignY?"items-center":"end"===alignY?"items-end":"items-baseline";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_utils_style_cn__WEBPACK_IMPORTED_MODULE_2__.$)("flex",wrap?"flex-wrap":"flex-nowrap",`gap-${gap}`,alignClass,className),...rest})});Inline.displayName="Inline",Inline.__docgenInfo={description:"",methods:[],displayName:"Inline",props:{gap:{required:!1,tsType:{name:"union",raw:"0 | 1 | 2 | 3 | 4 | 5 | 6 | 8 | 10 | 12",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"8"},{name:"literal",value:"10"},{name:"literal",value:"12"}]},description:"",defaultValue:{value:"2",computed:!1}},alignY:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end" | "baseline"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'},{name:"literal",value:'"baseline"'}]},description:"",defaultValue:{value:'"center"',computed:!1}},wrap:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}}},"./packages/ui/src/components/atoms/primitives/Stack.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>Stack});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_utils_style_cn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");const Stack=(0,__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js").forwardRef)(function Stack({gap=3,align="stretch",className,...rest},ref){const alignClass="start"===align?"items-start":"center"===align?"items-center":"end"===align?"items-end":"items-stretch";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_utils_style_cn__WEBPACK_IMPORTED_MODULE_2__.$)("flex flex-col",`gap-${gap}`,alignClass,className),...rest})});Stack.__docgenInfo={description:"",methods:[],displayName:"Stack",props:{gap:{required:!1,tsType:{name:"union",raw:"0 | 1 | 2 | 3 | 4 | 5 | 6 | 8 | 10 | 12",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"8"},{name:"literal",value:"10"},{name:"literal",value:"12"}]},description:"",defaultValue:{value:"3",computed:!1}},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end" | "stretch"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'},{name:"literal",value:'"stretch"'}]},description:"",defaultValue:{value:'"stretch"',computed:!1}}}}},"./packages/ui/src/components/cms/blocks/GuidedSellingSection.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={component:__webpack_require__("./packages/ui/src/components/cms/blocks/GuidedSellingSection.tsx").A,args:{outputMode:"inline"}},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"./packages/ui/src/components/cms/blocks/GuidedSellingSection.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>GuidedSellingSection});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),_acme_platform_core_products_index__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/platform-core/src/products/index.ts"),_organisms_ProductCard__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/components/organisms/ProductCard.tsx"),_acme_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/i18n/src/index.ts"),_atoms_primitives_Stack__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/ui/src/components/atoms/primitives/Stack.tsx"),_atoms_primitives_Inline__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/ui/src/components/atoms/primitives/Inline.tsx"),_atoms_primitives_Grid__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/ui/src/components/atoms/primitives/Grid.tsx");function GuidedSellingSection({title,questions=defaultQuestions,outputMode="inline",collectionBasePath="/collections",className,...rest}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_3__.c3)(),[step,setStep]=react__WEBPACK_IMPORTED_MODULE_1__.useState(0),[answers,setAnswers]=react__WEBPACK_IMPORTED_MODULE_1__.useState({}),q=questions[step],results=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>function filterProducts(all,a){return all.filter(p=>{const intentOk="rent"===a.intent?p.forRental:p.forSale;var _p_id;const colorOk=!a.color||String(null!==(_p_id=p.id)&&void 0!==_p_id?_p_id:"").includes(a.color);return intentOk&&colorOk})}(_acme_platform_core_products_index__WEBPACK_IMPORTED_MODULE_7__.zv,answers),[answers]),done=step>=questions.length,link=`${collectionBasePath}/guided?${new URLSearchParams(answers).toString()}`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("section",{className,...rest,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_primitives_Stack__WEBPACK_IMPORTED_MODULE_4__.B,{className:"mx-auto w-full",gap:6,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-semibold",children:null!=title?title:t("guided.title")}),done?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_primitives_Stack__WEBPACK_IMPORTED_MODULE_4__.B,{gap:4,children:["link"===outputMode?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:link,className:"inline-flex items-center rounded bg-black px-4 min-h-10 min-w-10 text-white",children:t("guided.viewResults")}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_primitives_Grid__WEBPACK_IMPORTED_MODULE_6__.x,{cols:1,gap:4,className:"sm:grid-cols-2 lg:grid-cols-3",children:results.map(p=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_organisms_ProductCard__WEBPACK_IMPORTED_MODULE_2__.A,{product:p},p.id))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>{setStep(0),setAnswers({})},className:"rounded border px-3 inline-flex items-center min-h-10 min-w-10",children:t("guided.startOver")})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_primitives_Stack__WEBPACK_IMPORTED_MODULE_4__.B,{gap:4,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mb-2 font-medium",children:t(q.label)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_primitives_Inline__WEBPACK_IMPORTED_MODULE_5__.c,{wrap:!0,gap:2,children:q.options.map(opt=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",className:["rounded border px-3 inline-flex items-center min-h-10 min-w-10",answers[q.id]===opt.value?"bg-black text-white":"bg-white"].join(" "),onClick:()=>{return qid=q.id,v=opt.value,setAnswers(prev=>({...prev,[qid]:v}));var qid,v},children:t(opt.label)},opt.value))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>setStep(s=>Math.max(0,s-1)),disabled:0===step,className:"rounded border px-3 inline-flex items-center min-h-10 min-w-10 disabled:opacity-50",children:t("guided.back")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>setStep(s=>Math.min(questions.length,s+1)),disabled:!answers[q.id],className:"rounded border px-3 inline-flex items-center min-h-10 min-w-10 disabled:opacity-50",children:t("guided.next")})]})]})]})})}const defaultQuestions=[{id:"intent",label:"guided.intent.label",type:"choice",options:[{value:"buy",label:"guided.intent.buy"},{value:"rent",label:"guided.intent.rent"}]},{id:"color",label:"guided.color.label",type:"choice",options:[{value:"green",label:"guided.color.green"},{value:"sand",label:"guided.color.sand"},{value:"black",label:"guided.color.black"}]}];GuidedSellingSection.__docgenInfo={description:"",methods:[],displayName:"GuidedSellingSection",props:{title:{required:!1,tsType:{name:"string"},description:""},questions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:'{\n  id: string;\n  label: string;\n  type: "choice";\n  options: Array<{ value: string; label: string }>;\n}',signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"type",value:{name:"literal",value:'"choice"',required:!0}},{key:"options",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"Array<{ value: string; label: string }>",required:!0}}]}}],raw:"Question[]"},description:"",defaultValue:{value:'[\n  {\n    id: "intent",\n    label: "guided.intent.label",\n    type: "choice",\n    options: [\n      { value: "buy", label: "guided.intent.buy" },\n      { value: "rent", label: "guided.intent.rent" },\n    ],\n  },\n  {\n    id: "color",\n    label: "guided.color.label",\n    type: "choice",\n    options: [\n      { value: "green", label: "guided.color.green" },\n      { value: "sand", label: "guided.color.sand" },\n      { value: "black", label: "guided.color.black" },\n    ],\n  },\n]',computed:!1}},outputMode:{required:!1,tsType:{name:"union",raw:'"inline" | "link"',elements:[{name:"literal",value:'"inline"'},{name:"literal",value:'"link"'}]},description:"",defaultValue:{value:'"inline"',computed:!1}},collectionBasePath:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"/collections"',computed:!1}}}}},"./packages/ui/src/components/organisms/ProductCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ProductCard});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),next_image__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@storybook+nextjs@8.6.14_@swc+core@1.12.9_esbuild@0.25.5_next@15.3.5_@babel+core@7.28.4_f309bebf97d2c09aa3c164b2abf593ce/node_modules/@storybook/nextjs/dist/images/next-image.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),_acme_platform_core_contexts_CartContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/platform-core/src/contexts/CartContext.tsx"),_utils_style__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/ui/src/utils/style/index.ts"),_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/ui/src/components/atoms/shadcn/index.ts"),_atoms_Price__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/ui/src/components/atoms/Price.tsx"),_acme_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/i18n/src/index.ts"),_i18n_resolveText__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/i18n/src/resolveText.ts");const ProductCard=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(({product,onAddToCart,showImage=!0,showPrice=!0,ctaLabel,padding="p-4",width,height,margin,locale,className,...props},ref)=>{var _product_media;const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_6__.c3)(),{classes,style}=(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.A)({width,height,padding,margin}),media=null===(_product_media=product.media)||void 0===_product_media?void 0:_product_media[0],[,dispatch]=(0,_acme_platform_core_contexts_CartContext__WEBPACK_IMPORTED_MODULE_7__._)();var _media_url,_media_altText,_ref,_media_url1,_product_title;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref,style,className:(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.cn)("flex flex-col gap-3 rounded-lg border",classes,className),...props,children:[showImage&&media&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative aspect-square",children:"image"===media.type?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.A,{src:null!==(_media_url=media.url)&&void 0!==_media_url?_media_url:"",alt:null!==(_ref=null!==(_media_altText=media.altText)&&void 0!==_media_altText?_media_altText:product.title)&&void 0!==_ref?_ref:"",fill:!0,sizes:"(min-width: 640px) 25vw, 50vw",className:"rounded-md object-cover"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("video",{src:null!==(_media_url1=media.url)&&void 0!==_media_url1?_media_url1:"",className:"h-full w-full rounded-md object-cover","data-aspect":"1/1",muted:!0,playsInline:!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-medium",children:null!==(_product_title=product.title)&&void 0!==_product_title?_product_title:""}),showPrice&&null!=product.price&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Price__WEBPACK_IMPORTED_MODULE_5__.g,{amount:product.price,className:"font-semibold"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__.$n,{onClick:()=>{onAddToCart?onAddToCart(product):dispatch({type:"add",sku:product})},children:ctaLabel?"string"==typeof ctaLabel?ctaLabel:"key"===ctaLabel.type?t(ctaLabel.key,ctaLabel.params):"inline"===ctaLabel.type?(0,_i18n_resolveText__WEBPACK_IMPORTED_MODULE_8__.W)(ctaLabel,null!=locale?locale:"en",t):t("Add to cart"):t("Add to cart")})]})});ProductCard.displayName="ProductCard",ProductCard.__docgenInfo={description:"",methods:[],displayName:"ProductCard",props:{product:{required:!0,tsType:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},description:""},onAddToCart:{required:!1,tsType:{name:"signature",type:"function",raw:"(product: SKU) => void",signature:{arguments:[{type:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},name:"product"}],return:{name:"void"}}},description:""},showImage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showPrice:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},ctaLabel:{required:!1,tsType:{name:"TranslatableText"},description:""},padding:{required:!1,tsType:{name:"string"},description:"Override default padding classes.",defaultValue:{value:'"p-4"',computed:!1}},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Optional width"},height:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Optional height"},margin:{required:!1,tsType:{name:"string"},description:"Optional margin classes"},locale:{required:!1,tsType:{name:"Locale"},description:"Optional current locale used for inline values"}}}}}]);