<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brand Discovery Document — Solena</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap" rel="stylesheet" />
</head>
<body>

<script>
// ═══════════════════════════════════════════════════════════════
// BUSINESS CONFIG — to reproduce this document for another
// business, change ONLY the values in this CONFIG object.
// The rendering code below is business-agnostic.
// ═══════════════════════════════════════════════════════════════

const CONFIG = {
  meta: {
    businessCode: "HEAD",
    businessName: "Solena",
    tagline: "Secure wear for busy days.",
    coreClaim: "Secure wear for busy days. Calmer routines. Made to be worn proudly.",
    date: "February 2026",
    stage: "BRAND-02 Complete",
    market: "Italy (primary) → EU → US",
    tamNote: "~17,000 CI users in Italy",
    priceRange: "EUR 12–32",
  },

  colours: {
    primary:       { hsl: "18 52% 52%",  label: "Primary",      role: "Terracotta clay — CTA, headings, hero"       },
    primarySoft:   { hsl: "18 52% 95%",  label: "Primary Soft", role: "Light tint — chips, badges, backgrounds"     },
    primaryHover:  { hsl: "18 52% 46%",  label: "Primary Hover",role: "Darker terracotta on hover"                  },
    accent:        { hsl: "180 22% 44%", label: "Accent",       role: "Dusty seafoam — secondary emphasis, links"   },
    accentSoft:    { hsl: "180 25% 94%", label: "Accent Soft",  role: "Light seafoam tint — ICP cards, tags"        },
    background:    { hsl: "35 20% 97%",  label: "Background",   role: "Warm linen — page background"                },
    text:          { hsl: "18 15% 16%",  label: "Text",         role: "Near-black — body copy, primary labels"      },
    textMuted:     { hsl: "18 8% 45%",   label: "Text Muted",   role: "Warm mid-grey — captions, meta"              },
    border:        { hsl: "18 15% 88%",  label: "Border",       role: "Soft divider — cards, tables, rules"         },
    surface:       { hsl: "0 0% 100%",   label: "Surface",      role: "Pure white — card faces, inputs"             },
  },

  // Which 5 swatches to display in the palette section (key references into colours above)
  paletteDisplay: ["primary", "accent", "background", "text", "primarySoft"],

  font: {
    family: "DM Sans",
    googleUrl: "https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap",
    weights: [
      { weight: 300, label: "Light 300",    sample: "Designed to fit seamlessly into everyday routines." },
      { weight: 400, label: "Regular 400",  sample: "Secure wear for busy days. Calmer routines." },
      { weight: 500, label: "Medium 500",   sample: "Cross-compatible across all major processor families." },
      { weight: 600, label: "SemiBold 600", sample: "Made to be worn proudly." },
      { weight: 700, label: "Bold 700",     sample: "Solena — Your fit, your style." },
    ],
  },

  radius: { md: "0.75rem", lg: "1rem" },

  problem: "Parents and caregivers of children with cochlear implant (CI) sound processors lack a reliable, low-friction system to keep processors secure through normal activity and keep small, mission-critical accessories (spare coil, batteries, pods) organised across daily handovers. Causes drops, near-loss events, and repeated stress.",

  solution: "Cross-compatible textile lifestyle accessory brand for CI processor wearers — soft retention headbands, organiser pouches, and patch packs. Lifestyle-coded, not clinical. Cross-compatible across Cochlear / MED-EL / Advanced Bionics processor families.",

  icps: [
    {
      id: "ICP-A",
      title: "Caregiver",
      description: "Parents of children with CI processors",
      details: "Age 28–45, Italy. Daily problem: morning setup, school handover, sport.",
      buyingFor: ["Secure wear during activity", "Fewer morning-routine battles", "School-safe processor kit"],
    },
    {
      id: "ICP-B",
      title: "Active Wearer",
      description: "Teen and adult CI users",
      details: "Age 16–45, Italy first. More style-aware.",
      buyingFor: ["Stable fit during sport and travel", "Repeatable daily organisation", "Normalised personal style"],
    },
  ],

  forecast: [
    { label: "Net Orders",       value: "~110",     note: "90-day P50"           },
    { label: "Net Revenue",      value: "~EUR 3k",  note: "90-day P50"           },
    { label: "Sessions Target",  value: "≥6,000",   note: "90-day"               },
    { label: "Return Rate",      value: "≤7%",      note: "Target ceiling"       },
    { label: "Blended CAC",      value: "≤EUR 13",  note: "By day 60"            },
  ],

  personality: [
    { positive: "Reassuring",   negative: "Clinical"     },
    { positive: "Practical",    negative: "Aspirational" },
    { positive: "Approachable", negative: "Technical"    },
    { positive: "Inclusive",    negative: "Stigmatising" },
    { positive: "Warm",         negative: "Corporate"    },
  ],

  keyPhrases: [
    { phrase: "Fits your processor",       note: "Compatibility-first; the primary purchase signal"      },
    { phrase: "Made for everyday wear",    note: "Normalises the use case"                               },
    { phrase: "Secure wear for busy days", note: "Core campaign message"                                 },
    { phrase: "Worn proudly",              note: "Inclusive, anti-concealment"                           },
    { phrase: "Your fit, your style",      note: "Personalisation and range cue"                         },
  ],

  wordsToAvoid: [
    { term: "improve hearing / therapy / treatment", reason: "EU MDR regulatory boundary"              },
    { term: "hide / invisible / conceal",            reason: "Conflicts with inclusive positioning"    },
    { term: "fits all processors",                   reason: "Overpromising without compatibility matrix" },
    { term: "essential for implant function",        reason: "EU MDR hard stop"                        },
  ],

  products: [
    { name: "Softband",       status: "Launch hero",       description: "Soft textile retention headband, cross-compatible across CI processor families" },
    { name: "Hardband",       status: "Range extension",   description: "Structured variant for active use and sport" },
    { name: "Organiser Pouch",status: "90-day extension",  description: "Kit-complete storage for spare coil, batteries, and accessories" },
    { name: "Patch Pack",     status: "90-day extension",  description: "Personalisation overlays — style without concealment" },
    { name: "Parts Pods",     status: "Range extension",   description: "Dedicated compartments for mission-critical small parts" },
    { name: "Clip Kit",       status: "Post-safety gate",  description: "Processor tether clips; held pending EN 14682 child-safety review" },
  ],

  namingJourney: {
    baseline: {
      label: "Baseline",
      name: "CochlearFit",
      outcome: "Rejected",
      note: "Too close to Cochlear Ltd (ASX-listed); 'Fit' is generic; can't extend beyond headbands",
    },
    rounds: [
      {
        label: "Round 1",
        count: 8,
        eliminated: 3,
        reason: "Domain taken / parked",
        survivors: ["Tessilo", "Tramilo", "Calafilo", "Filocalma", "Nuvafilo"],
        rejected: ["Nidilo", "Telilo", "Nidela"],
      },
      {
        label: "Round 2",
        count: 24,
        eliminated: 21,
        reason: ".com taken",
        survivors: ["Aluvia", "Solena", "Salvara"],
        rejected: [],
      },
    ],
    selected: {
      name: "Solena",
      rationale: "Warm, bright, Italian-accessible coined name. solena.com confirmed free. Territory B lifestyle/everyday normalisation.",
    },
  },

  nextSteps: [
    { id: 1, action: "TM pre-clearance",               detail: "EUIPO Classes 25 and 10 for Solena"                              },
    { id: 2, action: "Register domains",                detail: "solena.com and solena.it / solena.eu"                            },
    { id: 3, action: "Create theme package",            detail: "packages/themes/solena/ (follow packages/themes/prime/ as template)" },
    { id: 4, action: "DM Sans font loading",            detail: "Confirm in app layout"                                           },
    { id: 5, action: "WTP validation",                  detail: "First-party WTP validation — Italian caregiver cohort"           },
    { id: 6, action: "Compatibility matrix",            detail: "Processor compatibility matrix (Cochlear / MED-EL / Advanced Bionics)" },
  ],
};

// ═══════════════════════════════════════════════════════════════
// RENDERING ENGINE — business-agnostic from here down
// ═══════════════════════════════════════════════════════════════

function hsl(token) {
  return `hsl(${token})`;
}

function injectStyles() {
  const c = CONFIG.colours;
  const r = CONFIG.radius;
  const style = document.createElement("style");
  style.textContent = `
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --color-primary:       hsl(${c.primary.hsl});
      --color-primary-soft:  hsl(${c.primarySoft.hsl});
      --color-primary-hover: hsl(${c.primaryHover.hsl});
      --color-accent:        hsl(${c.accent.hsl});
      --color-accent-soft:   hsl(${c.accentSoft.hsl});
      --color-bg:            hsl(${c.background.hsl});
      --color-text:          hsl(${c.text.hsl});
      --color-text-muted:    hsl(${c.textMuted.hsl});
      --color-border:        hsl(${c.border.hsl});
      --color-surface:       hsl(${c.surface.hsl});
      --radius-md: ${r.md};
      --radius-lg: ${r.lg};
      --font: '${CONFIG.font.family}', system-ui, sans-serif;
      --max-w: 1100px;
      --section-gap: 5rem;
    }

    html {
      font-family: var(--font);
      background: var(--color-bg);
      color: var(--color-text);
      scroll-behavior: smooth;
    }

    body {
      min-height: 100vh;
    }

    /* ── HERO ── */
    .hero {
      background: var(--color-primary);
      color: #fff;
      padding: 6rem 2rem 5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse 80% 60% at 50% 120%, hsl(${c.primaryHover.hsl}) 0%, transparent 70%);
      pointer-events: none;
    }
    .hero-eyebrow {
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      opacity: 0.75;
      margin-bottom: 1.25rem;
    }
    .hero-name {
      font-size: clamp(5rem, 14vw, 10rem);
      font-weight: 700;
      line-height: 0.95;
      letter-spacing: -0.03em;
      margin-bottom: 1.5rem;
    }
    .hero-tagline {
      font-size: clamp(1.1rem, 2.5vw, 1.5rem);
      font-weight: 400;
      font-style: italic;
      opacity: 0.9;
      max-width: 540px;
      margin: 0 auto 2rem;
      line-height: 1.5;
    }
    .hero-meta {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      flex-wrap: wrap;
      opacity: 0.7;
      font-size: 0.8rem;
      font-weight: 500;
      letter-spacing: 0.05em;
    }
    .hero-meta span::before {
      content: '·';
      margin-right: 0.5rem;
      opacity: 0.5;
    }
    .hero-meta span:first-child::before { display: none; }

    /* ── LAYOUT ── */
    .page-body {
      max-width: var(--max-w);
      margin: 0 auto;
      padding: 0 2rem;
    }

    .section {
      padding: var(--section-gap) 0;
      border-bottom: 1px solid var(--color-border);
    }
    .section:last-child { border-bottom: none; }

    .section-label {
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--color-primary);
      margin-bottom: 0.5rem;
    }
    .section-title {
      font-size: clamp(1.6rem, 4vw, 2.4rem);
      font-weight: 700;
      color: var(--color-text);
      margin-bottom: 0.75rem;
      letter-spacing: -0.02em;
      line-height: 1.15;
    }
    .section-subtitle {
      font-size: 1rem;
      color: var(--color-text-muted);
      max-width: 600px;
      line-height: 1.65;
      margin-bottom: 2.5rem;
    }

    /* ── PROBLEM / SOLUTION ── */
    .ps-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
    }
    @media (max-width: 680px) { .ps-grid { grid-template-columns: 1fr; } }

    .ps-card {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: 2rem 1.75rem;
    }
    .ps-card.problem { border-top: 4px solid hsl(${c.textMuted.hsl}); }
    .ps-card.solution { border-top: 4px solid var(--color-primary); }
    .ps-card-label {
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--color-text-muted);
      margin-bottom: 0.75rem;
    }
    .ps-card.solution .ps-card-label { color: var(--color-primary); }
    .ps-card-text {
      font-size: 1rem;
      line-height: 1.75;
      color: var(--color-text);
    }

    /* ── COLOUR PALETTE ── */
    .palette-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 1rem;
    }
    @media (max-width: 800px) {
      .palette-grid { grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 500px) {
      .palette-grid { grid-template-columns: repeat(2, 1fr); }
    }

    .swatch-card {
      border-radius: var(--radius-md);
      overflow: hidden;
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      box-shadow: 0 1px 3px rgba(0,0,0,0.06);
    }
    .swatch-rect {
      height: 90px;
      width: 100%;
    }
    .swatch-info {
      padding: 0.85rem 0.9rem;
    }
    .swatch-name {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 0.2rem;
    }
    .swatch-hsl {
      font-size: 0.7rem;
      font-weight: 400;
      color: var(--color-text-muted);
      font-variant-numeric: tabular-nums;
      margin-bottom: 0.3rem;
    }
    .swatch-role {
      font-size: 0.68rem;
      color: var(--color-text-muted);
      line-height: 1.5;
    }

    /* ── TYPOGRAPHY ── */
    .type-table {
      width: 100%;
      border-collapse: collapse;
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      overflow: hidden;
    }
    .type-table th {
      text-align: left;
      padding: 0.75rem 1.25rem;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--color-text-muted);
      background: var(--color-primary-soft);
      border-bottom: 1px solid var(--color-border);
    }
    .type-table td {
      padding: 1.25rem 1.25rem;
      border-bottom: 1px solid var(--color-border);
      vertical-align: middle;
    }
    .type-table tr:last-child td { border-bottom: none; }
    .type-weight-label {
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--color-text-muted);
      white-space: nowrap;
      padding-right: 1.5rem;
      width: 130px;
    }
    .type-sample {
      font-size: 1.15rem;
      color: var(--color-text);
      line-height: 1.4;
    }

    /* ── PERSONALITY ── */
    .personality-grid {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .personality-row {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      flex-wrap: wrap;
    }
    .pill {
      display: inline-flex;
      align-items: center;
      padding: 0.45rem 1rem;
      border-radius: 999px;
      font-size: 0.85rem;
      font-weight: 600;
      white-space: nowrap;
    }
    .pill-positive {
      background: var(--color-primary);
      color: #fff;
    }
    .pill-negative {
      background: var(--color-primary-soft);
      color: var(--color-text-muted);
      text-decoration: line-through;
      text-decoration-color: hsl(${c.textMuted.hsl});
    }
    .pill-not {
      font-size: 0.7rem;
      font-weight: 500;
      color: var(--color-text-muted);
      letter-spacing: 0.05em;
    }

    /* ── MESSAGING ── */
    .phrases-list {
      display: flex;
      flex-direction: column;
      gap: 0;
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      overflow: hidden;
    }
    .phrase-row {
      display: flex;
      align-items: flex-start;
      gap: 1.25rem;
      padding: 1.2rem 1.5rem;
      border-bottom: 1px solid var(--color-border);
    }
    .phrase-row:last-child { border-bottom: none; }
    .phrase-quote {
      font-size: 1rem;
      font-weight: 600;
      color: var(--color-primary);
      flex: 0 0 auto;
      min-width: 220px;
    }
    .phrase-note {
      font-size: 0.9rem;
      color: var(--color-text-muted);
      line-height: 1.55;
      padding-top: 0.1rem;
    }
    @media (max-width: 680px) {
      .phrase-row { flex-direction: column; gap: 0.3rem; }
      .phrase-quote { min-width: unset; }
    }

    .avoid-list {
      display: flex;
      flex-direction: column;
      gap: 0;
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      overflow: hidden;
      margin-top: 2rem;
    }
    .avoid-row {
      display: flex;
      align-items: flex-start;
      gap: 1.25rem;
      padding: 1.1rem 1.5rem;
      border-bottom: 1px solid var(--color-border);
    }
    .avoid-row:last-child { border-bottom: none; }
    .avoid-icon {
      font-size: 0.9rem;
      margin-top: 0.1rem;
      color: #c0392b;
      flex-shrink: 0;
    }
    .avoid-term {
      font-size: 0.92rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 0.15rem;
    }
    .avoid-reason {
      font-size: 0.82rem;
      color: var(--color-text-muted);
    }

    /* ── ICP CARDS ── */
    .icp-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
    }
    @media (max-width: 680px) { .icp-grid { grid-template-columns: 1fr; } }

    .icp-card {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-left: 4px solid var(--color-accent);
      border-radius: var(--radius-lg);
      padding: 2rem 1.75rem;
    }
    .icp-card:nth-child(2) { border-left-color: var(--color-primary); }
    .icp-id {
      font-size: 0.68rem;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--color-accent);
      margin-bottom: 0.4rem;
    }
    .icp-card:nth-child(2) .icp-id { color: var(--color-primary); }
    .icp-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--color-text);
      margin-bottom: 0.3rem;
    }
    .icp-desc {
      font-size: 0.9rem;
      color: var(--color-text-muted);
      margin-bottom: 0.25rem;
    }
    .icp-details {
      font-size: 0.85rem;
      color: var(--color-text-muted);
      margin-bottom: 1.1rem;
      line-height: 1.55;
    }
    .icp-buying-label {
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--color-text-muted);
      margin-bottom: 0.6rem;
    }
    .icp-buying-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }
    .icp-buying-list li {
      font-size: 0.88rem;
      color: var(--color-text);
      padding-left: 1.1rem;
      position: relative;
      line-height: 1.5;
    }
    .icp-buying-list li::before {
      content: '→';
      position: absolute;
      left: 0;
      color: var(--color-accent);
      font-size: 0.8rem;
    }
    .icp-card:nth-child(2) .icp-buying-list li::before { color: var(--color-primary); }

    /* ── FORECAST STATS ── */
    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 1rem;
    }
    @media (max-width: 900px) { .forecast-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 560px) { .forecast-grid { grid-template-columns: repeat(2, 1fr); } }

    .stat-box {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: 1.5rem 1.25rem;
      text-align: center;
    }
    .stat-value {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--color-primary);
      letter-spacing: -0.03em;
      margin-bottom: 0.25rem;
      line-height: 1;
    }
    .stat-label {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 0.2rem;
    }
    .stat-note {
      font-size: 0.72rem;
      color: var(--color-text-muted);
    }

    /* ── PRODUCTS ── */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.25rem;
    }
    @media (max-width: 760px) { .products-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 500px) { .products-grid { grid-template-columns: 1fr; } }

    .product-card {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: 1.5rem 1.35rem;
      transition: box-shadow 0.15s;
    }
    .product-card:hover {
      box-shadow: 0 4px 16px rgba(0,0,0,0.07);
    }
    .product-status {
      display: inline-flex;
      padding: 0.2rem 0.7rem;
      border-radius: 999px;
      font-size: 0.68rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      margin-bottom: 0.85rem;
    }
    .product-status.launch {
      background: var(--color-primary);
      color: #fff;
    }
    .product-status.extension {
      background: var(--color-accent-soft);
      color: var(--color-accent);
    }
    .product-status.gate {
      background: hsl(${c.border.hsl});
      color: var(--color-text-muted);
    }
    .product-name {
      font-size: 1.05rem;
      font-weight: 700;
      color: var(--color-text);
      margin-bottom: 0.4rem;
    }
    .product-desc {
      font-size: 0.87rem;
      color: var(--color-text-muted);
      line-height: 1.6;
    }

    /* ── NAMING JOURNEY ── */
    .naming-timeline {
      display: flex;
      align-items: flex-start;
      gap: 0;
      overflow-x: auto;
      padding-bottom: 0.5rem;
    }
    .naming-node {
      flex: 1;
      min-width: 170px;
      position: relative;
    }
    .naming-node:not(:last-child)::after {
      content: '';
      position: absolute;
      top: 20px;
      right: -1px;
      width: calc(100% - 140px);
      height: 2px;
      background: var(--color-border);
      z-index: 0;
      left: 140px;
    }
    .naming-bubble {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: 1.1rem 1.1rem;
      position: relative;
      z-index: 1;
      margin-right: 1.5rem;
    }
    .naming-node.selected .naming-bubble {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: #fff;
    }
    .naming-step-label {
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--color-text-muted);
      margin-bottom: 0.35rem;
    }
    .naming-node.selected .naming-step-label { color: rgba(255,255,255,0.75); }
    .naming-step-name {
      font-size: 1rem;
      font-weight: 700;
      color: var(--color-text);
      margin-bottom: 0.3rem;
    }
    .naming-node.selected .naming-step-name { color: #fff; }
    .naming-step-outcome {
      font-size: 0.72rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }
    .naming-step-outcome.rejected { color: #c0392b; }
    .naming-step-outcome.selected-outcome { color: rgba(255,255,255,0.9); }
    .naming-step-note {
      font-size: 0.75rem;
      color: var(--color-text-muted);
      line-height: 1.5;
    }
    .naming-node.selected .naming-step-note { color: rgba(255,255,255,0.8); }
    .naming-survivors {
      margin-top: 0.5rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.3rem;
    }
    .naming-tag {
      font-size: 0.68rem;
      font-weight: 500;
      padding: 0.18rem 0.55rem;
      border-radius: 999px;
      background: var(--color-primary-soft);
      color: var(--color-primary);
    }

    /* ── NEXT STEPS ── */
    .next-steps-list {
      display: flex;
      flex-direction: column;
      gap: 0;
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      overflow: hidden;
    }
    .next-step-row {
      display: flex;
      align-items: flex-start;
      gap: 1.25rem;
      padding: 1.2rem 1.5rem;
      border-bottom: 1px solid var(--color-border);
    }
    .next-step-row:last-child { border-bottom: none; }
    .step-num {
      width: 1.8rem;
      height: 1.8rem;
      border-radius: 50%;
      background: var(--color-primary);
      color: #fff;
      font-size: 0.78rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 0.05rem;
    }
    .step-action {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 0.2rem;
    }
    .step-detail {
      font-size: 0.85rem;
      color: var(--color-text-muted);
      line-height: 1.55;
    }

    /* ── FOOTER ── */
    .doc-footer {
      background: var(--color-primary);
      color: rgba(255,255,255,0.85);
      padding: 2.5rem 2rem;
      text-align: center;
      font-size: 0.82rem;
      line-height: 1.7;
    }
    .doc-footer strong { color: #fff; }

    /* ── UTILITIES ── */
    .market-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--color-accent-soft);
      color: var(--color-accent);
      padding: 0.35rem 0.9rem;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 600;
      margin-bottom: 2rem;
    }

    .divider {
      height: 1px;
      background: var(--color-border);
      margin: 0;
    }

    .claim-block {
      background: var(--color-primary-soft);
      border-left: 4px solid var(--color-primary);
      border-radius: 0 var(--radius-md) var(--radius-md) 0;
      padding: 1.25rem 1.5rem;
      font-size: 1.05rem;
      font-weight: 500;
      color: var(--color-text);
      font-style: italic;
      line-height: 1.65;
      margin-bottom: 2rem;
    }

    .two-col-label {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .two-col-label .sub-label {
      font-size: 0.8rem;
      color: var(--color-text-muted);
    }
  `;
  document.head.appendChild(style);
}

function renderHero() {
  const m = CONFIG.meta;
  return `
    <header class="hero">
      <div class="hero-eyebrow">Brand Discovery Document · ${m.businessCode} · ${m.stage}</div>
      <div class="hero-name">${m.businessName}</div>
      <div class="hero-tagline">${m.tagline}</div>
      <div class="hero-meta">
        <span>${m.date}</span>
        <span>${m.market}</span>
        <span>${m.priceRange}</span>
        <span>${m.tamNote}</span>
      </div>
    </header>
  `;
}

function renderProblemSolution() {
  return `
    <section class="section">
      <div class="section-label">Foundation</div>
      <div class="section-title">Problem &amp; Solution</div>
      <div class="claim-block">"${CONFIG.meta.coreClaim}"</div>
      <div class="ps-grid">
        <div class="ps-card problem">
          <div class="ps-card-label">The Problem</div>
          <p class="ps-card-text">${CONFIG.problem}</p>
        </div>
        <div class="ps-card solution">
          <div class="ps-card-label">The Solution</div>
          <p class="ps-card-text">${CONFIG.solution}</p>
        </div>
      </div>
    </section>
  `;
}

function renderPalette() {
  const colours = CONFIG.colours;
  const swatches = CONFIG.paletteDisplay.map(key => {
    const c = colours[key];
    return `
      <div class="swatch-card">
        <div class="swatch-rect" style="background: hsl(${c.hsl});"></div>
        <div class="swatch-info">
          <div class="swatch-name">${c.label}</div>
          <div class="swatch-hsl">hsl(${c.hsl})</div>
          <div class="swatch-role">${c.role}</div>
        </div>
      </div>
    `;
  }).join('');

  return `
    <section class="section">
      <div class="section-label">Visual Identity</div>
      <div class="section-title">Colour Palette</div>
      <p class="section-subtitle">Five core tokens define the brand's visual register — warm and grounded without being medical.</p>
      <div class="palette-grid">
        ${swatches}
      </div>
    </section>
  `;
}

function renderTypography() {
  const rows = CONFIG.font.weights.map(w => `
    <tr>
      <td class="type-weight-label">${w.label}</td>
      <td class="type-sample" style="font-weight: ${w.weight}; font-family: '${CONFIG.font.family}', sans-serif;">${w.sample}</td>
    </tr>
  `).join('');

  return `
    <section class="section">
      <div class="section-label">Visual Identity</div>
      <div class="section-title">Typography — ${CONFIG.font.family}</div>
      <p class="section-subtitle">A single variable sans-serif used across all weights. Clean, humanist, and highly legible at small sizes.</p>
      <table class="type-table">
        <thead>
          <tr>
            <th>Weight</th>
            <th>Specimen</th>
          </tr>
        </thead>
        <tbody>
          ${rows}
        </tbody>
      </table>
    </section>
  `;
}

function renderPersonality() {
  const rows = CONFIG.personality.map(p => `
    <div class="personality-row">
      <span class="pill pill-positive">${p.positive}</span>
      <span class="pill-not">not</span>
      <span class="pill pill-negative">${p.negative}</span>
    </div>
  `).join('');

  return `
    <section class="section">
      <div class="section-label">Brand Character</div>
      <div class="section-title">Personality Pairs</div>
      <p class="section-subtitle">Five tension pairs define what Solena is — and what it deliberately refuses to become.</p>
      <div class="personality-grid">
        ${rows}
      </div>
    </section>
  `;
}

function renderIcps() {
  const cards = CONFIG.icps.map(icp => `
    <div class="icp-card">
      <div class="icp-id">${icp.id}</div>
      <div class="icp-title">${icp.title}</div>
      <div class="icp-desc">${icp.description}</div>
      <div class="icp-details">${icp.details}</div>
      <div class="icp-buying-label">Buying for</div>
      <ul class="icp-buying-list">
        ${icp.buyingFor.map(b => `<li>${b}</li>`).join('')}
      </ul>
    </div>
  `).join('');

  return `
    <section class="section">
      <div class="section-label">Audience</div>
      <div class="section-title">Ideal Customer Profiles</div>
      <p class="section-subtitle">Two primary profiles with distinct drivers. ICP-A owns the purchase journey today; ICP-B grows with the brand.</p>
      <div class="icp-grid">
        ${cards}
      </div>
    </section>
  `;
}

function renderForecast() {
  const stats = CONFIG.forecast.map(s => `
    <div class="stat-box">
      <div class="stat-value">${s.value}</div>
      <div class="stat-label">${s.label}</div>
      <div class="stat-note">${s.note}</div>
    </div>
  `).join('');

  return `
    <section class="section">
      <div class="section-label">Performance</div>
      <div class="section-title">90-Day Launch Forecast</div>
      <p class="section-subtitle">P50 targets for the initial 90-day window. Based on cohort size and comparable niche textile launches.</p>
      <div class="forecast-grid">
        ${stats}
      </div>
    </section>
  `;
}

function renderMessaging() {
  const phrases = CONFIG.keyPhrases.map(p => `
    <div class="phrase-row">
      <div class="phrase-quote">"${p.phrase}"</div>
      <div class="phrase-note">${p.note}</div>
    </div>
  `).join('');

  const avoids = CONFIG.wordsToAvoid.map(a => `
    <div class="avoid-row">
      <div class="avoid-icon">✕</div>
      <div>
        <div class="avoid-term">"${a.term}"</div>
        <div class="avoid-reason">${a.reason}</div>
      </div>
    </div>
  `).join('');

  return `
    <section class="section">
      <div class="section-label">Messaging</div>
      <div class="section-title">Key Phrases &amp; Language Rules</div>
      <p class="section-subtitle">Five anchor phrases for all copy. Four hard stops that must never appear in customer-facing text.</p>
      <div class="two-col-label">
        <span style="font-size:0.75rem;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;color:var(--color-text-muted);">Use these</span>
      </div>
      <div class="phrases-list">
        ${phrases}
      </div>
      <div class="two-col-label" style="margin-top:2rem;">
        <span style="font-size:0.75rem;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;color:#c0392b;">Never use</span>
      </div>
      <div class="avoid-list">
        ${avoids}
      </div>
    </section>
  `;
}

function productStatusClass(status) {
  if (status === "Launch hero") return "launch";
  if (status.includes("safety gate")) return "gate";
  return "extension";
}

function renderProducts() {
  const cards = CONFIG.products.map(p => `
    <div class="product-card">
      <div class="product-status ${productStatusClass(p.status)}">${p.status}</div>
      <div class="product-name">${p.name}</div>
      <div class="product-desc">${p.description}</div>
    </div>
  `).join('');

  return `
    <section class="section">
      <div class="section-label">Product Range</div>
      <div class="section-title">Product Lineup</div>
      <p class="section-subtitle">Six products across launch, extension, and safety-gate phases. Softband anchors the initial offer.</p>
      <div class="products-grid">
        ${cards}
      </div>
    </section>
  `;
}

function renderNamingJourney() {
  const nj = CONFIG.namingJourney;

  const nodes = [
    // Baseline
    `<div class="naming-node">
      <div class="naming-bubble">
        <div class="naming-step-label">${nj.baseline.label}</div>
        <div class="naming-step-name">${nj.baseline.name}</div>
        <div class="naming-step-outcome rejected">${nj.baseline.outcome}</div>
        <div class="naming-step-note">${nj.baseline.note}</div>
      </div>
    </div>`,
    // Round 1
    `<div class="naming-node">
      <div class="naming-bubble">
        <div class="naming-step-label">${nj.rounds[0].label} · ${nj.rounds[0].count} names</div>
        <div class="naming-step-name">${nj.rounds[0].eliminated} eliminated</div>
        <div class="naming-step-outcome rejected">${nj.rounds[0].reason}</div>
        <div class="naming-step-note">${nj.rounds[0].survivors.length} survived</div>
        <div class="naming-survivors">
          ${nj.rounds[0].survivors.map(s => `<span class="naming-tag">${s}</span>`).join('')}
        </div>
      </div>
    </div>`,
    // Round 2
    `<div class="naming-node">
      <div class="naming-bubble">
        <div class="naming-step-label">${nj.rounds[1].label} · ${nj.rounds[1].count} names</div>
        <div class="naming-step-name">${nj.rounds[1].eliminated} eliminated</div>
        <div class="naming-step-outcome rejected">${nj.rounds[1].reason}</div>
        <div class="naming-step-note">${nj.rounds[1].survivors.length} passed</div>
        <div class="naming-survivors">
          ${nj.rounds[1].survivors.map(s => `<span class="naming-tag">${s}</span>`).join('')}
        </div>
      </div>
    </div>`,
    // Selected
    `<div class="naming-node selected">
      <div class="naming-bubble">
        <div class="naming-step-label">Selected</div>
        <div class="naming-step-name">${nj.selected.name} ✓</div>
        <div class="naming-step-outcome selected-outcome">Confirmed</div>
        <div class="naming-step-note">${nj.selected.rationale}</div>
      </div>
    </div>`,
  ];

  return `
    <section class="section">
      <div class="section-label">Naming</div>
      <div class="section-title">Naming Journey</div>
      <p class="section-subtitle">From rejected baseline through two systematic research rounds to a confirmed, ownable name with domain availability.</p>
      <div class="naming-timeline">
        ${nodes.join('')}
      </div>
    </section>
  `;
}

function renderNextSteps() {
  const rows = CONFIG.nextSteps.map(s => `
    <div class="next-step-row">
      <div class="step-num">${s.id}</div>
      <div>
        <div class="step-action">${s.action}</div>
        <div class="step-detail">${s.detail}</div>
      </div>
    </div>
  `).join('');

  return `
    <section class="section">
      <div class="section-label">Execution</div>
      <div class="section-title">Next Steps</div>
      <p class="section-subtitle">Six actions required to move from BRAND-02 Complete to launch-ready state.</p>
      <div class="next-steps-list">
        ${rows}
      </div>
    </section>
  `;
}

function renderFooter() {
  const m = CONFIG.meta;
  return `
    <footer class="doc-footer">
      <strong>${m.businessName}</strong> · Brand Discovery Document · ${m.stage}<br/>
      ${m.date} · Business code: ${m.businessCode} · Market: ${m.market}<br/>
      <span style="opacity:0.6;font-size:0.75rem;">Generated by Base-Shop Business OS · Confidential</span>
    </footer>
  `;
}

function render() {
  injectStyles();

  const app = document.getElementById("app");
  app.innerHTML = `
    ${renderHero()}
    <div class="page-body">
      ${renderProblemSolution()}
      ${renderPalette()}
      ${renderTypography()}
      ${renderPersonality()}
      ${renderIcps()}
      ${renderForecast()}
      ${renderMessaging()}
      ${renderProducts()}
      ${renderNamingJourney()}
      ${renderNextSteps()}
    </div>
    ${renderFooter()}
  `;
}

document.addEventListener("DOMContentLoaded", render);
</script>

<div id="app"></div>

</body>
</html>
