"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[6260],{"./packages/platform-core/src/contexts/ThemeContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DP:()=>useTheme,NP:()=>ThemeProvider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js");const ThemeContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(void 0);function getInitialTheme(){const stored=function getSavedTheme(){try{return window.localStorage.getItem("theme")}catch(e){return null}}();return stored||"system"}function ThemeProvider({children}){const[theme,setTheme]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(getInitialTheme),[systemTheme,setSystemTheme]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function getSystemTheme(){try{return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"base"}catch(e){return"base"}}());return(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(()=>{const root=document.documentElement;root.classList.remove("theme-dark","theme-brandx");const applied="system"===theme?systemTheme:theme;root.style.colorScheme="dark"===applied?"dark":"light","dark"===applied&&root.classList.add("theme-dark"),"brandx"===applied&&root.classList.add("theme-brandx");try{window.localStorage.setItem("theme",theme)}catch(e){}},[theme,systemTheme]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{if("system"!==theme)return;let mq=null;const update=e=>setSystemTheme(e.matches?"dark":"base");try{return mq=window.matchMedia("(prefers-color-scheme: dark)"),update(mq),mq.addEventListener("change",update),()=>null==mq?void 0:mq.removeEventListener("change",update)}catch(e){setSystemTheme("base")}},[theme]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{const handler=e=>{"theme"===e.key&&e.newValue&&setTheme(e.newValue)};return window.addEventListener("storage",handler),()=>{window.removeEventListener("storage",handler)}},[setTheme]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeContext.Provider,{value:{theme,setTheme},children})}function useTheme(){const ctx=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ThemeContext);if(!ctx)throw new Error("useTheme must be inside ThemeProvider");return ctx}ThemeProvider.__docgenInfo={description:"",methods:[],displayName:"ThemeProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}}},"./packages/ui/src/components/ThemeToggle.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_ThemeToggle__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/ui/src/components/ThemeToggle.tsx"),_platform_core_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/platform-core/src/contexts/ThemeContext.tsx");const __WEBPACK_DEFAULT_EXPORT__={component:_ThemeToggle__WEBPACK_IMPORTED_MODULE_1__.A,tags:["autodocs"],parameters:{docs:{description:{component:"Theme toggle with a minimal Storybook-only ThemeContext stub. Click to cycle between light, dark, and system."}}},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_platform_core_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.NP,{initial:"base",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})]},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"./packages/ui/src/components/ThemeToggle.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ThemeToggle});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-icons@1.3.2_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),_platform_core_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/platform-core/src/contexts/ThemeContext.tsx");const t=s=>s,themes=["base","dark","system"],labels={base:"Light",dark:"Dark",system:"System",brandx:"BrandX"},icons={base:_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_1__.gLX,dark:_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_1__.rRK,system:_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_1__.eZO,brandx:_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_1__.gLX};function ThemeToggle(){const{theme,setTheme}=(0,_platform_core_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.DP)(),current=theme,next=themes[(themes.indexOf(current)+1)%themes.length],Icon=icons[current],toggleTheme=()=>{setTheme(next)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:toggleTheme,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),toggleTheme())},"aria-label":`Switch to ${labels[next]} theme`,className:"p-2 min-h-10 min-w-10",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{"aria-live":"polite",className:"sr-only",children:t(`${labels[current]} theme selected`)})]})}ThemeToggle.__docgenInfo={description:"",methods:[],displayName:"ThemeToggle"}}}]);