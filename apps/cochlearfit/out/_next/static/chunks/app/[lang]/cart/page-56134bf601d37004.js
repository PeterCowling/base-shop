(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[158],{905:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(6586),s=r(7826),i=r(65),n=r(7862);let c=s.memo(function(e){let{amount:t,currency:r}=e,c=(0,i.Y)(),o=(0,s.useMemo)(()=>{var e;return e=(0,n.Tl)(c),new Intl.NumberFormat(e,{style:"currency",currency:r,currencyDisplay:"narrowSymbol"}).format(t/100)},[t,r,c]);return(0,a.jsx)("span",{children:o})})},1037:(e,t,r)=>{"use strict";r.d(t,{Lc:()=>s,Rw:()=>i});var a=r(7862);function s(e,t){let r=function(e){let t=e.split("/").filter(Boolean);return 0===t.length?"/":a.YZ.includes(t[0])?"/".concat(t.slice(1).join("/"))||0:e}(e);return"/"===r?"/".concat(t):"/".concat(t).concat(r)}function i(e,t){return s(e.startsWith("/")?e:"/".concat(e),t)}},1880:(e,t,r)=>{"use strict";r.d(t,{uP:()=>m,e:()=>u,jo:()=>p,n5:()=>d,d$:()=>c,_s:()=>o,P5:()=>l});let a=[{key:"sand",label:"Sand",hex:"hsl(var(--color-sand))"},{key:"ocean",label:"Ocean",hex:"hsl(var(--color-ocean))"},{key:"berry",label:"Berry",hex:"hsl(var(--color-berry))"}],s=[{key:"kids",label:"Kids"},{key:"adult",label:"Adult"}],i=(e,t)=>s.flatMap(r=>a.map(a=>({id:"".concat(e,"-").concat(r.key,"-").concat(a.key),size:r.key,color:a.key,colorLabel:a.label,colorHex:a.hex,price:t[r.key],currency:"USD",stripePriceId:"price_".concat(e,"_").concat(r.key,"_").concat(a.key),inStock:!0}))),n=[{id:"cochlearfit-classic",slug:"classic",name:"product.classic.name",style:"product.classic.style",shortDescription:"product.classic.shortDescription",longDescription:"product.classic.longDescription",featureBullets:["product.classic.feature1","product.classic.feature2","product.classic.feature3"],materials:["product.classic.material1","product.classic.material2"],careInstructions:["product.classic.care1","product.classic.care2","product.classic.care3"],compatibilityNotes:["product.classic.compatibility1","product.classic.compatibility2","product.classic.compatibility3"],images:[{src:"/images/classic-hero.svg",alt:"product.classic.image1Alt",width:820,height:520},{src:"/images/classic-detail.svg",alt:"product.classic.image2Alt",width:820,height:520}],variants:i("classic",{kids:3400,adult:3800})},{id:"cochlearfit-sport",slug:"sport",name:"product.sport.name",style:"product.sport.style",shortDescription:"product.sport.shortDescription",longDescription:"product.sport.longDescription",featureBullets:["product.sport.feature1","product.sport.feature2","product.sport.feature3"],materials:["product.sport.material1","product.sport.material2"],careInstructions:["product.sport.care1","product.sport.care2","product.sport.care3"],compatibilityNotes:["product.sport.compatibility1","product.sport.compatibility2","product.sport.compatibility3"],images:[{src:"/images/sport-hero.svg",alt:"product.sport.image1Alt",width:820,height:520},{src:"/images/sport-detail.svg",alt:"product.sport.image2Alt",width:820,height:520}],variants:i("sport",{kids:3600,adult:4e3})}];function c(){return n}function o(e){for(let t of n){let r=t.variants.find(t=>t.id===e);if(r)return r}}function l(e,t,r){return e.variants.find(e=>e.size===t&&e.color===r)}function d(e){var t;let r=e.variants[0];if(!r)throw Error("Product has no variants");return null!=(t=e.variants.find(e=>e.inStock))?t:r}function u(e){let t=new Set;for(let r of e.variants)t.add(r.size);return s.map(e=>e.key).filter(e=>t.has(e))}function m(e){let t=new Set;for(let r of e.variants)t.add(r.color);return a.map(e=>e.key).filter(e=>t.has(e))}function p(e){var t,r;return null!=(r=null==(t=a.find(t=>t.key===e))?void 0:t.hex)?r:"hsl(var(--color-fg))"}},2308:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(6586),s=r(7826),i=r(7718),n=r(2675);let c=s.memo(function(e){let{quantity:t,onChange:r,min:c=i.yY,max:o=i._x,label:l}=e,d=(0,s.useMemo)(()=>t>c,[t,c]),u=(0,s.useMemo)(()=>t<o,[t,o]),m=(0,s.useMemo)(()=>"".concat(l," -"),[l]),p=(0,s.useMemo)(()=>"".concat(l," +"),[l]),f=(0,s.useCallback)(()=>{d&&r(t-1)},[d,r,t]),y=(0,s.useCallback)(()=>{u&&r(t+1)},[u,r,t]);return(0,a.jsxs)(n.A,{className:"items-center gap-2","aria-label":l,children:[(0,a.jsx)("button",{type:"button",onClick:f,disabled:!d,"aria-label":m,className:"size-12 rounded-full border border-border-1 text-lg font-semibold text-foreground transition hover:border-primary/60 disabled:opacity-40",children:"-"}),(0,a.jsx)("div",{className:"min-w-8 text-center text-sm font-semibold",children:t}),(0,a.jsx)("button",{type:"button",onClick:y,disabled:!u,"aria-label":p,className:"size-12 rounded-full border border-border-1 text-lg font-semibold text-foreground transition hover:border-primary/60 disabled:opacity-40",children:"+"})]})})},2675:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(6586);let s=r(7826).memo(function(e){let{className:t,...r}=e,s=["flex",t].filter(Boolean).join(" ");return(0,a.jsx)("div",{className:s,...r})})},5098:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var a=r(6586),s=r(7826),i=r(55),n=r.n(i),c=r(5876),o=r(6024),l=r(6233),d=r(2308),u=r(905),m=r(6662);let p=s.memo(function(e){let{item:t,product:r,variant:i}=e,n=(0,c.c3)(),{setQuantity:l,removeItem:p}=(0,o._)(),f=(0,s.useCallback)(e=>{l(t.variantId,e)},[t.variantId,l]),y=(0,s.useCallback)(()=>{p(t.variantId)},[t.variantId,p]),x=(0,s.useMemo)(()=>i.price*t.quantity,[t.quantity,i.price]);return(0,a.jsxs)("div",{className:"surface rounded-3xl border border-border-1 p-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"font-display text-lg font-semibold",children:n(r.name)}),(0,a.jsxs)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:[n("size.".concat(i.size))," / ",n("color.".concat(i.color))]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:n(r.shortDescription)})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-4",children:[(0,a.jsx)(d.A,{quantity:t.quantity,onChange:f,label:n("cart.quantity")}),(0,a.jsxs)("div",{className:"text-end",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-widest text-muted-foreground",children:n("cart.lineTotal")}),(0,a.jsx)("div",{className:"text-base font-semibold",children:(0,a.jsx)(u.A,{amount:x,currency:i.currency})})]})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(m.A,{type:"button",variant:"outline",onClick:y,children:n("cart.remove")})})]})});var f=r(65),y=r(1037);let x=s.memo(function(){let e=(0,c.c3)(),t=(0,f.Y)(),{subtotal:r,itemCount:i,currency:l}=(0,o._)(),d=(0,s.useMemo)(()=>(0,y.Lc)("/checkout",t),[t]),m=(0,s.useCallback)(e=>{0===i&&e.preventDefault()},[i]);return(0,a.jsxs)("div",{className:"surface rounded-3xl border border-border-1 p-5",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:e("cart.summary")}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e("cart.items")}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:i})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e("cart.subtotal")}),(0,a.jsx)("span",{className:"text-base font-semibold",children:(0,a.jsx)(u.A,{amount:r,currency:l})})]})]}),(0,a.jsx)(n(),{href:d,onClick:m,tabIndex:0===i?-1:0,className:(0===i?["mt-4","inline-flex","min-h-12","w-full","items-center","justify-center","rounded-full","bg-muted/20","text-sm","font-semibold","text-muted-foreground"]:["mt-4","inline-flex","min-h-12","w-full","items-center","justify-center","rounded-full","bg-primary","text-sm","font-semibold","text-primary-foreground","transition","hover:bg-accent","focus-visible:focus-ring"]).join(" "),"aria-disabled":0===i,children:e("cart.checkout")})]})}),b=s.memo(function(){let e=(0,c.c3)(),t=(0,f.Y)(),{items:r}=(0,o._)(),i=(0,s.useMemo)(()=>(0,l.$)(r),[r]),d=(0,s.useMemo)(()=>(0,y.Lc)("/shop",t),[t]);return 0===r.length?(0,a.jsxs)("div",{className:"surface animate-fade-up rounded-3xl border border-border-1 p-6 text-center",children:[(0,a.jsx)("h2",{className:"font-display text-2xl font-semibold",children:e("cart.emptyTitle")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:e("cart.emptyBody")}),(0,a.jsx)(n(),{href:d,className:"mt-6 inline-flex min-h-12 items-center justify-center rounded-full bg-primary px-5 text-sm font-semibold text-primary-foreground transition hover:bg-accent focus-visible:focus-ring",children:e("cart.emptyCta")})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,a.jsx)(p,{item:e.item,product:e.product,variant:e.variant},e.item.variantId))}),(0,a.jsx)(x,{})]})})},6024:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>f,_:()=>y});var a=r(6586),s=r(7826),i=r(7718);let n={items:[],updatedAt:0},c=e=>({items:e,updatedAt:Date.now()}),o=e=>e.map(e=>({variantId:e.variantId,quantity:(0,i.pE)(e.quantity)})).filter(e=>e.variantId&&e.quantity>=i.yY);function l(e,t){switch(t.type){case"hydrate":return c(o(t.payload));case"add":{let{variantId:r,quantity:a}=t.payload,s=[...e.items],n=s.findIndex(e=>e.variantId===r),o=(0,i.pE)(a);if(n>=0){let e=s[n];if(!e)return c(s);s[n]={variantId:e.variantId,quantity:(0,i.pE)(e.quantity+o)}}else s.push({variantId:r,quantity:o});return c(s)}case"remove":return c(e.items.filter(e=>e.variantId!==t.payload.variantId));case"setQuantity":return c(o(e.items.map(e=>e.variantId!==t.payload.variantId?e:{...e,quantity:(0,i.pE)(t.payload.quantity)})));case"clear":return c([]);default:return e}}let d="cochlearfit:cart",u=e=>!!e&&"object"==typeof e&&"string"==typeof e.variantId&&"number"==typeof e.quantity&&e.quantity>=i.yY;var m=r(6233);let p=(0,s.createContext)(null);function f(e){let{children:t}=e,[r,c]=(0,s.useReducer)(l,n),o=(0,s.useMemo)(()=>(0,m.m)(r),[r]),f=(0,s.useCallback)((e,t)=>{c({type:"add",payload:{variantId:e,quantity:t}})},[]),y=(0,s.useCallback)(e=>{c({type:"remove",payload:{variantId:e}})},[]),x=(0,s.useCallback)((e,t)=>{c({type:"setQuantity",payload:{variantId:e,quantity:t}})},[]),b=(0,s.useCallback)(()=>{c({type:"clear"})},[]),h=(0,s.useCallback)(()=>{let e=function(){let e=window.localStorage.getItem(d);if(!e)return null;try{let t=JSON.parse(e);if(!t||1!==t.version||!Array.isArray(t.items))return null;return t.items.filter(u).map(e=>({variantId:e.variantId,quantity:(0,i.pE)(e.quantity)}))}catch(e){return null}}();e&&e.length>0&&c({type:"hydrate",payload:e})},[]);(0,s.useEffect)(()=>{h()},[h]),(0,s.useEffect)(()=>{let e={version:1,items:r.items.map(e=>({variantId:e.variantId,quantity:(0,i.pE)(e.quantity)}))};window.localStorage.setItem(d,JSON.stringify(e))},[r.items]);let v=(0,s.useMemo)(()=>({items:r.items,itemCount:o.itemCount,subtotal:o.subtotal,currency:o.currency,addItem:f,removeItem:y,setQuantity:x,clear:b}),[f,b,y,x,r.items,o]);return(0,a.jsx)(p.Provider,{value:v,children:t})}function y(){let e=(0,s.useContext)(p);if(!e)throw Error("useCart must be used within CartProvider");return e}},6233:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,m:()=>s});var a=r(1880);function s(e){let t=0,r=0,s="USD";for(let i of e.items){let e=(0,a._s)(i.variantId);e&&(t+=i.quantity,r+=i.quantity*e.price,s=e.currency)}return{itemCount:t,subtotal:r,currency:s}}function i(e){let t=(0,a.d$)(),r=new Map;for(let e of t)for(let t of e.variants)r.set(t.id,{product:e,variant:t});return e.flatMap(e=>{let t=r.get(e.variantId);return t?[{item:e,product:t.product,variant:t.variant}]:[]})}},6662:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(6586),s=r(7826);let i=s.memo(function(e){let{variant:t="primary",className:r,...i}=e,n=(0,s.useMemo)(()=>["inline-flex","min-h-12","items-center","justify-center","rounded-full","px-5","text-sm","font-semibold","tracking-wide","transition","focus-visible:focus-ring","disabled:cursor-not-allowed","disabled:opacity-60",...{primary:["bg-primary","text-primary-foreground","hover:bg-accent"],outline:["border","border-border-1","text-foreground","hover:border-primary/70","hover:text-accent"],ghost:["text-foreground","hover:text-accent"]}[t],r].filter(Boolean).join(" "),[r,t]);return(0,a.jsx)("button",{...i,className:n})})},7718:(e,t,r)=>{"use strict";r.d(t,{_x:()=>s,pE:()=>i,yY:()=>a});let a=1,s=10;function i(e){return Number.isNaN(e)||e<a?a:e>s?s:Math.floor(e)}},9383:(e,t,r)=>{Promise.resolve().then(r.bind(r,5098))}},e=>{var t=t=>e(e.s=t);e.O(0,[106,55,132,956,889,358],()=>t(9383)),_N_E=e.O()}]);