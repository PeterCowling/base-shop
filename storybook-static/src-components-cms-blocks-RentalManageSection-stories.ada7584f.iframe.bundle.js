"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[2808],{"./packages/ui/src/components/cms/blocks/RentalManageSection.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={component:__webpack_require__("./packages/ui/src/components/cms/blocks/RentalManageSection.tsx").A,args:{rentalId:"r-1",adapter:async()=>({ok:!0,message:"Mocked"})}},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"./packages/ui/src/components/cms/blocks/RentalManageSection.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RentalManageSection});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js");const t=s=>s;function RentalManageSection({rentalId,adapter,className,...rest}){const[date,setDate]=react__WEBPACK_IMPORTED_MODULE_1__.useState(""),[status,setStatus]=react__WEBPACK_IMPORTED_MODULE_1__.useState("idle"),[message,setMessage]=react__WEBPACK_IMPORTED_MODULE_1__.useState(void 0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("section",{className,...rest,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mx-auto w-full space-y-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:t("Manage rental")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-sm",children:t("New return date")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"date",value:date,onChange:e=>setDate(e.target.value),className:"w-60 rounded border px-2 py-1"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:async()=>{if(adapter){setStatus("loading");try{const res=await adapter({action:"extend",rentalId,newReturnDate:date});setStatus(res.ok?"ok":"error"),setMessage(res.message)}catch(e){setStatus("error"),setMessage(t("Could not extend rental."))}}},disabled:!adapter||!date||"loading"===status,className:"rounded border px-3 py-1 text-sm disabled:opacity-50 min-h-10 min-w-10",children:t("Extend")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:async()=>{if(adapter){setStatus("loading");try{const res=await adapter({action:"return",rentalId});setStatus(res.ok?"ok":"error"),setMessage(res.message)}catch(e){setStatus("error"),setMessage(t("Could not start return."))}}},disabled:!adapter||"loading"===status,className:"rounded border px-3 py-1 text-sm disabled:opacity-50 min-h-10 min-w-10",children:t("Start return")})]}),"loading"===status?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-xs text-neutral-600",children:t("Working…")}):null,"ok"===status?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-xs text-emerald-700",children:[t("Success"),message?` — ${message}`:""]}):null,"error"===status?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-xs text-red-600",children:[t("Error"),message?` — ${message}`:""]}):null]})})}RentalManageSection.__docgenInfo={description:"",methods:[],displayName:"RentalManageSection",props:{rentalId:{required:!1,tsType:{name:"string"},description:""},adapter:{required:!1,tsType:{name:"signature",type:"function",raw:'(req: { action: "extend" | "return"; rentalId?: string; newReturnDate?: string }) => Promise<{ ok: boolean; message?: string }>',signature:{arguments:[{type:{name:"signature",type:"object",raw:'{ action: "extend" | "return"; rentalId?: string; newReturnDate?: string }',signature:{properties:[{key:"action",value:{name:"union",raw:'"extend" | "return"',elements:[{name:"literal",value:'"extend"'},{name:"literal",value:'"return"'}],required:!0}},{key:"rentalId",value:{name:"string",required:!1}},{key:"newReturnDate",value:{name:"string",required:!1}}]}},name:"req"}],return:{name:"Promise",elements:[{name:"signature",type:"object",raw:"{ ok: boolean; message?: string }",signature:{properties:[{key:"ok",value:{name:"boolean",required:!0}},{key:"message",value:{name:"string",required:!1}}]}}],raw:"Promise<{ ok: boolean; message?: string }>"}}},description:""}}}}}]);