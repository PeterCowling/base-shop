"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[6548],{"./node_modules/.pnpm/@radix-ui+react-popover@1.1.15_@types+react-dom@19.1.6_@types+react@19.1.8__@types+reac_b217370de292fda1fe2b7a99f857f8dc/node_modules/@radix-ui/react-popover/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Mz:()=>Anchor2,UC:()=>Content2,ZL:()=>Portal,bL:()=>Root2,l9:()=>Trigger});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@radix-ui+primitive@1.1.3/node_modules/@radix-ui/primitive/dist/index.mjs"),_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@19.1.8_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-context@1.1.2_@types+react@19.1.8_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/@radix-ui/react-context/dist/index.mjs"),_radix_ui_react_dismissable_layer__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-dismissable-layer@1.1.11_@types+react-dom@19.1.6_@types+react@19.1.8__@_1f1b731f5526c836f5c2866586da8fcc/node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs"),_radix_ui_react_focus_guards__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-focus-guards@1.1.3_@types+react@19.1.8_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/@radix-ui/react-focus-guards/dist/index.mjs"),_radix_ui_react_focus_scope__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-focus-scope@1.1.7_@types+react-dom@19.1.6_@types+react@19.1.8__@types+r_3303dd36ef03f9c4bae85c013b69e3d5/node_modules/@radix-ui/react-focus-scope/dist/index.mjs"),_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-id@1.1.1_@types+react@19.1.8_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/@radix-ui/react-id/dist/index.mjs"),_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-popper@1.2.8_@types+react-dom@19.1.6_@types+react@19.1.8__@types+react@_da27c1475a63e368cc10725049cb740a/node_modules/@radix-ui/react-popper/dist/index.mjs"),_radix_ui_react_portal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-portal@1.1.9_@types+react-dom@19.1.6_@types+react@19.1.8__@types+react@_c8cb7298c94923c30556ba2d6a6c3b6c/node_modules/@radix-ui/react-portal/dist/index.mjs"),_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-presence@1.1.5_@types+react-dom@19.1.6_@types+react@19.1.8__@types+reac_a6e8fec826c0054468bf9342d937c961/node_modules/@radix-ui/react-presence/dist/index.mjs"),_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-primitive@2.1.3_@types+react-dom@19.1.6_@types+react@19.1.8__@types+rea_a80e599d01a0661e2eb97d61fda6a1d3/node_modules/@radix-ui/react-primitive/dist/index.mjs"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-slot@1.2.3_@types+react@19.1.8_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/@radix-ui/react-slot/dist/index.mjs"),_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-controllable-state@1.2.2_@types+react@19.1.8_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs"),aria_hidden__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/aria-hidden@1.2.6/node_modules/aria-hidden/dist/es2015/index.js"),react_remove_scroll__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/react-remove-scroll@2.7.1_@types+react@19.1.8_react@19.2.0-canary-3fbfb9ba-20250409/node_modules/react-remove-scroll/dist/es2015/Combination.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),[createPopoverContext,createPopoverScope]=(0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__.A)("Popover",[_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Bk]),usePopperScope=(0,_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Bk)(),[PopoverProvider,usePopoverContext]=createPopoverContext("Popover"),Popover=props=>{const{__scopePopover,children,open:openProp,defaultOpen,onOpenChange,modal=!1}=props,popperScope=usePopperScope(__scopePopover),triggerRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),[hasCustomAnchor,setHasCustomAnchor]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),[open,setOpen]=(0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_4__.i)({prop:openProp,defaultProp:defaultOpen??!1,onChange:onOpenChange,caller:"Popover"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.bL,{...popperScope,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PopoverProvider,{scope:__scopePopover,contentId:(0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_5__.B)(),triggerRef,open,onOpenChange:setOpen,onOpenToggle:react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>setOpen(prevOpen=>!prevOpen),[setOpen]),hasCustomAnchor,onCustomAnchorAdd:react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>setHasCustomAnchor(!0),[]),onCustomAnchorRemove:react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>setHasCustomAnchor(!1),[]),modal,children})})};Popover.displayName="Popover";var PopoverAnchor=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const{__scopePopover,...anchorProps}=props,context=usePopoverContext("PopoverAnchor",__scopePopover),popperScope=usePopperScope(__scopePopover),{onCustomAnchorAdd,onCustomAnchorRemove}=context;return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>(onCustomAnchorAdd(),()=>onCustomAnchorRemove()),[onCustomAnchorAdd,onCustomAnchorRemove]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Mz,{...popperScope,...anchorProps,ref:forwardedRef})});PopoverAnchor.displayName="PopoverAnchor";var PopoverTrigger=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const{__scopePopover,...triggerProps}=props,context=usePopoverContext("PopoverTrigger",__scopePopover),popperScope=usePopperScope(__scopePopover),composedTriggerRef=(0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__.s)(forwardedRef,context.triggerRef),trigger=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_7__.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":context.open,"aria-controls":context.contentId,"data-state":getState(context.open),...triggerProps,ref:composedTriggerRef,onClick:(0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.mK)(props.onClick,context.onOpenToggle)});return context.hasCustomAnchor?trigger:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Mz,{asChild:!0,...popperScope,children:trigger})});PopoverTrigger.displayName="PopoverTrigger";var[PortalProvider,usePortalContext]=createPopoverContext("PopoverPortal",{forceMount:void 0}),PopoverPortal=props=>{const{__scopePopover,forceMount,children,container}=props,context=usePopoverContext("PopoverPortal",__scopePopover);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PortalProvider,{scope:__scopePopover,forceMount,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__.C,{present:forceMount||context.open,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_portal__WEBPACK_IMPORTED_MODULE_10__.Z,{asChild:!0,container,children})})})};PopoverPortal.displayName="PopoverPortal";var PopoverContent=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const portalContext=usePortalContext("PopoverContent",props.__scopePopover),{forceMount=portalContext.forceMount,...contentProps}=props,context=usePopoverContext("PopoverContent",props.__scopePopover);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__.C,{present:forceMount||context.open,children:context.modal?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PopoverContentModal,{...contentProps,ref:forwardedRef}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PopoverContentNonModal,{...contentProps,ref:forwardedRef})})});PopoverContent.displayName="PopoverContent";var Slot=(0,_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__.TL)("PopoverContent.RemoveScroll"),PopoverContentModal=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const context=usePopoverContext("PopoverContent",props.__scopePopover),contentRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),composedRefs=(0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__.s)(forwardedRef,contentRef),isRightClickOutsideRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{const content=contentRef.current;if(content)return(0,aria_hidden__WEBPACK_IMPORTED_MODULE_12__.Eq)(content)},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_remove_scroll__WEBPACK_IMPORTED_MODULE_13__.A,{as:Slot,allowPinchZoom:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PopoverContentImpl,{...props,ref:composedRefs,trapFocus:context.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.mK)(props.onCloseAutoFocus,event=>{event.preventDefault(),isRightClickOutsideRef.current||context.triggerRef.current?.focus()}),onPointerDownOutside:(0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.mK)(props.onPointerDownOutside,event=>{const originalEvent=event.detail.originalEvent,ctrlLeftClick=0===originalEvent.button&&!0===originalEvent.ctrlKey,isRightClick=2===originalEvent.button||ctrlLeftClick;isRightClickOutsideRef.current=isRightClick},{checkForDefaultPrevented:!1}),onFocusOutside:(0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.mK)(props.onFocusOutside,event=>event.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const context=usePopoverContext("PopoverContent",props.__scopePopover),hasInteractedOutsideRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1),hasPointerDownOutsideRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PopoverContentImpl,{...props,ref:forwardedRef,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:event=>{props.onCloseAutoFocus?.(event),event.defaultPrevented||(hasInteractedOutsideRef.current||context.triggerRef.current?.focus(),event.preventDefault()),hasInteractedOutsideRef.current=!1,hasPointerDownOutsideRef.current=!1},onInteractOutside:event=>{props.onInteractOutside?.(event),event.defaultPrevented||(hasInteractedOutsideRef.current=!0,"pointerdown"===event.detail.originalEvent.type&&(hasPointerDownOutsideRef.current=!0));const target=event.target,targetIsTrigger=context.triggerRef.current?.contains(target);targetIsTrigger&&event.preventDefault(),"focusin"===event.detail.originalEvent.type&&hasPointerDownOutsideRef.current&&event.preventDefault()}})}),PopoverContentImpl=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const{__scopePopover,trapFocus,onOpenAutoFocus,onCloseAutoFocus,disableOutsidePointerEvents,onEscapeKeyDown,onPointerDownOutside,onFocusOutside,onInteractOutside,...contentProps}=props,context=usePopoverContext("PopoverContent",__scopePopover),popperScope=usePopperScope(__scopePopover);return(0,_radix_ui_react_focus_guards__WEBPACK_IMPORTED_MODULE_14__.Oh)(),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_focus_scope__WEBPACK_IMPORTED_MODULE_15__.n,{asChild:!0,loop:!0,trapped:trapFocus,onMountAutoFocus:onOpenAutoFocus,onUnmountAutoFocus:onCloseAutoFocus,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_dismissable_layer__WEBPACK_IMPORTED_MODULE_16__.qW,{asChild:!0,disableOutsidePointerEvents,onInteractOutside,onEscapeKeyDown,onPointerDownOutside,onFocusOutside,onDismiss:()=>context.onOpenChange(!1),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.UC,{"data-state":getState(context.open),role:"dialog",id:context.contentId,...popperScope,...contentProps,ref:forwardedRef,style:{...contentProps.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),PopoverClose=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const{__scopePopover,...closeProps}=props,context=usePopoverContext("PopoverClose",__scopePopover);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_7__.sG.button,{type:"button",...closeProps,ref:forwardedRef,onClick:(0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.mK)(props.onClick,()=>context.onOpenChange(!1))})});PopoverClose.displayName="PopoverClose";var PopoverArrow=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const{__scopePopover,...arrowProps}=props,popperScope=usePopperScope(__scopePopover);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.i3,{...popperScope,...arrowProps,ref:forwardedRef})});function getState(open){return open?"open":"closed"}PopoverArrow.displayName="PopoverArrow";var Root2=Popover,Anchor2=PopoverAnchor,Trigger=PopoverTrigger,Portal=PopoverPortal,Content2=PopoverContent},"./packages/ui/src/components/cms/marketing/discounts/DiscountComponents.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FormWithPreview:()=>FormWithPreview,Summary:()=>Summary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),_DiscountForm__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/components/cms/marketing/discounts/DiscountForm.tsx"),_DiscountPreviewPanel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/ui/src/components/cms/marketing/discounts/DiscountPreviewPanel.tsx"),_DiscountSummaryCard__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/ui/src/components/cms/marketing/discounts/DiscountSummaryCard.tsx"),_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/ui/src/components/cms/marketing/discounts/types.ts"),_acme_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/i18n/src/index.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"CMS/Marketing/Discounts",component:_DiscountForm__WEBPACK_IMPORTED_MODULE_2__.A,parameters:{layout:"padded"}},FormWithPreview={render:()=>{function Example(){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_6__.c3)(),[preview,setPreview]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,_types__WEBPACK_IMPORTED_MODULE_5__.e)(_types__WEBPACK_IMPORTED_MODULE_5__.T,t));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_DiscountForm__WEBPACK_IMPORTED_MODULE_2__.A,{defaultValues:{code:"VIP30",value:30,appliesTo:"Collections: Denim, Jackets",startDate:"2024-09-01",endDate:"2024-09-15"},onSubmit:async()=>{},onPreviewChange:setPreview}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_DiscountPreviewPanel__WEBPACK_IMPORTED_MODULE_3__.A,{data:preview})]})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Example,{})}},Summary={render:()=>{function Example(){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_6__.c3)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_DiscountSummaryCard__WEBPACK_IMPORTED_MODULE_4__.A,{data:(0,_types__WEBPACK_IMPORTED_MODULE_5__.e)(_types__WEBPACK_IMPORTED_MODULE_5__.T,t)})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Example,{})}},__namedExportsOrder=["FormWithPreview","Summary"];FormWithPreview.parameters={...FormWithPreview.parameters,docs:{...FormWithPreview.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    function Example() {\n      const t = useTranslations();\n      const [preview, setPreview] = useState<DiscountPreviewData>(getDiscountPreview(defaultDiscountValues, t));\n      return <div className="grid gap-6 lg:grid-cols-2">\n          <DiscountForm defaultValues={{\n          code: "VIP30",\n          value: 30,\n          appliesTo: "Collections: Denim, Jackets",\n          startDate: "2024-09-01",\n          endDate: "2024-09-15"\n        }} onSubmit={async () => undefined} onPreviewChange={setPreview} />\n          <DiscountPreviewPanel data={preview} />\n        </div>;\n    }\n    return <Example />;\n  }\n}',...FormWithPreview.parameters?.docs?.source}}},Summary.parameters={...Summary.parameters,docs:{...Summary.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    function Example() {\n      const t = useTranslations();\n      return <DiscountSummaryCard data={getDiscountPreview(defaultDiscountValues, t)} />;\n    }\n    return <Example />;\n  }\n}",...Summary.parameters?.docs?.source}}}},"./packages/ui/src/components/cms/marketing/discounts/DiscountFieldGroups.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>DiscountConfigurationCard,l:()=>DiscountScheduleCard});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/ui/src/components/atoms/shadcn/index.ts"),_acme_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/i18n/src/index.ts");function DiscountConfigurationCard({values,errors,onChange}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_2__.c3)(),MIN_ID="discount-min-purchase";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.Zp,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.Wu,{className:"grid gap-4 sm:grid-cols-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:"discount-code",className:"text-sm font-medium",children:t("Code")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.pd,{id:"discount-code",value:values.code,onChange:event=>onChange("code",event.target.value.toUpperCase()),"aria-invalid":errors.code?"true":"false","aria-describedby":errors.code?"discount-code-error":void 0}),errors.code&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{id:"discount-code-error",className:"text-danger text-xs","data-token":"--color-danger",children:errors.code})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-sm font-medium",children:t("Discount type")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.l6,{value:values.type,onValueChange:value=>onChange("type",value),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.bq,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.yv,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.gC,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.eb,{value:"percentage",children:t("Percentage")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.eb,{value:"fixed",children:t("Fixed amount")})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:"discount-value",className:"text-sm font-medium",children:t("Value")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.pd,{id:"discount-value",type:"number",min:1,value:String(values.value),onChange:event=>onChange("value",Number(event.target.value||0)),"aria-invalid":errors.value?"true":"false","aria-describedby":errors.value?"discount-value-error":void 0}),errors.value&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{id:"discount-value-error",className:"text-danger text-xs","data-token":"--color-danger",children:errors.value})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:MIN_ID,className:"text-sm font-medium",children:t("Minimum purchase")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.pd,{id:MIN_ID,type:"number",min:0,value:String(values.minPurchase),onChange:event=>onChange("minPurchase",Number(event.target.value||0)),"aria-invalid":errors.minPurchase?"true":"false","aria-describedby":errors.minPurchase?"discount-min-error":void 0}),errors.minPurchase&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{id:"discount-min-error",className:"text-danger text-xs","data-token":"--color-danger",children:errors.minPurchase})]})]})})}function DiscountScheduleCard({values,errors,onChange}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_2__.c3)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.Zp,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.Wu,{className:"grid gap-4 sm:grid-cols-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:"discount-start",className:"text-sm font-medium",children:t("Start date")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.pd,{id:"discount-start",type:"date",value:values.startDate,onChange:event=>onChange("startDate",event.target.value),"aria-invalid":errors.startDate?"true":"false","aria-describedby":errors.startDate?"discount-start-error":void 0}),errors.startDate&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{id:"discount-start-error",className:"text-danger text-xs","data-token":"--color-danger",children:errors.startDate})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:"discount-end",className:"text-sm font-medium",children:t("End date")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.pd,{id:"discount-end",type:"date",value:values.endDate,onChange:event=>onChange("endDate",event.target.value),"aria-invalid":errors.endDate?"true":"false","aria-describedby":errors.endDate?"discount-end-error":void 0}),errors.endDate&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{id:"discount-end-error",className:"text-danger text-xs","data-token":"--color-danger",children:errors.endDate})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:"discount-usage",className:"text-sm font-medium",children:t("Usage limit")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.pd,{id:"discount-usage",type:"number",min:0,value:String(values.usageLimit),onChange:event=>onChange("usageLimit",Number(event.target.value||0))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1 sm:col-span-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:"discount-applies",className:"text-sm font-medium",children:t("Applies to")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.TM,{id:"discount-applies",rows:2,value:values.appliesTo,onChange:event=>onChange("appliesTo",event.target.value),"aria-invalid":errors.appliesTo?"true":"false","aria-describedby":errors.appliesTo?"discount-applies-error":void 0}),errors.appliesTo&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{id:"discount-applies-error",className:"text-danger text-xs","data-token":"--color-danger",children:errors.appliesTo})]})]})})}DiscountConfigurationCard.__docgenInfo={description:"",methods:[],displayName:"DiscountConfigurationCard",props:{values:{required:!0,tsType:{name:"DiscountFormValues"},description:""},errors:{required:!0,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"DiscountFormValues"},{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}],raw:"Record<TField, string | undefined>"}],raw:"Partial<\n  Record<TField, string | undefined>\n>"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"<K extends DiscountField>(\n  key: K,\n  value: DiscountFormValues[K]\n) => void",signature:{arguments:[{type:{name:"K"},name:"key"},{type:{name:"DiscountFormValues[K]",raw:"DiscountFormValues[K]"},name:"value"}],return:{name:"void"}}},description:""}}},DiscountScheduleCard.__docgenInfo={description:"",methods:[],displayName:"DiscountScheduleCard",props:{values:{required:!0,tsType:{name:"DiscountFormValues"},description:""},errors:{required:!0,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"DiscountFormValues"},{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}],raw:"Record<TField, string | undefined>"}],raw:"Partial<\n  Record<TField, string | undefined>\n>"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"<K extends DiscountField>(\n  key: K,\n  value: DiscountFormValues[K]\n) => void",signature:{arguments:[{type:{name:"K"},name:"key"},{type:{name:"DiscountFormValues[K]",raw:"DiscountFormValues[K]"},name:"value"}],return:{name:"void"}}},description:""}}}},"./packages/ui/src/components/cms/marketing/discounts/DiscountForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/ui/src/components/atoms/shadcn/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/components/atoms/index.ts"),_utils_style__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/ui/src/utils/style/index.ts"),_acme_i18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/i18n/src/index.ts"),_DiscountFieldGroups__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/ui/src/components/cms/marketing/discounts/DiscountFieldGroups.tsx"),_hooks_useDiscountFormState__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/ui/src/components/cms/marketing/discounts/hooks/useDiscountFormState.ts");function DiscountForm({defaultValues,validationErrors,onSubmit,onPreviewChange,onStatusChange,submitLabel,className,busy}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_4__.c3)(),{values,errors,status,toast,update,handleSubmit,dismissToast}=(0,_hooks_useDiscountFormState__WEBPACK_IMPORTED_MODULE_6__.S)({defaultValues,validationErrors,onSubmit,onPreviewChange,onStatusChange});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:handleSubmit,noValidate:!0,className:(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.cn)("space-y-6",className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_DiscountFieldGroups__WEBPACK_IMPORTED_MODULE_5__.G,{values,errors,onChange:update}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_DiscountFieldGroups__WEBPACK_IMPORTED_MODULE_5__.l,{values,errors,onChange:update}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-end",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.$n,{type:"submit",disabled:busy||"submitting"===status,children:"submitting"===status?t("Saving…"):null!=submitLabel?submitLabel:t("Save discount")})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.y8,{open:toast.open,message:toast.message,onClose:dismissToast})]})}const __WEBPACK_DEFAULT_EXPORT__=DiscountForm;DiscountForm.__docgenInfo={description:"",methods:[],displayName:"DiscountForm",props:{defaultValues:{required:!1,tsType:{name:"Partial",elements:[{name:"DiscountFormValues"}],raw:"Partial<DiscountFormValues>"},description:""},validationErrors:{required:!1,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"DiscountFormValues"},{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}],raw:"Record<TField, string | undefined>"}],raw:"Partial<\n  Record<TField, string | undefined>\n>"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(\n  values: TValues\n) => Promise<void> | void",signature:{arguments:[{type:{name:"DiscountFormValues"},name:"values"}],return:{name:"union",raw:"Promise<void> | void",elements:[{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"},{name:"void"}]}}},description:""},onPreviewChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(preview: DiscountPreviewData) => void",signature:{arguments:[{type:{name:"DiscountPreviewData"},name:"preview"}],return:{name:"void"}}},description:""},onStatusChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(status: SubmissionStatus) => void",signature:{arguments:[{type:{name:"union",raw:'| "idle"\n| "validating"\n| "submitting"\n| "success"\n| "error"',elements:[{name:"literal",value:'"idle"'},{name:"literal",value:'"validating"'},{name:"literal",value:'"submitting"'},{name:"literal",value:'"success"'},{name:"literal",value:'"error"'}]},name:"status"}],return:{name:"void"}}},description:""},submitLabel:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},busy:{required:!1,tsType:{name:"boolean"},description:""}}}},"./packages/ui/src/components/cms/marketing/discounts/DiscountPreviewPanel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_atoms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/ui/src/components/atoms/index.ts"),_shared__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/components/cms/marketing/shared/index.ts"),_acme_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/i18n/src/index.ts");function DiscountPreviewPanel({data,className}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_3__.c3)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_shared__WEBPACK_IMPORTED_MODULE_2__.xH,{title:t("Discount preview"),description:t("Visual confirmation of what customers will see."),data,className,renderPreview:preview=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.vw,{variant:"default",className:"text-xs",children:preview.code}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-medium",children:preview.label})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-muted-foreground text-xs uppercase",children:t("Validity")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:preview.validity})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-muted-foreground text-xs uppercase",children:t("Applies to")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:preview.appliesTo})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-muted-foreground text-xs",children:preview.usageLabel})]})})}const __WEBPACK_DEFAULT_EXPORT__=DiscountPreviewPanel;DiscountPreviewPanel.__docgenInfo={description:"",methods:[],displayName:"DiscountPreviewPanel",props:{data:{required:!0,tsType:{name:"DiscountPreviewData"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}},"./packages/ui/src/components/cms/marketing/discounts/DiscountSummaryCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_atoms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/ui/src/components/atoms/index.ts"),_shared__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/components/cms/marketing/shared/index.ts"),_acme_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/i18n/src/index.ts");function DiscountSummaryCard({data,statusLabel,description,actions,footer}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_3__.c3)(),metrics=[{label:t("Offer"),value:data.label},{label:t("Validity"),value:data.validity},{label:t("Usage"),value:data.usageLabel},{label:t("Applies to"),value:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.vw,{variant:"default",className:"text-xs",children:data.appliesTo})}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_shared__WEBPACK_IMPORTED_MODULE_2__.Hv,{title:data.code,status:{label:null!=statusLabel?statusLabel:t("Active"),tone:"success"},description:null!=description?description:t("Keep an eye on redemptions to ensure margin targets are protected."),metrics,actions,footer})}const __WEBPACK_DEFAULT_EXPORT__=DiscountSummaryCard;DiscountSummaryCard.__docgenInfo={description:"",methods:[],displayName:"DiscountSummaryCard",props:{data:{required:!0,tsType:{name:"DiscountPreviewData"},description:""},statusLabel:{required:!1,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},actions:{required:!1,tsType:{name:"ReactNode"},description:""},footer:{required:!1,tsType:{name:"ReactNode"},description:""}}}},"./packages/ui/src/components/cms/marketing/discounts/hooks/useDiscountFormState.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>useDiscountFormState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),_acme_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/i18n/src/index.ts"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/components/cms/marketing/discounts/types.ts");function useDiscountFormState({defaultValues,validationErrors,onSubmit,onPreviewChange,onStatusChange}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_1__.c3)(),[values,setValues]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({..._types__WEBPACK_IMPORTED_MODULE_2__.T,...defaultValues}),[internalErrors,setInternalErrors]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),[status,setStatus]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("idle"),[toast,setToast]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({open:!1,message:""});(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{setValues({..._types__WEBPACK_IMPORTED_MODULE_2__.T,...defaultValues})},[defaultValues]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{null==onPreviewChange||onPreviewChange((0,_types__WEBPACK_IMPORTED_MODULE_2__.e)(values,t))},[values,onPreviewChange,t]);const errors=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({...internalErrors,...null!=validationErrors?validationErrors:{}}),[internalErrors,validationErrors]),update=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((key,value)=>{setValues(prev=>({...prev,[key]:value})),setInternalErrors(prev=>{if(!prev[key])return prev;const next={...prev};return delete next[key],next})},[]),dismissToast=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{setToast(prev=>({...prev,open:!1}))},[]),handleSubmit=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async event=>{event.preventDefault(),setStatus("validating"),null==onStatusChange||onStatusChange("validating");const nextErrors=function validate(values){const errors={};return values.code||(errors.code="Promo code is required."),values.value<=0&&(errors.value="Discount must be greater than zero."),values.minPurchase<0&&(errors.minPurchase="Minimum purchase cannot be negative."),values.startDate||(errors.startDate="Start date required."),values.endDate&&values.startDate&&values.endDate<values.startDate&&(errors.endDate="End date must be after start date."),values.appliesTo||(errors.appliesTo="Describe the scope of the discount."),errors}(values);if(setInternalErrors(nextErrors),Object.keys(nextErrors).length>0)return setStatus("error"),null==onStatusChange||onStatusChange("error"),void setToast({open:!0,message:t("Resolve the highlighted issues before continuing.")});if(!onSubmit)return setStatus("success"),null==onStatusChange||onStatusChange("success"),void setToast({open:!0,message:t("Discount draft saved.")});try{setStatus("submitting"),null==onStatusChange||onStatusChange("submitting"),await onSubmit(values),setStatus("success"),null==onStatusChange||onStatusChange("success"),setToast({open:!0,message:t("Discount saved.")})}catch(error){setStatus("error"),null==onStatusChange||onStatusChange("error");const fallback=error instanceof Error?error.message:t("Unable to save discount.");setToast({open:!0,message:fallback})}},[onStatusChange,onSubmit,t,values]);return{values,errors,status,toast,update,handleSubmit,dismissToast}}},"./packages/ui/src/components/cms/marketing/discounts/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>defaultDiscountValues,e:()=>getDiscountPreview});const defaultDiscountValues={code:"",type:"percentage",value:10,minPurchase:0,startDate:"",endDate:"",usageLimit:0,appliesTo:""};function getDiscountPreview(values,t){const amountLabel="percentage"===values.type?t?t("cms.marketing.discounts.offer.percentage",{value:values.value}):`${values.value}% off`:t?t("cms.marketing.discounts.offer.fixed",{amount:values.value.toFixed(2)}):`$${values.value.toFixed(2)} off`,validity=values.startDate?values.endDate?t?t("cms.marketing.discounts.validity.range",{start:values.startDate,end:values.endDate}):`${values.startDate} → ${values.endDate}`:t?t("cms.marketing.discounts.validity.starts",{date:values.startDate}):`Starts ${values.startDate}`:t?t("cms.marketing.discounts.validity.pending"):"Schedule pending",usageLabel=values.usageLimit>0?t?t("cms.marketing.discounts.usage.remaining",{count:values.usageLimit}):`${values.usageLimit} uses remaining`:t?t("cms.marketing.discounts.usage.unlimited"):"Unlimited use";return{code:values.code||"NEWCODE",label:amountLabel,validity,appliesTo:values.appliesTo||(t?t("cms.marketing.discounts.appliesTo.entireCatalog"):"Entire catalog"),usageLabel}}}}]);