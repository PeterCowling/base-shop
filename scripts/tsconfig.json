// scripts/tsconfig.json
{
  "extends": "../tsconfig.base.json",

  "compilerOptions": {
    /* ───── declaration-only build ───── */
    "composite": true,
    "emitDeclarationOnly": false,
    "noEmit": false, // must allow emit

    /* ───── output location ───── */
    "rootDir": "src",
    "outDir": "dist",
    "declarationDir": "dist",
    "declarationMap": true,

    /* ───── language / module target ───── */
    "module": "esnext",
    "target": "ES2022",
    "moduleResolution": "bundler",

    /* ───── Node typings only ───── */
    "types": ["node"],

    /* ───── workspace package resolution ───── */
    "paths": {
      "@acme/platform-core": ["packages/platform-core/src/index"],
      "@acme/platform-core/*": [
        "packages/platform-core/src/*",
        "packages/platform-core/src/*/index.ts"
      ],
      "@acme/types": ["packages/types/src/index"],
      "@acme/types/*": [
        "packages/types/src/*",
        "packages/types/src/*/index.ts"
      ],
      "@config/env-schema": ["packages/config/env-schema.ts"],
      "@config/src/env": ["packages/config/src/env/index.ts"],
      "@config/src/*": ["packages/config/src/*"]
    },

    /* ───── keep imports extension-less ───── */
  },

  /* ───── project references ───── */
  "references": [
    { "path": "../packages/platform-core" },
    { "path": "../packages/lib" },
    { "path": "../packages/config" },
    { "path": "../packages/types" }
  ],

  /* ───── source globs ───── */
  "include": ["src/**/*"],
  "exclude": [
    "dist", // freshly emitted output
    "__tests__", // unit/integration tests
    ".turbo", // turbo cache
    "node_modules", // package deps (if any local)
    "src/release-deposits.ts" // checked via apps/cms project
  ]
}
