"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[3007],{"./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}function clsx(){for(var e,t,f=0,n="",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}__webpack_require__.d(__webpack_exports__,{$:()=>clsx,A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=clsx},"./packages/ui/src/components/atoms/primitives/Grid.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>Grid});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_utils_style_cn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");function Grid({cols=2,gap=4,className,...rest}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_utils_style_cn__WEBPACK_IMPORTED_MODULE_1__.$)("grid",`grid-cols-${cols}`,`gap-${gap}`,className),...rest})}Grid.__docgenInfo={description:"",methods:[],displayName:"Grid",props:{cols:{required:!1,tsType:{name:"union",raw:"1 | 2 | 3 | 4 | 5 | 6 | 12",elements:[{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"12"}]},description:"",defaultValue:{value:"2",computed:!1}},gap:{required:!1,tsType:{name:"union",raw:"0 | 1 | 2 | 3 | 4 | 5 | 6 | 8 | 10 | 12",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"8"},{name:"literal",value:"10"},{name:"literal",value:"12"}]},description:"",defaultValue:{value:"4",computed:!1}}}}},"./packages/ui/src/components/atoms/primitives/Sidebar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>Sidebar});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_utils_style_cn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");function Sidebar({sideWidth="w-64",gap=6,reverse=!1,className,children,...rest}){const kids=Array.isArray(children)?children:[children],[a,b]=kids,side=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_utils_style_cn__WEBPACK_IMPORTED_MODULE_1__.$)("shrink-0",sideWidth),children:a}),main=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"min-w-0 flex-1",children:b});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_utils_style_cn__WEBPACK_IMPORTED_MODULE_1__.$)("flex",reverse?"flex-row-reverse":"flex-row",`gap-${gap}`,className),...rest,children:[side,main]})}Sidebar.__docgenInfo={description:"",methods:[],displayName:"Sidebar",props:{sideWidth:{required:!1,tsType:{name:"union",raw:'"w-48" | "w-56" | "w-64" | "w-72" | "w-80"',elements:[{name:"literal",value:'"w-48"'},{name:"literal",value:'"w-56"'},{name:"literal",value:'"w-64"'},{name:"literal",value:'"w-72"'},{name:"literal",value:'"w-80"'}]},description:"",defaultValue:{value:'"w-64"',computed:!1}},gap:{required:!1,tsType:{name:"union",raw:"0 | 1 | 2 | 3 | 4 | 5 | 6 | 8",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"8"}]},description:"",defaultValue:{value:"6",computed:!1}},reverse:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}}},"./packages/ui/src/components/cms/blocks/CollectionSection.client.Matrix.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Empty:()=>Empty,Error:()=>Error,Loading:()=>Loading,RTL:()=>RTL,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CollectionSection_client_Matrix_stories});var http=__webpack_require__("./node_modules/.pnpm/msw@2.11.3_@types+node@20.19.4_typescript@5.8.3/node_modules/msw/lib/core/http.mjs"),delay=__webpack_require__("./node_modules/.pnpm/msw@2.11.3_@types+node@20.19.4_typescript@5.8.3/node_modules/msw/lib/core/delay.mjs"),HttpResponse=__webpack_require__("./node_modules/.pnpm/msw@2.11.3_@types+node@20.19.4_typescript@5.8.3/node_modules/msw/lib/core/HttpResponse.mjs"),products=__webpack_require__("./packages/platform-core/src/products/index.ts"),CollectionSection_client=__webpack_require__("./packages/ui/src/components/cms/blocks/CollectionSection.client.tsx");const CollectionSection_client_fixtures_namespaceObject=JSON.parse('{"initial":[{"id":"green-sneaker","slug":"green-sneaker","title":"Green Sneaker","price":99},{"id":"blue-shirt","slug":"blue-shirt","title":"Blue Shirt","price":39}],"params":{"slug":"demo"},"paginationMode":"loadMore","pageSize":12}');var types=__webpack_require__("./node_modules/.pnpm/zod@3.25.73/node_modules/zod/v3/types.js"),createStories=__webpack_require__("./packages/ui/src/story-utils/createStories.ts"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const meta={title:"CMS Blocks/CollectionSection/Matrix",component:CollectionSection_client.A,tags:["autodocs"],parameters:{layout:"padded",docs:{description:{component:"Client-side collection grid with sorting, client filters and load more/SSR pagination. Uses /api/collections/:slug; stories simulate delay/empty/error.\n\nUsage:\n\n```tsx\nimport CollectionSectionClient from './CollectionSection.client';\nimport { PRODUCTS } from '@acme/platform-core/products';\n\n<CollectionSectionClient\n  initial={PRODUCTS}\n  params={{ slug: 'demo' }}\n  paginationMode=\"loadMore\"\n  pageSize={12}\n/>\n\n// Key args: initial, params.slug, paginationMode, pageSize\n```"}}},args:{initial:products.zv,params:{slug:"demo"},paginationMode:"loadMore"}},CollectionSection_client_Matrix_stories=meta,baseArgs=meta.args,FixtureSchema=types.Ik({initial:types.YO(types.Ik({id:types.Yj(),slug:types.Yj(),title:types.Yj().optional(),price:types.ai().optional()})).optional(),params:types.Ik({slug:types.Yj()}),paginationMode:types.k5(["loadMore","ssr"]).optional(),pageSize:types.ai().optional()});try{FixtureSchema.parse(CollectionSection_client_fixtures_namespaceObject)}catch(e){console.error("Invalid CollectionSection fixture:",e)}const Default=(0,createStories.T)(baseArgs,{},"default",{a11y:!0,viewports:["desktop"],tags:["visual"],docsDescription:"Client-side collection with initial items and load-more UX."}),Loading={...(0,createStories.T)(baseArgs,{},"loading",{viewports:["mobile1"],tags:["visual"],docsDescription:"Simulates a slow network response to show the loading hint."}),parameters:{msw:{handlers:[http.L.get(/\/api\/collections\/.+/,async()=>(await(0,delay.cb)(1500),HttpResponse.c.json({items:products.zv},{status:200})))]}}},Empty={...(0,createStories.T)(baseArgs,{},"empty",{a11y:!0,viewports:["mobile1"],tags:["visual"],docsDescription:"Returns an empty list to exercise empty state rendering."}),parameters:{msw:{handlers:[http.L.get(/\/api\/collections\/.+/,async()=>(await(0,delay.cb)(100),HttpResponse.c.json({items:[]},{status:200})))]}}},Error={...(0,createStories.T)(baseArgs,{},"error",{a11y:!0,critical:!0,viewports:["desktop"],tags:["visual","ci"],docsDescription:"Forces a 500 to verify error surfaces and a11y."}),parameters:{msw:{handlers:[http.L.get(/\/api\/collections\/.+/,async()=>(await(0,delay.cb)(50),HttpResponse.c.json({error:"mock-error"},{status:500})))]}}},RTL=(0,createStories.T)(baseArgs,{},"default",{rtl:!0,viewports:["mobile1"],tags:["visual"],docsDescription:"RTL rendering of grid and controls."}),__namedExportsOrder=["Default","Loading","Empty","Error","RTL"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {}, 'default', {\n  a11y: true,\n  viewports: ['desktop'],\n  tags: ['visual'],\n  docsDescription: 'Client-side collection with initial items and load-more UX.'\n})",...Default.parameters?.docs?.source}}},Loading.parameters={...Loading.parameters,docs:{...Loading.parameters?.docs,source:{originalSource:"{\n  ...makeStateStory(baseArgs, {}, 'loading', {\n    viewports: ['mobile1'],\n    tags: ['visual'],\n    docsDescription: 'Simulates a slow network response to show the loading hint.'\n  }),\n  parameters: {\n    msw: {\n      handlers: [http.get(/\\/api\\/collections\\/.+/, async () => {\n        await delay(1500);\n        return HttpResponse.json({\n          items: PRODUCTS\n        }, {\n          status: 200\n        });\n      })]\n    }\n  }\n}",...Loading.parameters?.docs?.source}}},Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:"{\n  ...makeStateStory(baseArgs, {}, 'empty', {\n    a11y: true,\n    viewports: ['mobile1'],\n    tags: ['visual'],\n    docsDescription: 'Returns an empty list to exercise empty state rendering.'\n  }),\n  parameters: {\n    msw: {\n      handlers: [http.get(/\\/api\\/collections\\/.+/, async () => {\n        await delay(100);\n        return HttpResponse.json({\n          items: []\n        }, {\n          status: 200\n        });\n      })]\n    }\n  }\n}",...Empty.parameters?.docs?.source}}},Error.parameters={...Error.parameters,docs:{...Error.parameters?.docs,source:{originalSource:"{\n  ...makeStateStory(baseArgs, {}, 'error', {\n    a11y: true,\n    critical: true,\n    viewports: ['desktop'],\n    tags: ['visual', 'ci'],\n    docsDescription: 'Forces a 500 to verify error surfaces and a11y.'\n  }),\n  parameters: {\n    msw: {\n      handlers: [http.get(/\\/api\\/collections\\/.+/, async () => {\n        await delay(50);\n        return HttpResponse.json({\n          error: 'mock-error'\n        }, {\n          status: 500\n        });\n      })]\n    }\n  }\n}",...Error.parameters?.docs?.source}}},RTL.parameters={...RTL.parameters,docs:{...RTL.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {}, 'default', {\n  rtl: true,\n  viewports: ['mobile1'],\n  tags: ['visual'],\n  docsDescription: 'RTL rendering of grid and controls.'\n})",...RTL.parameters?.docs?.source}}}},"./packages/ui/src/story-utils/createStories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function makeStateStory(base,patch,state,opts={}){const{a11y=!0,critical=!1,rtl=!1,viewports=[],tags=[],docsDescription}=opts,parameters={a11y:{disable:!a11y},dataState:state};rtl&&(parameters.rtl=!0),viewports.length&&(parameters.viewport={defaultViewport:viewports[0]}),docsDescription&&(parameters.docs={description:{story:docsDescription}});const computedTags=["autodocs",a11y?"a11y":"no-a11y",critical?"critical":"noncritical",...tags];parameters.chromatic={disable:!computedTags.includes("visual")};return{args:{...base,...patch},parameters,tags:computedTags}}__webpack_require__.d(__webpack_exports__,{T:()=>makeStateStory})}}]);