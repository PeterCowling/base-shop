(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{844:(e,t,r)=>{Promise.resolve().then(r.bind(r,9642))},905:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(6586),a=r(7826),n=r(65),l=r(7862);let o=a.memo(function(e){let{amount:t,currency:r}=e,o=(0,n.Y)(),i=(0,a.useMemo)(()=>{var e;return e=(0,l.Tl)(o),new Intl.NumberFormat(e,{style:"currency",currency:r,currencyDisplay:"narrowSymbol"}).format(t/100)},[t,r,o]);return(0,s.jsx)("span",{children:i})})},2079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=r(7826);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=n(e,s)),t&&(a.current=n(t,s))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2308:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(6586),a=r(7826),n=r(7718),l=r(2675);let o=a.memo(function(e){let{quantity:t,onChange:r,min:o=n.yY,max:i=n._x,label:c}=e,d=(0,a.useMemo)(()=>t>o,[t,o]),u=(0,a.useMemo)(()=>t<i,[t,i]),m=(0,a.useMemo)(()=>"".concat(c," -"),[c]),f=(0,a.useMemo)(()=>"".concat(c," +"),[c]),x=(0,a.useCallback)(()=>{d&&r(t-1)},[d,r,t]),p=(0,a.useCallback)(()=>{u&&r(t+1)},[u,r,t]);return(0,s.jsxs)(l.A,{className:"items-center gap-2","aria-label":c,children:[(0,s.jsx)("button",{type:"button",onClick:x,disabled:!d,"aria-label":m,className:"size-12 rounded-full border border-border-1 text-lg font-semibold text-foreground transition hover:border-primary/60 disabled:opacity-40",children:"-"}),(0,s.jsx)("div",{className:"min-w-8 text-center text-sm font-semibold",children:t}),(0,s.jsx)("button",{type:"button",onClick:p,disabled:!u,"aria-label":f,className:"size-12 rounded-full border border-border-1 text-lg font-semibold text-foreground transition hover:border-primary/60 disabled:opacity-40",children:"+"})]})})},2675:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(6586);let a=r(7826).memo(function(e){let{className:t,...r}=e,a=["flex",t].filter(Boolean).join(" ");return(0,s.jsx)("div",{className:a,...r})})},6024:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>x,_:()=>p});var s=r(6586),a=r(7826),n=r(7718);let l={items:[],updatedAt:0},o=e=>({items:e,updatedAt:Date.now()}),i=e=>e.map(e=>({variantId:e.variantId,quantity:(0,n.pE)(e.quantity)})).filter(e=>e.variantId&&e.quantity>=n.yY);function c(e,t){switch(t.type){case"hydrate":return o(i(t.payload));case"add":{let{variantId:r,quantity:s}=t.payload,a=[...e.items],l=a.findIndex(e=>e.variantId===r),i=(0,n.pE)(s);if(l>=0){let e=a[l];if(!e)return o(a);a[l]={variantId:e.variantId,quantity:(0,n.pE)(e.quantity+i)}}else a.push({variantId:r,quantity:i});return o(a)}case"remove":return o(e.items.filter(e=>e.variantId!==t.payload.variantId));case"setQuantity":return o(i(e.items.map(e=>e.variantId!==t.payload.variantId?e:{...e,quantity:(0,n.pE)(t.payload.quantity)})));case"clear":return o([]);default:return e}}let d="cochlearfit:cart",u=e=>!!e&&"object"==typeof e&&"string"==typeof e.variantId&&"number"==typeof e.quantity&&e.quantity>=n.yY;var m=r(6233);let f=(0,a.createContext)(null);function x(e){let{children:t}=e,[r,o]=(0,a.useReducer)(c,l),i=(0,a.useMemo)(()=>(0,m.m)(r),[r]),x=(0,a.useCallback)((e,t)=>{o({type:"add",payload:{variantId:e,quantity:t}})},[]),p=(0,a.useCallback)(e=>{o({type:"remove",payload:{variantId:e}})},[]),b=(0,a.useCallback)((e,t)=>{o({type:"setQuantity",payload:{variantId:e,quantity:t}})},[]),y=(0,a.useCallback)(()=>{o({type:"clear"})},[]),h=(0,a.useCallback)(()=>{let e=function(){let e=window.localStorage.getItem(d);if(!e)return null;try{let t=JSON.parse(e);if(!t||1!==t.version||!Array.isArray(t.items))return null;return t.items.filter(u).map(e=>({variantId:e.variantId,quantity:(0,n.pE)(e.quantity)}))}catch(e){return null}}();e&&e.length>0&&o({type:"hydrate",payload:e})},[]);(0,a.useEffect)(()=>{h()},[h]),(0,a.useEffect)(()=>{let e={version:1,items:r.items.map(e=>({variantId:e.variantId,quantity:(0,n.pE)(e.quantity)}))};window.localStorage.setItem(d,JSON.stringify(e))},[r.items]);let v=(0,a.useMemo)(()=>({items:r.items,itemCount:i.itemCount,subtotal:i.subtotal,currency:i.currency,addItem:x,removeItem:p,setQuantity:b,clear:y}),[x,y,p,b,r.items,i]);return(0,s.jsx)(f.Provider,{value:v,children:t})}function p(){let e=(0,a.useContext)(f);if(!e)throw Error("useCart must be used within CartProvider");return e}},6233:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,m:()=>a});var s=r(7157);function a(e){let t=0,r=0,a="USD";for(let n of e.items){let e=(0,s._s)(n.variantId);e&&(t+=n.quantity,r+=n.quantity*e.price,a=e.currency)}return{itemCount:t,subtotal:r,currency:a}}function n(e,t){let r=new Map;for(let e of t)for(let t of e.variants)r.set(t.id,{product:e,variant:t});return e.flatMap(e=>{let t=r.get(e.variantId);return t?[{item:e,product:t.product,variant:t.variant}]:[]})}},6662:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(6586),a=r(7826);let n=a.memo(function(e){let{variant:t="primary",className:r,...n}=e,l=(0,a.useMemo)(()=>["inline-flex","min-h-12","items-center","justify-center","rounded-full","px-5","text-sm","font-semibold","tracking-wide","transition","focus-visible:focus-ring","disabled:cursor-not-allowed","disabled:opacity-60",...{primary:["bg-primary","text-primary-foreground","hover:bg-accent"],outline:["border","border-border-1","text-foreground","hover:border-primary/70","hover:text-accent"],ghost:["text-foreground","hover:text-accent"]}[t],r].filter(Boolean).join(" "),[r,t]);return(0,s.jsx)("button",{...n,className:l})})},6876:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(6586),a=r(7826);let n=a.memo(function(e){let{children:t,className:r}=e,n=(0,a.useMemo)(()=>["mx-auto","w-full","max-w-md","px-4",r].filter(Boolean).join(" "),[r]);return(0,s.jsx)("div",{className:n,children:t})})},7157:(e,t,r)=>{"use strict";r.d(t,{P5:()=>i,_s:()=>o,e:()=>d,jo:()=>m,n5:()=>c,uP:()=>u});let s={sand:{label:"Sand",hex:"hsl(var(--color-sand))"},ocean:{label:"Ocean",hex:"hsl(var(--color-ocean))"},berry:{label:"Berry",hex:"hsl(var(--color-berry))"}},a=["kids","adult"],n=["sand","ocean","berry"],l={classic:{kids:3400,adult:3800},sport:{kids:3600,adult:4e3}};function o(e){let[t,r,o]=e.split("-");if(!t||!r||!o||!a.includes(r)||!n.includes(o))return;let i=l[t];if(!i)return;let c=s[o];return{id:e,size:r,color:o,colorLabel:c.label,colorHex:c.hex,price:i[r],currency:"USD",stripePriceId:"price_".concat(t,"_").concat(r,"_").concat(o),inStock:!0}}function i(e,t,r){return e.variants.find(e=>e.size===t&&e.color===r)}function c(e){var t;let r=e.variants[0];if(!r)throw Error("Product has no variants");return null!=(t=e.variants.find(e=>e.inStock))?t:r}function d(e){let t=new Set;for(let r of e.variants)t.add(r.size);return a.filter(e=>t.has(e))}function u(e){let t=new Set;for(let r of e.variants)t.add(r.color);return n.filter(e=>t.has(e))}function m(e){var t,r;return null!=(r=null==(t=s[e])?void 0:t.hex)?r:"hsl(var(--color-fg))"}},7718:(e,t,r)=>{"use strict";r.d(t,{_x:()=>a,pE:()=>n,yY:()=>s});let s=1,a=10;function n(e){return Number.isNaN(e)||e<s?s:e>a?a:Math.floor(e)}},8851:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(6586);let a=r(7826).memo(function(e){let{className:t,...r}=e,a=["grid",t].filter(Boolean).join(" ");return(0,s.jsx)("div",{className:a,...r})})},9642:(e,t,r)=>{"use strict";r.d(t,{default:()=>C});var s=r(6586),a=r(7826),n=r(2707),l=r(5876),o=r(6876);let i=a.memo(function(e){let{children:t,className:r,containerClassName:n}=e,l=(0,a.useMemo)(()=>r?"py-10 ".concat(r):"py-10",[r]);return(0,s.jsx)("section",{className:l,children:n?(0,s.jsx)(o.A,{className:n,children:t}):(0,s.jsx)(o.A,{children:t})})});var c=r(8851),d=r(7157),u=r(2675);let m=a.memo(function(e){let{value:t,label:r,selected:n,onSelect:l}=e,o=(0,a.useCallback)(()=>{l(t)},[l,t]);return(0,s.jsx)("button",{type:"button",onClick:o,className:(n?["rounded-full","border","border-primary","bg-primary/10","px-4","py-2","text-sm","font-semibold","text-accent"]:["rounded-full","border","border-border-1","px-4","py-2","text-sm","font-semibold","text-foreground","transition","hover:border-primary/60"]).join(" "),"aria-pressed":n,children:r})}),f=a.memo(function(e){let{value:t,label:r,hex:n,selected:l,onSelect:o}=e,i=(0,a.useCallback)(()=>{o(t)},[o,t]),c=(0,a.useMemo)(()=>({backgroundColor:n}),[n]);return(0,s.jsxs)("button",{type:"button",onClick:i,className:(l?["flex","items-center","gap-2","rounded-full","border","border-primary","bg-surface-2","px-3","py-2","text-sm","font-semibold","text-foreground"]:["flex","items-center","gap-2","rounded-full","border","border-border-1","bg-surface-2","px-3","py-2","text-sm","font-semibold","text-foreground","transition","hover:border-primary/60"]).join(" "),"aria-pressed":l,children:[(0,s.jsx)("span",{className:"h-4 w-4 rounded-full border border-border-1",style:c,"aria-hidden":!0}),r]})});function x(e){let{sizes:t,colors:r,size:n,color:o,onSizeChange:i,onColorChange:c}=e,x=(0,l.c3)(),p=(0,a.useMemo)(()=>t,[t]),b=(0,a.useMemo)(()=>r,[r]),y=(0,a.useMemo)(()=>x("color.".concat(o)),[o,x]),h=(0,a.useMemo)(()=>({color:y}),[y]);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:x("product.size")}),(0,s.jsx)(u.A,{className:"flex-wrap gap-2",children:p.map(e=>(0,s.jsx)(m,{value:e,label:x("size.".concat(e)),selected:e===n,onSelect:i},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:x("product.color")}),(0,s.jsx)(u.A,{className:"flex-wrap gap-2",children:b.map(e=>(0,s.jsx)(f,{value:e,label:x("color.".concat(e)),hex:(0,d.jo)(e),selected:e===o,onSelect:c},e))})]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:x("product.selectedColor",h)})]})}var p=r(2308),b=r(905),y=r(6662);let h=a.memo(function(e){let{amount:t,currency:r,onAdd:a,disabled:n,label:l}=e;return(0,s.jsx)("div",{className:"sticky bottom-0 z-10 border-t border-border-1 bg-surface-1/95 py-4 backdrop-blur",children:(0,s.jsxs)(o.A,{className:"flex items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"text-lg font-semibold",children:(0,s.jsx)(b.A,{amount:t,currency:r})}),(0,s.jsx)(y.A,{type:"button",onClick:a,disabled:n,className:"flex-1",children:l})]})})});var v=r(6024),j=r(7718);class g extends a.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){try{console.error("CochlearFit UI error boundary:",e)}catch(e){}}render(){return this.state.hasError?this.props.fallback?this.props.fallback:null:this.props.children}constructor(e){super(e),this.state={hasError:!1}}}function N(e){let{children:t,fallback:r}=e,n=(0,l.c3)(),o=(0,a.useCallback)(()=>{window.location.reload()},[]),i=(0,a.useMemo)(()=>(0,s.jsxs)("div",{className:"surface rounded-3xl border border-border-1 p-5 text-sm",children:[(0,s.jsx)("div",{className:"mb-2 font-semibold",children:n("error.title")}),(0,s.jsx)("div",{className:"mb-4 text-muted-foreground",children:n("error.body")}),(0,s.jsx)(y.A,{type:"button",variant:"outline",onClick:o,children:n("error.retry")})]}),[o,n]);return(0,s.jsx)(g,{fallback:null!=r?r:i,children:t})}let k=function(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=t=>(0,s.jsx)(N,{fallback:n.fallback,children:a.createElement(e,t)});return l.displayName="withErrorBoundary(".concat(null!=(r=null!=(t=e.displayName)?t:e.name)?r:"Component",")"),a.memo(l)}(function(e){let{product:t}=e,r=(0,l.c3)(),{addItem:o}=(0,v._)(),[u,m]=(0,a.useState)(1),{sizes:f,colors:g,size:N,color:k,selectedVariant:C,onSizeChange:w,onColorChange:M}=function(e,t){let r=(0,a.useMemo)(()=>(0,d.n5)(e),[void 0,e]),[s,n]=(0,a.useState)(r.size),[l,o]=(0,a.useState)(r.color),i=(0,a.useMemo)(()=>(0,d.e)(e),[e]),c=(0,a.useMemo)(()=>(0,d.uP)(e),[e]),u=(0,a.useMemo)(()=>{var t;return null!=(t=(0,d.P5)(e,s,l))?t:r},[l,r,e,s]);return{sizes:i,colors:c,size:s,color:l,selectedVariant:u,onSizeChange:(0,a.useCallback)(e=>{n(e)},[]),onColorChange:(0,a.useCallback)(e=>{o(e)},[])}}(t),A=(0,a.useCallback)(e=>{m((0,j.pE)(e))},[]),I=(0,a.useCallback)(()=>{o(C.id,u)},[o,u,C.id]),S=(0,a.useMemo)(()=>!C.inStock,[C.inStock]);return(0,s.jsxs)("div",{className:"space-y-10",children:[(0,s.jsx)(i,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r(t.style)}),(0,s.jsx)("h1",{className:"font-display text-3xl font-semibold",children:r(t.name)}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:r(t.longDescription)})]}),(0,s.jsx)(c.A,{className:"gap-4",children:t.images.map(e=>(0,s.jsx)("div",{className:"relative aspect-card overflow-hidden rounded-3xl bg-surface-2",children:(0,s.jsx)(n.default,{src:e.src,alt:r(e.alt),fill:!0,sizes:"(max-width: 480px) 100vw, 420px",className:"object-cover"})},e.src))})]})}),(0,s.jsx)(i,{className:"pt-0",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-2xl font-semibold",children:(0,s.jsx)(b.A,{amount:C.price,currency:C.currency})}),(0,s.jsx)("div",{className:(S?["rounded-full","bg-muted/20","px-3","py-1","text-xs","font-semibold","text-muted-foreground"]:["rounded-full","bg-success/20","px-3","py-1","text-xs","font-semibold","text-success-foreground"]).join(" "),children:S?r("product.outOfStock"):r("product.inStock")})]}),(0,s.jsx)(x,{sizes:f,colors:g,size:N,color:k,onSizeChange:w,onColorChange:M}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.quantity")}),(0,s.jsx)(p.A,{quantity:u,onChange:A,label:r("product.quantity")})]}),(0,s.jsx)(y.A,{type:"button",onClick:I,disabled:S,children:r("product.addToCart")})]})}),(0,s.jsx)(i,{className:"pt-0",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.features")}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-muted-foreground",children:t.featureBullets.map(e=>(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{"aria-hidden":!0,className:"mt-1 text-primary",children:"+"}),(0,s.jsx)("span",{children:r(e)})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.materials")}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-muted-foreground",children:t.materials.map(e=>(0,s.jsx)("li",{children:r(e)},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.care")}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-muted-foreground",children:t.careInstructions.map(e=>(0,s.jsx)("li",{children:r(e)},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.compatibility")}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-muted-foreground",children:t.compatibilityNotes.map(e=>(0,s.jsx)("li",{children:r(e)},e))})]})]})}),(0,s.jsx)(h,{amount:C.price,currency:C.currency,onAdd:I,disabled:S,label:r("product.addToCart")})]})});function C(e){return(0,s.jsx)(k,{...e})}}},e=>{var t=t=>e(e.s=t);e.O(0,[106,707,132,956,889,358],()=>t(844)),_N_E=e.O()}]);