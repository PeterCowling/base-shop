"use strict";(self.webpackChunk_apps_storybook=self.webpackChunk_apps_storybook||[]).push([[3573],{"../../packages/ui/src/components/cms/blocks/FinancingBadge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>FinancingBadge});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),_acme_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/i18n/src/index.ts");function formatMoney(v,currency){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:currency||"USD"}).format(v)}catch(e){return`$${v.toFixed(2)}`}}function FinancingBadge({provider="custom",apr=0,termMonths=12,price,currency,label,className,...rest}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_2__.c3)(),monthly=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{if("number"!=typeof price||price<=0||termMonths<=0)return null;const base=price/termMonths;return Math.max(0,base)},[price,termMonths]),text=null!=label?label:null!=monthly?t("pricing.perMonthShort",{amount:formatMoney(monthly,currency)}):void 0,providerLabel=provider[0].toUpperCase()+provider.slice(1),aprText=apr?t("finance.apr",{apr:`${apr.toFixed(2)}%`}):t("finance.aprZero");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:["inline-flex items-center gap-2 rounded border px-2 py-1 text-xs",className].filter(Boolean).join(" ")||void 0,...rest,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"rounded bg-black px-1.5 py-0.5 text-white",children:[providerLabel," "]})," ",text?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:text}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-neutral-600",children:aprText})]})}FinancingBadge.__docgenInfo={description:"",methods:[],displayName:"FinancingBadge",props:{provider:{required:!1,tsType:{name:"union",raw:'"affirm" | "klarna" | "afterpay" | "custom"',elements:[{name:"literal",value:'"affirm"'},{name:"literal",value:'"klarna"'},{name:"literal",value:'"afterpay"'},{name:"literal",value:'"custom"'}]},description:"",defaultValue:{value:'"custom"',computed:!1}},apr:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},termMonths:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"12",computed:!1}},price:{required:!1,tsType:{name:"number"},description:""},currency:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""}}}},"../../packages/ui/src/components/cms/blocks/PDPDetailsSection.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PDPDetailsSection});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),_atoms_Price__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("../../packages/ui/src/components/atoms/Price.tsx"));function PDPDetailsSection({product,preset="default",className,...rest}){const luxury="luxury"===preset,rootClass=[className,luxury?"space-y-6":"space-y-4"].filter(Boolean).join(" "),titleClass=["font-semibold",luxury?"text-3xl tracking-wide":"text-2xl"].join(" "),descClass=luxury?"w-full sm:max-w-2xl leading-8 text-neutral-700":"w-full sm:max-w-xl text-neutral-700";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:rootClass||void 0,...rest,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{className:titleClass,children:product.title}),"number"==typeof product.price?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Price__WEBPACK_IMPORTED_MODULE_2__.g,{amount:product.price,className:luxury?"text-xl":"text-lg"}):null,product.description?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:descClass,children:product.description}):null]})}PDPDetailsSection.__docgenInfo={description:"",methods:[],displayName:"PDPDetailsSection",props:{product:{required:!0,tsType:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},description:""},preset:{required:!1,tsType:{name:"union",raw:'"default" | "luxury"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"luxury"'}]},description:"",defaultValue:{value:'"default"',computed:!1}}}}},"../../packages/ui/src/components/cms/blocks/PoliciesAccordion.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PoliciesAccordion});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js");__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js");function PoliciesAccordion({shipping,returns,warranty,className,...rest}){const items=[shipping?{id:"shipping",title:"Shipping",content:shipping}:null,returns?{id:"returns",title:"Returns",content:returns}:null,warranty?{id:"warranty",title:"Warranty",content:warranty}:null].filter(Boolean);return items.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className,...rest,children:items.map(it=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("details",{className:"border-b py-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("summary",{className:"cursor-pointer select-none font-medium",children:it.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"prose mt-2 w-full text-sm text-neutral-700",dangerouslySetInnerHTML:{__html:it.content}})]},it.id))}):null}PoliciesAccordion.__docgenInfo={description:"",methods:[],displayName:"PoliciesAccordion",props:{shipping:{required:!1,tsType:{name:"string"},description:""},returns:{required:!1,tsType:{name:"string"},description:""},warranty:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}},"../../packages/ui/src/components/cms/blocks/StickyBuyBar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>StickyBuyBar});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),_organisms_StickyAddToCartBar__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("../../packages/ui/src/components/organisms/StickyAddToCartBar.tsx"));function StickyBuyBar({product,className,...rest}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_organisms_StickyAddToCartBar__WEBPACK_IMPORTED_MODULE_2__.p,{product,className,...rest})}StickyBuyBar.__docgenInfo={description:"",methods:[],displayName:"StickyBuyBar",props:{product:{required:!0,tsType:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}},"../../packages/ui/src/components/organisms/StickyAddToCartBar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>StickyAddToCartBar});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),_utils_style__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("../../packages/ui/src/utils/style/index.ts")),_atoms_shadcn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/ui/src/components/atoms/shadcn/index.ts"),_atoms_Price__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/ui/src/components/atoms/Price.tsx"),_acme_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/i18n/src/index.ts"),_i18n_resolveText__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/i18n/src/resolveText.ts");function StickyAddToCartBar({product,onAddToCart,ctaLabel,padding="p-4",className,locale,...props}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_5__.c3)(),label=ctaLabel?"string"==typeof ctaLabel?ctaLabel:"key"===ctaLabel.type?t(ctaLabel.key,ctaLabel.params):"inline"===ctaLabel.type?(0,_i18n_resolveText__WEBPACK_IMPORTED_MODULE_6__.W)(ctaLabel,null!=locale?locale:"en",t):t("actions.addToCart"):t("actions.addToCart"),BAR_BASE_CLASSES=["sticky","end-0","bottom-0","start-0","flex","items-center","justify-between","gap-4","border-t","bg-bg","shadow-elevation-2"].join(" ");var _product_title;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_utils_style__WEBPACK_IMPORTED_MODULE_2__.cn)(BAR_BASE_CLASSES,padding,className),"data-token":"--color-bg",...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-sm",children:null!==(_product_title=product.title)&&void 0!==_product_title?_product_title:""}),null!=product.price&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Price__WEBPACK_IMPORTED_MODULE_4__.g,{amount:product.price,className:"font-semibold"})]}),onAddToCart&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_3__.$n,{onClick:()=>onAddToCart(product),children:label})]})}StickyAddToCartBar.__docgenInfo={description:"Sticky bottom bar showing product info and an add-to-cart button.",methods:[],displayName:"StickyAddToCartBar",props:{product:{required:!0,tsType:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},description:""},onAddToCart:{required:!1,tsType:{name:"signature",type:"function",raw:"(product: SKU) => void",signature:{arguments:[{type:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},name:"product"}],return:{name:"void"}}},description:""},ctaLabel:{required:!1,tsType:{name:"TranslatableText"},description:""},padding:{required:!1,tsType:{name:"string"},description:"Override default padding classes.",defaultValue:{value:'"p-4"',computed:!1}},locale:{required:!1,tsType:{name:"Locale"},description:"Optional current locale used for inline values"}}}},"./.storybook/stories/PDP.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ARAnd360:()=>ARAnd360,AddToCartFlow:()=>AddToCartFlow,LuxuryPreset:()=>LuxuryPreset,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),_testing_library_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/@testing-library/dom/dist/@testing-library/dom.esm.js"),_testing_library_user_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/index.js"),_packages_ui_src_components_cms_blocks_PDPDetailsSection__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/ui/src/components/cms/blocks/PDPDetailsSection.tsx"),_packages_ui_src_components_cms_blocks_PoliciesAccordion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/ui/src/components/cms/blocks/PoliciesAccordion.tsx"),_packages_ui_src_components_cms_blocks_FinancingBadge__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/ui/src/components/cms/blocks/FinancingBadge.tsx"),_packages_ui_src_components_cms_blocks_StickyBuyBar__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/ui/src/components/cms/blocks/StickyBuyBar.tsx"),_packages_ui_src_components_organisms_ProductGallery__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../packages/ui/src/components/organisms/ProductGallery.tsx"),_components_CartStatus__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./.storybook/components/CartStatus.tsx");const DEFAULT_PRODUCT={id:"lux-001",slug:"lux-001",title:"Luxe Leather Tote",price:1299,deposit:0,stock:3,forSale:!0,forRental:!1,media:[{type:"image",url:"/shop/black.jpg",altText:"Tote front"},{type:"image",url:"/shop/sand.jpg",altText:"Tote detail"}],sizes:[],description:"A spacious editorial layout showcases product details with luxury spacing. Full‑grain leather and hand‑finished edges."};const __WEBPACK_DEFAULT_EXPORT__={title:"Compositions/PDP",component:function PDPComposition({showCartStatus=!1,product,galleryProps,detailsProps,financingProps,policies,stickyBarProps}){var _financingProps_price;const resolvedFinancing=financingProps?{price:null!==(_financingProps_price=financingProps.price)&&void 0!==_financingProps_price?_financingProps_price:product.price,currency:"USD",...financingProps}:null;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{maxWidth:1120,margin:"0 auto",padding:16},children:[showCartStatus?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_CartStatus__WEBPACK_IMPORTED_MODULE_8__.f,{}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:24},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_ui_src_components_organisms_ProductGallery__WEBPACK_IMPORTED_MODULE_7__.M,{media:product.media,...galleryProps}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_ui_src_components_cms_blocks_PDPDetailsSection__WEBPACK_IMPORTED_MODULE_3__.A,{product,...detailsProps})]}),resolvedFinancing?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{marginTop:12},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_ui_src_components_cms_blocks_FinancingBadge__WEBPACK_IMPORTED_MODULE_5__.A,{...resolvedFinancing})}):null,policies?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{marginTop:16},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_ui_src_components_cms_blocks_PoliciesAccordion__WEBPACK_IMPORTED_MODULE_4__.A,{...policies})}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{marginTop:24},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_ui_src_components_cms_blocks_StickyBuyBar__WEBPACK_IMPORTED_MODULE_6__.A,{product,...stickyBarProps})})]})},parameters:{cart:!0},args:{showCartStatus:!0,product:DEFAULT_PRODUCT,galleryProps:{},detailsProps:{preset:"luxury"},financingProps:{provider:"klarna",apr:0,termMonths:12},policies:{shipping:"<p>Free insured shipping worldwide</p>",returns:"<p>30‑day returns. Prepaid label.</p>",warranty:"<p>2‑year limited warranty</p>"},stickyBarProps:{}}},LuxuryPreset={},ARAnd360={name:"AR + 360 Media",args:{product:{...DEFAULT_PRODUCT,media:[{type:"360",frames:["/shop/black.jpg","/shop/sand.jpg","/shop/black.jpg","/shop/sand.jpg"]},{type:"model",src:"/models/bag.glb",alt:"3D model"},{type:"image",url:"/shop/black.jpg",altText:"Fallback image"}]},financingProps:{provider:"affirm",apr:9.99,termMonths:12}}},AddToCartFlow={name:"Add to cart (flow)",parameters:{cart:!0},play:async({canvasElement})=>{const canvas=(0,_testing_library_dom__WEBPACK_IMPORTED_MODULE_1__.ux)(canvasElement),badge=await canvas.findByText(/Cart items:/i),addBtn=await canvas.findByRole("button",{name:/add to cart/i});await _testing_library_user_event__WEBPACK_IMPORTED_MODULE_2__.Ay.click(addBtn),await(0,_testing_library_dom__WEBPACK_IMPORTED_MODULE_1__.fm)(()=>{var _badge_textContent;if(!(null===(_badge_textContent=badge.textContent)||void 0===_badge_textContent?void 0:_badge_textContent.match(/Cart items:\s*[1-9]/)))throw new Error("Cart count did not increment")})}},__namedExportsOrder=["LuxuryPreset","ARAnd360","AddToCartFlow"];LuxuryPreset.parameters={...LuxuryPreset.parameters,docs:{...LuxuryPreset.parameters?.docs,source:{originalSource:"{}",...LuxuryPreset.parameters?.docs?.source}}},ARAnd360.parameters={...ARAnd360.parameters,docs:{...ARAnd360.parameters?.docs,source:{originalSource:"{\n  name: 'AR + 360 Media',\n  args: {\n    product: {\n      ...DEFAULT_PRODUCT,\n      media: [{\n        type: '360',\n        frames: ['/shop/black.jpg', '/shop/sand.jpg', '/shop/black.jpg', '/shop/sand.jpg']\n      }, {\n        type: 'model',\n        src: '/models/bag.glb',\n        alt: '3D model'\n      } as any, {\n        type: 'image',\n        url: '/shop/black.jpg',\n        altText: 'Fallback image'\n      }]\n    },\n    financingProps: {\n      provider: 'affirm',\n      apr: 9.99,\n      termMonths: 12\n    }\n  }\n}",...ARAnd360.parameters?.docs?.source}}},AddToCartFlow.parameters={...AddToCartFlow.parameters,docs:{...AddToCartFlow.parameters?.docs,source:{originalSource:"{\n  name: 'Add to cart (flow)',\n  parameters: {\n    cart: true\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const badge = await canvas.findByText(/Cart items:/i);\n    const addBtn = await canvas.findByRole('button', {\n      name: /add to cart/i\n    });\n    await userEvent.click(addBtn);\n    await waitFor(() => {\n      if (!badge.textContent?.match(/Cart items:\\s*[1-9]/)) {\n        throw new Error('Cart count did not increment');\n      }\n    });\n  }\n}",...AddToCartFlow.parameters?.docs?.source}}}}}]);