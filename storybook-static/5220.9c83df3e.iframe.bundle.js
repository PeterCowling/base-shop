"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[5220],{"./packages/ui/src/components/cms/marketing/segments/SegmentBuilderWizard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>segments_SegmentBuilderWizard});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),atoms=__webpack_require__("./packages/ui/src/components/atoms/index.ts"),style=__webpack_require__("./packages/ui/src/utils/style/index.ts"),shared=__webpack_require__("./packages/ui/src/components/cms/marketing/shared/index.ts");function SegmentBuilderWizardLayout({steps,currentStepIndex,onStepSelect,className,children}){return(0,jsx_runtime.jsxs)("div",{className:(0,style.cn)("space-y-6",className),children:[(0,jsx_runtime.jsx)(shared.SK,{steps,currentStep:currentStepIndex,onStepSelect}),children]})}SegmentBuilderWizardLayout.__docgenInfo={description:"",methods:[],displayName:"SegmentBuilderWizardLayout",props:{steps:{required:!0,tsType:{name:"Array",elements:[{name:"StepDefinition"}],raw:"StepDefinition[]"},description:""},currentStepIndex:{required:!0,tsType:{name:"number"},description:""},onStepSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var shadcn=__webpack_require__("./packages/ui/src/components/atoms/shadcn/index.ts"),src=__webpack_require__("./packages/i18n/src/index.ts");function SegmentDetailsStep({definition,errors,onDefinitionChange,onSubmit}){const t=(0,src.c3)();return(0,jsx_runtime.jsxs)("form",{onSubmit,className:"space-y-4",noValidate:!0,children:[(0,jsx_runtime.jsx)(shadcn.Zp,{children:(0,jsx_runtime.jsxs)(shadcn.Wu,{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-1",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"segment-name",className:"text-sm font-medium",children:t("cms.marketing.segments.details.name.label")}),(0,jsx_runtime.jsx)(shadcn.pd,{id:"segment-name",value:definition.name,onChange:event=>onDefinitionChange({name:event.target.value}),"aria-invalid":errors.name?"true":"false","aria-describedby":errors.name?"segment-name-error":void 0}),errors.name&&(0,jsx_runtime.jsx)("p",{id:"segment-name-error",className:"text-danger text-xs","data-token":"--color-danger",children:errors.name})]}),(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-1 sm:col-span-2",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"segment-description",className:"text-sm font-medium",children:t("cms.marketing.segments.details.description.label")}),(0,jsx_runtime.jsx)(shadcn.TM,{id:"segment-description",rows:3,value:definition.description,onChange:event=>onDefinitionChange({description:event.target.value})})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-1",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"segment-size",className:"text-sm font-medium",children:t("cms.marketing.segments.estimatedSize.label")}),(0,jsx_runtime.jsx)(shadcn.pd,{id:"segment-size",type:"number",min:0,value:String(definition.estimatedSize),onChange:event=>onDefinitionChange({estimatedSize:Number(event.target.value||0)})})]})]})]})}),(0,jsx_runtime.jsx)("div",{className:"flex justify-end gap-2",children:(0,jsx_runtime.jsx)(shadcn.$n,{type:"submit",children:t("actions.continue")})})]})}SegmentDetailsStep.__docgenInfo={description:"",methods:[],displayName:"SegmentDetailsStep",props:{definition:{required:!0,tsType:{name:"SegmentDefinition"},description:""},errors:{required:!0,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:'"name" | "rules"',elements:[{name:"literal",value:'"name"'},{name:"literal",value:'"rules"'}]},{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}],raw:"Record<TField, string | undefined>"}],raw:"Partial<\n  Record<TField, string | undefined>\n>"},description:""},onDefinitionChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(patch: Partial<SegmentDefinition>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"SegmentDefinition"}],raw:"Partial<SegmentDefinition>"},name:"patch"}],return:{name:"void"}}},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: FormEvent<HTMLFormElement>) => void",signature:{arguments:[{type:{name:"FormEvent",elements:[{name:"HTMLFormElement"}],raw:"FormEvent<HTMLFormElement>"},name:"event"}],return:{name:"void"}}},description:""}}};var SegmentPreviewPanel=__webpack_require__("./packages/ui/src/components/cms/marketing/segments/SegmentPreviewPanel.tsx"),SegmentSummaryCard=__webpack_require__("./packages/ui/src/components/cms/marketing/segments/SegmentSummaryCard.tsx");function SegmentReviewStep({preview,status,finishLabel,onEditRules,onEditDetails,onFinish}){const t=(0,src.c3)();return(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3",children:[(0,jsx_runtime.jsx)("div",{className:"lg:col-span-2",children:(0,jsx_runtime.jsx)(SegmentPreviewPanel.A,{data:preview})}),(0,jsx_runtime.jsx)(SegmentSummaryCard.A,{data:preview,statusLabel:t("success"===status?"Ready":"Draft"),actions:(0,jsx_runtime.jsx)(shadcn.$n,{variant:"outline",onClick:onEditRules,children:t("Edit rules")}),footer:(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap justify-end gap-2",children:[(0,jsx_runtime.jsx)(shadcn.$n,{variant:"outline",onClick:onEditDetails,children:t("Update details")}),(0,jsx_runtime.jsx)(shadcn.$n,{onClick:onFinish,disabled:"submitting"===status,children:"submitting"===status?t("Savingâ€¦"):finishLabel})]})})]})}SegmentReviewStep.__docgenInfo={description:"",methods:[],displayName:"SegmentReviewStep",props:{preview:{required:!0,tsType:{name:"SegmentPreviewData"},description:""},status:{required:!0,tsType:{name:"union",raw:'| "idle"\n| "validating"\n| "submitting"\n| "success"\n| "error"',elements:[{name:"literal",value:'"idle"'},{name:"literal",value:'"validating"'},{name:"literal",value:'"submitting"'},{name:"literal",value:'"success"'},{name:"literal",value:'"error"'}]},description:""},finishLabel:{required:!0,tsType:{name:"string"},description:""},onEditRules:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onEditDetails:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFinish:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const attributes=[{value:"lifetime_value"},{value:"purchase_count"},{value:"country"},{value:"last_order_date"}],operatorOptions=[{value:"equals"},{value:"contains"},{value:"greaterThan"},{value:"lessThan"}];function SegmentRulesStep({definition,errors,onRuleChange,onRuleAdd,onRuleRemove,onBack,onNext}){const t=(0,src.c3)();return(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)(shadcn.Zp,{children:(0,jsx_runtime.jsxs)(shadcn.Wu,{className:"space-y-4",children:[definition.rules.map(rule=>(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border p-3",children:[(0,jsx_runtime.jsxs)(shadcn.l6,{value:rule.attribute,onValueChange:value=>onRuleChange(rule.id,{attribute:value}),children:[(0,jsx_runtime.jsx)(shadcn.bq,{className:"min-w-44",children:(0,jsx_runtime.jsx)(shadcn.yv,{placeholder:t("cms.marketing.segments.rules.attribute.label")})}),(0,jsx_runtime.jsx)(shadcn.gC,{children:attributes.map(attr=>(0,jsx_runtime.jsx)(shadcn.eb,{value:attr.value,children:t(`cms.marketing.segments.attributes.${attr.value}`)},attr.value))})]}),(0,jsx_runtime.jsxs)(shadcn.l6,{value:rule.operator,onValueChange:value=>onRuleChange(rule.id,{operator:value}),children:[(0,jsx_runtime.jsx)(shadcn.bq,{className:"min-w-36",children:(0,jsx_runtime.jsx)(shadcn.yv,{placeholder:t("cms.marketing.segments.rules.operator.label")})}),(0,jsx_runtime.jsx)(shadcn.gC,{children:operatorOptions.map(option=>(0,jsx_runtime.jsx)(shadcn.eb,{value:option.value,children:t(`cms.marketing.segments.operators.${option.value}`)},option.value))})]}),(0,jsx_runtime.jsx)(shadcn.pd,{value:rule.value,onChange:event=>onRuleChange(rule.id,{value:event.target.value}),className:"min-w-40"}),(0,jsx_runtime.jsx)(shadcn.$n,{type:"button",variant:"outline",onClick:()=>onRuleRemove(rule.id),disabled:1===definition.rules.length,children:t("actions.remove")})]},rule.id)),errors.rules&&(0,jsx_runtime.jsx)("p",{className:"text-danger text-xs","data-token":"--color-danger",children:errors.rules}),(0,jsx_runtime.jsx)(shadcn.$n,{type:"button",variant:"outline",onClick:onRuleAdd,children:t("cms.marketing.segments.rules.add")})]})}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)(shadcn.$n,{variant:"ghost",onClick:onBack,children:t("actions.back")}),(0,jsx_runtime.jsx)(shadcn.$n,{onClick:onNext,children:t("cms.marketing.segments.review.cta")})]})]})}SegmentRulesStep.__docgenInfo={description:"",methods:[],displayName:"SegmentRulesStep",props:{definition:{required:!0,tsType:{name:"SegmentDefinition"},description:""},errors:{required:!0,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:'"name" | "rules"',elements:[{name:"literal",value:'"name"'},{name:"literal",value:'"rules"'}]},{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}],raw:"Record<TField, string | undefined>"}],raw:"Partial<\n  Record<TField, string | undefined>\n>"},description:""},onRuleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(ruleId: string, patch: Partial<SegmentRule>) => void",signature:{arguments:[{type:{name:"string"},name:"ruleId"},{type:{name:"Partial",elements:[{name:"SegmentRule"}],raw:"Partial<SegmentRule>"},name:"patch"}],return:{name:"void"}}},description:""},onRuleAdd:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onRuleRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"(ruleId: string) => void",signature:{arguments:[{type:{name:"string"},name:"ruleId"}],return:{name:"void"}}},description:""},onBack:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onNext:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var react=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),types=__webpack_require__("./packages/ui/src/components/cms/marketing/segments/types.ts");function buildDefinition(initialDefinition){var _initialDefinition_rules;return{...{...types.M,...initialDefinition},rules:(null==initialDefinition||null===(_initialDefinition_rules=initialDefinition.rules)||void 0===_initialDefinition_rules?void 0:_initialDefinition_rules.length)?initialDefinition.rules:types.M.rules}}function SegmentBuilderWizard({initialDefinition,onSubmit,validationErrors,onPreviewChange,finishLabel,className}){const t=(0,src.c3)(),resolvedFinishLabel=null!=finishLabel?finishLabel:t("segments.builder.finishLabel.create"),{steps,stepIndex,currentStep,definition,preview,status,errors,goToStep,updateDefinition,updateRule,addRule,removeRule,handleDetailsSubmit,handleRulesNext,handleFinish,toast,closeToast}=function useSegmentBuilderWizard({initialDefinition,onSubmit,validationErrors,onPreviewChange}){const t=(0,src.c3)(),wizardSteps=(0,react.useMemo)(()=>[{id:"details",label:t("cms.marketing.segmentWizard.steps.details.label"),description:t("cms.marketing.segmentWizard.steps.details.desc")},{id:"rules",label:t("cms.marketing.segmentWizard.steps.rules.label"),description:t("cms.marketing.segmentWizard.steps.rules.desc")},{id:"review",label:t("cms.marketing.segmentWizard.steps.review.label"),description:t("cms.marketing.segmentWizard.steps.review.desc")}],[t]),[definition,setDefinition]=(0,react.useState)(()=>buildDefinition(initialDefinition)),[preview,setPreview]=(0,react.useState)(()=>(0,types.I)(buildDefinition(initialDefinition))),[stepIndex,setStepIndex]=(0,react.useState)(0),[status,setStatus]=(0,react.useState)("idle"),[errors,setErrors]=(0,react.useState)({}),[toast,setToast]=(0,react.useState)({open:!1,message:""});(0,react.useEffect)(()=>{setDefinition(buildDefinition(initialDefinition))},[initialDefinition]),(0,react.useEffect)(()=>{const nextPreview=(0,types.I)(definition);setPreview(nextPreview),null==onPreviewChange||onPreviewChange(nextPreview)},[definition,onPreviewChange]);const goToStep=(0,react.useCallback)(index=>{setStepIndex(current=>{const nextIndex=Math.min(Math.max(index,0),wizardSteps.length-1);return nextIndex===current?current:nextIndex})},[wizardSteps.length]),updateDefinition=(0,react.useCallback)(patch=>{setDefinition(prev=>({...prev,...patch}))},[]),updateRule=(0,react.useCallback)((ruleId,patch)=>{setDefinition(prev=>({...prev,rules:prev.rules.map(rule=>rule.id===ruleId?{...rule,...patch}:rule)}))},[]),addRule=(0,react.useCallback)(()=>{setDefinition(prev=>({...prev,rules:[...prev.rules,{id:`rule-${prev.rules.length+1}`,attribute:"country",operator:"equals",value:"United States"}]}))},[]),removeRule=(0,react.useCallback)(ruleId=>{setDefinition(prev=>({...prev,rules:prev.rules.filter(rule=>rule.id!==ruleId)}))},[]),handleDetailsSubmit=(0,react.useCallback)(event=>{event.preventDefault();const nextErrors={};var _nextErrors_name,_ref;definition.name||(nextErrors.name=t("cms.marketing.segmentWizard.errors.nameRequired")),setErrors(nextErrors),Object.keys(nextErrors).length>0?setToast({open:!0,message:null!==(_ref=null!==(_nextErrors_name=nextErrors.name)&&void 0!==_nextErrors_name?_nextErrors_name:t("cms.marketing.segmentWizard.errors.validation"))&&void 0!==_ref?_ref:""}):goToStep(stepIndex+1)},[definition.name,goToStep,stepIndex,t]),handleRulesNext=(0,react.useCallback)(()=>{const nextErrors={};var _nextErrors_rules,_ref;if(0===definition.rules.length?nextErrors.rules=t("cms.marketing.segmentWizard.errors.rulesRequired"):definition.rules.some(rule=>!rule.attribute||!rule.operator||!rule.value)&&(nextErrors.rules=t("cms.marketing.segmentWizard.errors.completeRules")),setErrors(nextErrors),Object.keys(nextErrors).length>0)return void setToast({open:!0,message:null!==(_ref=null!==(_nextErrors_rules=nextErrors.rules)&&void 0!==_nextErrors_rules?_nextErrors_rules:t("cms.marketing.segmentWizard.errors.validation"))&&void 0!==_ref?_ref:""});const reviewIndex=wizardSteps.findIndex(s=>"review"===s.id);goToStep(-1===reviewIndex?stepIndex+1:reviewIndex)},[definition.rules,goToStep,stepIndex,t,wizardSteps]),handleFinish=(0,react.useCallback)(async()=>{if("submitting"!==status)if(onSubmit)try{setStatus("submitting"),await onSubmit(definition),setStatus("success"),setToast({open:!0,message:t("cms.marketing.segmentWizard.success.created")})}catch(error){setStatus("error");const fallback=error instanceof Error?error.message:t("cms.marketing.segmentWizard.errors.createFailed");setToast({open:!0,message:fallback})}else setToast({open:!0,message:t("cms.marketing.segmentWizard.success.readyToActivate")})},[definition,onSubmit,status,t]),derivedErrors=(0,react.useMemo)(()=>({...errors,...null!=validationErrors?validationErrors:{}}),[errors,validationErrors]),currentStep=wizardSteps[stepIndex],closeToast=(0,react.useCallback)(()=>{setToast(prev=>({...prev,open:!1}))},[]),apiRef=(0,react.useRef)({});return apiRef.current.steps=wizardSteps,apiRef.current.stepIndex=stepIndex,apiRef.current.currentStep=currentStep,apiRef.current.definition=definition,apiRef.current.preview=preview,apiRef.current.status=status,apiRef.current.errors=derivedErrors,apiRef.current.goToStep=goToStep,apiRef.current.updateDefinition=updateDefinition,apiRef.current.updateRule=updateRule,apiRef.current.addRule=addRule,apiRef.current.removeRule=removeRule,apiRef.current.handleDetailsSubmit=handleDetailsSubmit,apiRef.current.handleRulesNext=handleRulesNext,apiRef.current.handleFinish=handleFinish,apiRef.current.toast=toast,apiRef.current.closeToast=closeToast,apiRef.current}({initialDefinition,onSubmit,validationErrors,onPreviewChange});return(0,jsx_runtime.jsxs)(SegmentBuilderWizardLayout,{steps,currentStepIndex:stepIndex,onStepSelect:index=>{index<stepIndex&&goToStep(index)},className,children:["details"===currentStep.id&&(0,jsx_runtime.jsx)(SegmentDetailsStep,{definition,errors,onDefinitionChange:updateDefinition,onSubmit:handleDetailsSubmit}),"rules"===currentStep.id&&(0,jsx_runtime.jsx)(SegmentRulesStep,{definition,errors,onRuleChange:updateRule,onRuleAdd:addRule,onRuleRemove:removeRule,onBack:()=>goToStep(stepIndex-1),onNext:handleRulesNext}),"review"===currentStep.id&&(0,jsx_runtime.jsx)(SegmentReviewStep,{preview,status,finishLabel:resolvedFinishLabel,onEditRules:()=>goToStep(stepIndex-1),onEditDetails:()=>goToStep(stepIndex-2),onFinish:handleFinish}),(0,jsx_runtime.jsx)(atoms.y8,{open:toast.open,message:toast.message,onClose:closeToast})]})}const segments_SegmentBuilderWizard=SegmentBuilderWizard;SegmentBuilderWizard.__docgenInfo={description:"",methods:[],displayName:"SegmentBuilderWizard",props:{initialDefinition:{required:!1,tsType:{name:"Partial",elements:[{name:"SegmentDefinition"}],raw:"Partial<SegmentDefinition>"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(\n  values: TValues\n) => Promise<void> | void",signature:{arguments:[{type:{name:"SegmentDefinition"},name:"values"}],return:{name:"union",raw:"Promise<void> | void",elements:[{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"},{name:"void"}]}}},description:""},validationErrors:{required:!1,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:'"name" | "rules"',elements:[{name:"literal",value:'"name"'},{name:"literal",value:'"rules"'}]},{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}],raw:"Record<TField, string | undefined>"}],raw:"Partial<\n  Record<TField, string | undefined>\n>"},description:""},onPreviewChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(preview: SegmentPreviewData) => void",signature:{arguments:[{type:{name:"SegmentPreviewData"},name:"preview"}],return:{name:"void"}}},description:""},finishLabel:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}},"./packages/ui/src/components/cms/marketing/segments/SegmentPreviewPanel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/ui/src/components/atoms/shadcn/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/components/atoms/index.ts"),_acme_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/i18n/src/index.ts"),_shared__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/ui/src/components/cms/marketing/shared/index.ts");function SegmentPreviewPanel({data,className}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_3__.c3)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_shared__WEBPACK_IMPORTED_MODULE_4__.xH,{title:t("Segment snapshot"),description:t("Preview the rules applied to this audience."),data,className,renderPreview:preview=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-muted-foreground text-xs uppercase",children:t("Estimated size")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-base font-semibold",children:[preview.estimatedSize.toLocaleString()," ",t("people")]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-muted-foreground text-xs uppercase",children:t("Filters")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"space-y-2",children:preview.rules.map(rule=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.Zp,{className:"border-dashed",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_1__.Wu,{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.vw,{variant:"default",children:rule.attribute}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:rule.operator}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.vw,{variant:"success",children:rule.value})]})},rule.id))})]})]})})}const __WEBPACK_DEFAULT_EXPORT__=SegmentPreviewPanel;SegmentPreviewPanel.__docgenInfo={description:"",methods:[],displayName:"SegmentPreviewPanel",props:{data:{required:!0,tsType:{name:"SegmentPreviewData"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}},"./packages/ui/src/components/cms/marketing/segments/SegmentSummaryCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),_acme_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/i18n/src/index.ts"),_shared__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/components/cms/marketing/shared/index.ts");function SegmentSummaryCard({data,statusLabel="Draft",description,actions,footer}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_1__.c3)(),metrics=[{label:t("Rules"),value:`${data.rules.length} ${t(1===data.rules.length?"condition":"conditions")}`},{label:t("Estimated size"),value:data.estimatedSize.toLocaleString()}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_shared__WEBPACK_IMPORTED_MODULE_2__.Hv,{title:data.name||t("cms.marketing.segments.preview.untitled"),status:{label:t(statusLabel),tone:"warning"},description:null!=description?description:t("Sync the segment with marketing tools once you're satisfied with the filters."),metrics,actions,footer})}const __WEBPACK_DEFAULT_EXPORT__=SegmentSummaryCard;SegmentSummaryCard.__docgenInfo={description:"",methods:[],displayName:"SegmentSummaryCard",props:{data:{required:!0,tsType:{name:"SegmentPreviewData"},description:""},statusLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Draft"',computed:!1}},description:{required:!1,tsType:{name:"string"},description:""},actions:{required:!1,tsType:{name:"ReactNode"},description:""},footer:{required:!1,tsType:{name:"ReactNode"},description:""}}}},"./packages/ui/src/components/cms/marketing/segments/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>getSegmentPreview,M:()=>defaultSegmentDefinition});const defaultSegmentDefinition={name:"",description:"",rules:[{id:"rule-1",attribute:"lifetime_value",operator:"greaterThan",value:"500"}],estimatedSize:0};function getSegmentPreview(definition){return{name:definition.name||"",description:definition.description||"",rules:definition.rules,estimatedSize:definition.estimatedSize}}}}]);