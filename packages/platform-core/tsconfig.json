// packages/platform-core/tsconfig.json
{
  "extends": "../../tsconfig.base.json",

  /* ------------------------------------------------------------------
   *  Compiler options
   * ------------------------------------------------------------------ */
  "compilerOptions": {
    /* build output ---------------------------------------------------- */
    "composite": true,
    "declaration": true,
    "declarationMap": true,
    "noEmit": false,
    "outDir": "dist",

    /* React components ------------------------------------------------ */
    "jsx": "react-jsx",

    /* node_modules chatter ------------------------------------------- */
    "skipLibCheck": true,

    /* local imports stay package-relative ----------------------------- */
    "baseUrl": ".",
    "allowImportingTsExtensions": false,

    /* Next, React globals only --------------------------------------- */
    "types": ["react", "react-dom", "next"],

    /* ----------------------------------------------------------------
     *  Paths â€” everything listed here *overrides* the base config,
     *  so we must re-add the shared @types alias.
     * ---------------------------------------------------------------- */
    "paths": {
      /* this package itself */
      "@platform-core": ["."],
      "@platform-core/*": ["*"],

      /* shared type barrel (required) */
      "@types": ["../types/src/index.ts"],
      "@types/*": ["../types/src/*"],

      /* keep legacy alias for consistency */
      "@types/shared": ["../types/src/index.ts"],
      "@types/shared/*": ["../types/src/*"],

      /* local shorthand imports */
      "@/components/shop/*": ["components/shop/*"],
      "@/contexts/*": ["contexts/*"],
      "@/lib/*": ["lib/*"],

      /* other workspace shortcuts */
      "@themes/*": ["../themes/*"],
      "@lib/*": ["../lib/*"],
      "@cms/*": ["../../apps/cms/src/*"]
    }
  },

  /* ------------------------------------------------------------------
   *  File globs
   * ------------------------------------------------------------------ */
  "include": ["**/*.ts", "**/*.tsx"],
  "exclude": ["dist", "__tests__"],

  /* ------------------------------------------------------------------
   *  Build order
   * ------------------------------------------------------------------ */
  "references": [{ "path": "../lib" }, { "path": "../types" }]
}
