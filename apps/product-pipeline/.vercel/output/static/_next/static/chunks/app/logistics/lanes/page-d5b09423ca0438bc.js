(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5042],{732:(e,s,t)=>{"use strict";t.d(s,{default:()=>u});var r=t(6586),a=t(7826),n=t(8902);let i={name:"",model:"A",origin:"",destination:"",destinationType:"",incoterm:"",description:"",active:!0};function l(e){let{loading:s,strings:t,onCreated:l}=e,[o,d]=(0,a.useState)(i),[c,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),b=[{value:"A",label:t.options.modelA},{value:"B",label:t.options.modelB},{value:"C",label:t.options.modelC},{value:"D",label:t.options.modelD}],p=(0,a.useCallback)(async e=>{e.preventDefault();let s=o.name.trim(),r=o.model.trim();if(!s||!r)return void u(t.messages.createLaneError);x(!0),u(null);try{(await fetch("/api/logistics/lanes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,model:r,origin:o.origin.trim()||void 0,destination:o.destination.trim()||void 0,destinationType:o.destinationType.trim()||void 0,incoterm:o.incoterm.trim()||void 0,description:o.description.trim()||void 0,active:o.active})})).ok?(u(t.messages.createLaneSuccess),d(i),await l()):u(t.messages.createLaneError)}catch(e){console.error(e),u(t.messages.createLaneError)}finally{x(!1)}},[o,l,t.messages]),g=s||m;return(0,r.jsxs)("section",{className:"pp-card p-6",children:[(0,r.jsxs)(n.BJ,{gap:2,children:[(0,r.jsx)("span",{className:"text-xs uppercase tracking-widest text-foreground/60",children:t.create.label}),(0,r.jsx)("h2",{className:"text-xl font-semibold tracking-tight",children:t.create.title})]}),(0,r.jsxs)("form",{className:"mt-4 grid gap-4 md:grid-cols-2",onSubmit:p,children:[(0,r.jsxs)("label",{className:"text-xs uppercase tracking-widest text-foreground/60",children:[t.fields.name,(0,r.jsx)("input",{className:"mt-2 w-full rounded-2xl border border-border-1 bg-surface-2 px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30",value:o.name,onChange:e=>d(s=>({...s,name:e.target.value})),disabled:g,type:"text"})]}),(0,r.jsxs)("label",{className:"text-xs uppercase tracking-widest text-foreground/60",children:[t.fields.model,(0,r.jsx)("select",{className:"mt-2 w-full rounded-2xl border border-border-1 bg-surface-2 px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30",value:o.model,onChange:e=>d(s=>({...s,model:e.target.value})),disabled:g,children:b.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("label",{className:"text-xs uppercase tracking-widest text-foreground/60",children:[t.fields.origin,(0,r.jsx)("input",{className:"mt-2 w-full rounded-2xl border border-border-1 bg-surface-2 px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30",value:o.origin,onChange:e=>d(s=>({...s,origin:e.target.value})),disabled:g,type:"text"})]}),(0,r.jsxs)("label",{className:"text-xs uppercase tracking-widest text-foreground/60",children:[t.fields.destination,(0,r.jsx)("input",{className:"mt-2 w-full rounded-2xl border border-border-1 bg-surface-2 px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30",value:o.destination,onChange:e=>d(s=>({...s,destination:e.target.value})),disabled:g,type:"text"})]}),(0,r.jsxs)("label",{className:"text-xs uppercase tracking-widest text-foreground/60",children:[t.fields.destinationType,(0,r.jsx)("input",{className:"mt-2 w-full rounded-2xl border border-border-1 bg-surface-2 px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30",value:o.destinationType,onChange:e=>d(s=>({...s,destinationType:e.target.value})),disabled:g,type:"text"})]}),(0,r.jsxs)("label",{className:"text-xs uppercase tracking-widest text-foreground/60",children:[t.fields.incoterm,(0,r.jsx)("input",{className:"mt-2 w-full rounded-2xl border border-border-1 bg-surface-2 px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30",value:o.incoterm,onChange:e=>d(s=>({...s,incoterm:e.target.value})),disabled:g,type:"text"})]}),(0,r.jsxs)("label",{className:"text-xs uppercase tracking-widest text-foreground/60 md:col-span-2",children:[t.fields.description,(0,r.jsx)("input",{className:"mt-2 w-full rounded-2xl border border-border-1 bg-surface-2 px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30",value:o.description,onChange:e=>d(s=>({...s,description:e.target.value})),disabled:g,type:"text"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-foreground/60 md:col-span-2",children:[(0,r.jsx)("input",{className:"h-4 w-4 min-h-12 min-w-12 shrink-0 rounded border border-border-2",checked:o.active,onChange:e=>d(s=>({...s,active:e.target.checked})),disabled:g,type:"checkbox"}),t.fields.active]}),(0,r.jsxs)(n.d2,{justify:"between",alignY:"center",className:"gap-3 md:col-span-2",children:[(0,r.jsx)("span",{className:"text-xs text-foreground/60",children:null!=c?c:t.notAvailable}),(0,r.jsx)("button",{className:"min-h-12 min-w-12 rounded-full bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground disabled:cursor-not-allowed disabled:opacity-60",type:"submit",disabled:g,children:t.create.action})]})]})]})}var o=t(55),d=t.n(o);function c(e){let{lanes:s,loading:t,strings:a}=e;return(0,r.jsxs)("section",{className:"pp-card p-6",children:[(0,r.jsxs)(n.BJ,{gap:2,children:[(0,r.jsx)("span",{className:"text-xs uppercase tracking-widest text-foreground/60",children:a.list.label}),(0,r.jsx)("h2",{className:"text-xl font-semibold tracking-tight",children:a.list.title})]}),(0,r.jsx)(n.BJ,{gap:4,className:"mt-6",children:t?(0,r.jsx)("div",{className:"rounded-2xl border border-border-1 bg-surface-2 p-4 text-sm text-foreground/60",children:a.notAvailable}):0===s.length?(0,r.jsx)("div",{className:"rounded-2xl border border-border-1 bg-surface-2 p-4 text-sm text-foreground/60",children:a.list.empty}):s.map(e=>{var s,t,i;let l=e.latestVersion?function(e,s){if(!e)return{label:s.badges.noExpiry,tone:"text-foreground/60"};let t=new Date(e);if(Number.isNaN(t.getTime()))return null;let r=Math.ceil((t.getTime()-Date.now())/864e5);return r<0?{label:s.badges.expired,tone:"text-red-600"}:r<=14?{label:"".concat(s.badges.expiring," ").concat(r,"d"),tone:"text-amber-600"}:{label:"".concat(s.badges.valid," ").concat(r,"d"),tone:"text-emerald-600"}}(e.latestVersion.expiresAt,a):null,o=e.active?a.badges.active:a.badges.inactive;return(0,r.jsxs)("div",{className:"rounded-3xl border border-border-1 bg-surface-2 p-4",children:[(0,r.jsxs)(n.d2,{justify:"between",alignY:"center",className:"gap-4",children:[(0,r.jsxs)(n.BJ,{gap:1,children:[(0,r.jsxs)("span",{className:"text-xs text-foreground/60",children:[e.model," - ",null!=(s=e.incoterm)?s:a.notAvailable]}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:e.name}),(0,r.jsxs)("span",{className:"text-xs text-foreground/60",children:[null!=(t=e.origin)?t:a.notAvailable," â†’ ",null!=(i=e.destination)?i:a.notAvailable]})]}),(0,r.jsxs)(n.BJ,{gap:2,className:"items-end text-xs",children:[(0,r.jsx)("span",{className:"rounded-full border border-border-2 px-3 py-1",children:o}),l?(0,r.jsx)("span",{className:"text-xs ".concat(l.tone),children:l.label}):null]})]}),(0,r.jsxs)("div",{className:"mt-4 text-sm text-foreground/70",children:[a.labels.latestVersion,":"," ",(0,r.jsx)("span",{className:"font-semibold",children:function(e,s){var t,r;if(!e.latestVersion)return s.labels.noVersions;let a=e.latestVersion,n=null===a.costAmount||void 0===a.costAmount?s.notAvailable:a.costAmount.toFixed(2),i=null!=(t=a.costBasis)?t:s.notAvailable,l=null===a.leadTimeBaseDays||void 0===a.leadTimeBaseDays?s.notAvailable:"".concat(a.leadTimeBaseDays,"d"),o=null!=(r=a.confidence)?r:s.notAvailable;return"".concat(o," | ").concat(n," ").concat(i," | ").concat(l)}(e,a)})]}),(0,r.jsxs)("div",{className:"mt-3 text-xs text-foreground/60",children:[a.labels.versionCount,": ",e.versionCount]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(d(),{className:"rounded-full border border-border-2 px-4 py-2 text-xs font-semibold",href:"/logistics/lanes/".concat(e.id),children:a.labels.viewLane})})]},e.id)})})]})}function u(e){let{strings:s}=e,[t,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),d=(0,a.useCallback)(async()=>{o(!0);try{let e=await fetch("/api/logistics/lanes?limit=50");if(!e.ok)return;let s=await e.json();s.ok&&Array.isArray(s.lanes)&&n(s.lanes)}catch(e){console.error(e)}finally{o(!1)}},[]);return(0,a.useEffect)(()=>{d()},[d]),(0,r.jsxs)("div",{className:"grid gap-6",children:[(0,r.jsxs)("div",{className:"rounded-3xl border border-border-1 bg-surface-2 p-4 text-sm text-foreground/70",children:[(0,r.jsx)("div",{className:"text-xs uppercase tracking-widest text-foreground/60",children:s.help.label}),(0,r.jsx)("div",{className:"mt-2 font-semibold",children:s.help.title}),(0,r.jsx)("p",{className:"mt-2 text-sm text-foreground/70",children:s.help.body})]}),(0,r.jsx)(l,{loading:i,strings:s,onCreated:d}),(0,r.jsx)(c,{lanes:t,loading:i,strings:s})]})}},7639:(e,s,t)=>{Promise.resolve().then(t.bind(t,732)),Promise.resolve().then(t.bind(t,6423)),Promise.resolve().then(t.bind(t,368)),Promise.resolve().then(t.bind(t,8634)),Promise.resolve().then(t.bind(t,5016)),Promise.resolve().then(t.bind(t,9602)),Promise.resolve().then(t.bind(t,9633)),Promise.resolve().then(t.bind(t,1875)),Promise.resolve().then(t.bind(t,6884)),Promise.resolve().then(t.bind(t,5216)),Promise.resolve().then(t.bind(t,124)),Promise.resolve().then(t.bind(t,4274))}},e=>{var s=s=>e(e.s=s);e.O(0,[2827,9683,7106,55,4668,8902,9956,2459,7358],()=>s(7639)),_N_E=e.O()}]);