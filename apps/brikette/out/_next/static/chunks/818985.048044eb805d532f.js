"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818985],{818985:(t,e,n)=>{n.r(e),n.d(e,{GUIDE_KEY:()=>O,GUIDE_SLUG:()=>w,computePorterGuideExtras:()=>b,createPorterHowToSteps:()=>I,default:()=>j,getGuidesFallbackTranslator:()=>D,getGuidesTranslator:()=>y,links:()=>T,meta:()=>L,normaliseFaqs:()=>G,normaliseSections:()=>d,normaliseToc:()=>_});var r,l,a=n(654036),c=n(976952),o=n(924392),i=n(932635),s=n(149843),u=n(518197),h=n(432057),f=n(104005),g=n(33317),E=n(355512),m=n(735454),p=n(868175);function d(t){return Array.isArray(t)?t.map((t,e)=>{if(!t||"object"!=typeof t)return null;let n="string"==typeof t.title?t.title.trim():"",r=n.length>0,l=Array.isArray(t.body)?(0,p.XK)(t.body).map(t=>t.trim()).filter(t=>t.length>0):[];if(!r&&0===l.length)return null;let a=r?n:"Section ".concat(e+1),c="string"==typeof t.id?t.id.trim():"";return{id:c.length>0?c:a.replace(/\s+/g,"-").toLowerCase(),title:a,body:l}}).filter(t=>null!=t):[]}function G(t){return Array.isArray(t)?t.map(t=>{if(!t||"object"!=typeof t)return null;let e="string"==typeof t.q?t.q.trim():"",n=(0,p.XK)(t.a).map(t=>t.trim());return 0===e.length&&0===n.length?null:{q:e,a:n}}).filter(t=>null!=t):[]}function _(t){if(!Array.isArray(t))return[];let e=new Set;return t.map(t=>{if(!t||"object"!=typeof t)return null;let n="string"==typeof t.href?t.href.trim():"",r="string"==typeof t.label?t.label.trim():"";return 0===n.length||0===r.length||e.has(n)?null:(e.add(n),{href:n,label:r})}).filter(t=>null!=t)}function b(t,e){let n=t.translateGuides,{fallbackGuides:r,fallbackLocal:l,fallbackEn:a}=e,c=(t,e)=>{let c=e(n("content.".concat(m.GUIDE_KEY,".").concat(t),{returnObjects:!0}));if(c.length>0)return c;let o=e(r("content.".concat(m.GUIDE_KEY,".").concat(t),{returnObjects:!0}));if(o.length>0)return o;let i=e(l("".concat(m.GUIDE_KEY,".").concat(t),{returnObjects:!0}));return i.length>0?i:e(a("".concat(m.GUIDE_KEY,".").concat(t),{returnObjects:!0}))},o=(t,e)=>{if("string"!=typeof t)return null;let n=t.trim();return 0===n.length||e.includes(n)?null:n},i=(t,e)=>{let c="content.".concat(m.GUIDE_KEY,".").concat(t),i="".concat(m.GUIDE_KEY,".").concat(t),s=[c,i],u=o(n(c),s);if(u)return u;let h=o(r(c,{defaultValue:e}),s);if(h)return h;let f=o(l(i,{defaultValue:e}),s);if(f)return f;let g=o(a(i,{defaultValue:e}),s);if(g)return g;let E=o(e,s);return null!=E?E:""},u=t=>t.map(t=>t.trim()).filter(t=>t.length>0),h=i("introTitle","Intro"),f=u(c("intro",p.XK)),g=(()=>{if(t.sections.length>0)return t.sections.map(t=>{let{id:e,title:n,body:r}=t;return{id:e,title:n,body:r}});let e=d(n("content.".concat(m.GUIDE_KEY,".sections"),{returnObjects:!0}));if(e.length>0)return e;let l=d(r("content.".concat(m.GUIDE_KEY,".sections"),{returnObjects:!0}));return l.length>0?l:[]})(),E=u(c("steps",p.XK)),b=i("howTitle",r("content.".concat(m.GUIDE_KEY,".howTitle"))),I=u((0,p.XK)(r("content.".concat(m.GUIDE_KEY,".steps"),{returnObjects:!0})));"en"!==t.lang&&E.length>0&&I.length>0&&E.length===I.length&&E.every((t,e)=>t===I[e])&&(E=[],b="");let K=u(c("resources",p.XK)),U=u(c("etiquette",p.XK)),y=(()=>{for(let t of[()=>G(n("content.".concat(m.GUIDE_KEY,".faqs"),{returnObjects:!0})),()=>G(n("content.".concat(m.GUIDE_KEY,".faq"),{returnObjects:!0})),()=>G(r("content.".concat(m.GUIDE_KEY,".faqs"),{returnObjects:!0})),()=>G(r("content.".concat(m.GUIDE_KEY,".faq"),{returnObjects:!0})),()=>G(a("".concat(m.GUIDE_KEY,".faqs"),{returnObjects:!0})),()=>G(a("".concat(m.GUIDE_KEY,".faq"),{returnObjects:!0})),()=>G(l("".concat(m.GUIDE_KEY,".faqs"),{returnObjects:!0})),()=>G(l("".concat(m.GUIDE_KEY,".faq"),{returnObjects:!0}))]){let e=t();if(e.length>0)return e}return[]})(),D=i("resourcesTitle",r("content.".concat(m.GUIDE_KEY,".resourcesTitle"))),Y=i("etiquetteTitle",r("content.".concat(m.GUIDE_KEY,".etiquetteTitle"))),q=i("faqTitle",r("labels.faqsHeading")),A=[{label:i("resourcesLinkBounceLabel",r("content.".concat(m.GUIDE_KEY,".resourcesLinkBounceLabel"))),href:i("resourcesLinkBounceHref")},{label:i("resourcesLinkRadicalLabel",r("content.".concat(m.GUIDE_KEY,".resourcesLinkRadicalLabel"))),href:i("resourcesLinkRadicalHref")}].filter(t=>t.label.length>0&&t.href.length>0),j=_(n("content.".concat(m.GUIDE_KEY,".toc"),{returnObjects:!0})),O=_(r("content.".concat(m.GUIDE_KEY,".toc"),{returnObjects:!0})),w=i("tocTitle",r("labels.onThisPage")),L=i("galleryTitle",r("content.".concat(m.GUIDE_KEY,".galleryTitle"))),T=i("gallery.standsCaption",r("content.".concat(m.GUIDE_KEY,".gallery.standsCaption"))),M=i("gallery.cartsCaption",r("content.".concat(m.GUIDE_KEY,".gallery.cartsCaption"))),k=m.GALLERY_IMAGES.map((t,e)=>{let n=(0,s.A)(t.path,{width:t.width,height:t.height,quality:85,format:"auto"}),r=0===e?T:M;return{src:n,alt:r,caption:r}}),S={src:(0,s.A)(m.HERO_IMAGE_PATH,{width:1200,height:630,quality:85,format:"auto"}),alt:L,width:1200,height:630},v=[],C=t=>{t&&(v.some(e=>e.href===t.href)||v.push(t))};return f.length>0&&C({href:"#intro",label:h}),g.forEach(t=>{C({href:"#".concat(t.id),label:t.title})}),E.length>0&&C({href:"#how",label:b}),K.length>0&&C({href:"#resources",label:D}),U.length>0&&C({href:"#etiquette",label:Y}),y.length>0&&C({href:"#faqs",label:q}),{introTitle:h,intro:f,sections:g,steps:E,howTitle:b,resources:K,resourcesTitle:D,resourceLinks:A,etiquette:U,etiquetteTitle:Y,faqs:y,faqsTitle:q,galleryTitle:L,galleryItems:k,tocItems:j.length>0?j:v.length>0?v:O,tocTitle:w,heroImage:S}}function I(t,e){return e.sections.length>0?e.sections.map(t=>({name:t.title,text:t.body.join(" ")})):e.steps.length>0?e.steps.map(t=>({name:t})):null}var K=n(305056);function U(t,e){let n=K.A.getFixedT(t,e);if("function"==typeof n)return n;let r={lng:t,ns:e};return(t,e)=>{let n=e?{...r,...e}:r;return K.A.t(t,n)}}function y(t){return U(t,"guides")}function D(t){return U(t,"guidesFallback")}var Y=n(983047);let q=new Set(["es"]);var A=n(109783);let j=(0,c.memo)(function(){let t=null!=(j=m.OG_IMAGE)?j:{path:"/img/positano-panorama.avif",width:1200,height:630,transform:{width:1200,height:630,quality:85,format:"auto"}},e=(0,i.f)(),n=(0,c.useMemo)(()=>y("en"),[]),r=(0,c.useMemo)(()=>D("en"),[]),l=(0,c.useMemo)(()=>y(e),[e]),o=(0,c.useMemo)(()=>D(e),[e]),s=(0,c.useMemo)(()=>(function(t){let{lang:e,translateGuides:n}=t;return{lang:e,guideKey:m.GUIDE_KEY,metaKey:m.GUIDE_KEY,hasLocalizedContent:!0,translator:n,translateGuides:n,sections:[],intro:[],faqs:[],toc:[],ogImage:{url:"",width:m.OG_IMAGE.width,height:m.OG_IMAGE.height},article:{title:"",description:""},canonicalUrl:""}})({lang:e,translateGuides:l}),[e,l]),u=(0,c.useMemo)(()=>(function(t,e){let{fallbackGuides:n,fallbackLocal:r,fallbackEn:l}=e;return b(t,{fallbackGuides:n,fallbackLocal:r,fallbackEn:l})})(s,{fallbackGuides:n,fallbackLocal:o,fallbackEn:r}),[s,n,o,r]),h=(0,c.useMemo)(()=>(function(t){let{previewContext:e,initialExtras:n,fallbackGuides:r,fallbackEn:l}=t;return t=>t.lang===e.lang&&0===t.sections.length&&0===t.intro.length&&0===t.faqs.length&&0===t.toc.length?n:b(t,{fallbackGuides:r,fallbackLocal:D(t.lang),fallbackEn:l})})({previewContext:s,initialExtras:u,fallbackGuides:n,fallbackEn:r}),[s,u,n,r]),f=(0,c.useMemo)(()=>(0,E.createArticleLead)(h),[h]),p=(0,c.useMemo)(()=>t=>h(t).tocItems,[h]),d=(0,c.useMemo)(()=>t=>{let e=h(t);return I(t,e)},[h]),_=(0,c.useMemo)(()=>{let t=t=>{let e=y(t),n=y("en"),r=t=>t.map(t=>{let{q:e,a:n}=t;return{q:e,a:n.map(t=>(0,Y.j)(t))}}),l=r(G(e("content.".concat(m.GUIDE_KEY,".faqs"),{returnObjects:!0})));if(l.length>0)return l;let a=r(G(e("content.".concat(m.GUIDE_KEY,".faq"),{returnObjects:!0})));if(a.length>0)return a;let c=r(G(n("content.".concat(m.GUIDE_KEY,".faqs"),{returnObjects:!0})));if(q.has(t)&&c.length>0)return c;let o=r(G(n("content.".concat(m.GUIDE_KEY,".faq"),{returnObjects:!0})));return o.length>0?o:c};return e=>{let n=t(e);if(Array.isArray(n)&&0!==n.length)return n.map(t=>{let{q:e,a:n}=t;return{question:e.trim(),answer:n.map(t=>t.trim()).filter(t=>t.length>0)}}).filter(t=>t.question.length>0&&t.answer.length>0)}},[]),K=(0,c.useMemo)(()=>(0,A.createAdditionalScripts)(n),[n]),U="function"==typeof g.default&&!g.default.$$typeof;var j,w={guideKey:O,metaKey:O,ogImage:t,articleLead:f,buildTocItems:p,buildHowToSteps:d,guideFaqFallback:_,additionalScripts:K,renderGenericContent:!1,relatedGuides:{items:m.RELATED_GUIDES},showTagChips:!1,alsoHelpful:{tags:[...m.ALSO_HELPFUL_TAGS],excludeGuide:m.RELATED_GUIDES.map(t=>t.key),includeRooms:!0}};if(U)return(0,g.default)(w);let L=g.default;return(0,a.jsx)(L,{...w})}),O=null!=(r=m.GUIDE_KEY)?r:"porterServices",w=null!=(l=m.GUIDE_SLUG)?l:"porter-service-positano",L=function(){var t;let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(e||{}).lang||"en",r="/".concat(n,"/").concat((0,f.i)("experiences",n),"/").concat((0,u.UD)(n,O)),l="".concat(o.C).concat(r),a=null!=(t=m.OG_IMAGE)?t:{path:"/img/positano-panorama.avif",width:1200,height:630,transform:{width:1200,height:630,quality:85,format:"auto"}},c=(0,s.A)(a.path,a.transform);return(0,h.vp)({lang:n,title:"guides.meta.".concat(O,".title"),description:"guides.meta.".concat(O,".description"),url:l,path:r,image:{src:c,width:a.width,height:a.height},ogType:"article",includeTwitterUrl:!0})},T=()=>(0,h.$P)()}}]);