"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[262],{"./packages/i18n/src/resolveText.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function resolveText(value,locale,t){if("string"==typeof value)return value;if("key"===(null==value?void 0:value.type))return t(value.key,value.params);if("inline"===(null==value?void 0:value.type)){const chain=function fallbackChain(locale){switch(locale){case"de":return["de","en"];case"it":return["it","en"];default:return["en"]}}(locale);for(const loc of chain){var _value_value;const v=null===(_value_value=value.value)||void 0===_value_value?void 0:_value_value[loc];if("string"==typeof v&&v.length>0)return v}return""}return""}__webpack_require__.d(__webpack_exports__,{W:()=>resolveText})},"./packages/ui/src/components/organisms/ProductCard.Matrix.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AddToCartFlow:()=>AddToCartFlow,Default:()=>Default,Empty:()=>Empty,Error:()=>Error,Loading:()=>Loading,RTL:()=>RTL,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_test__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@storybook+test@8.6.14_storybook@8.6.14_prettier@3.6.2_/node_modules/@storybook/test/dist/index.mjs"),_ProductCard__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/ui/src/components/organisms/ProductCard.tsx"),_acme_platform_core_products_index__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/platform-core/src/products/index.ts"),_story_utils_createStories__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/ui/src/story-utils/createStories.ts");const sample=_acme_platform_core_products_index__WEBPACK_IMPORTED_MODULE_2__.zv[0],meta={title:"Organisms/ProductCard/Matrix",component:_ProductCard__WEBPACK_IMPORTED_MODULE_1__.A,tags:["autodocs"],args:{product:sample,showImage:!0,showPrice:!0,ctaLabel:"Add to cart"},parameters:{layout:"centered",docs:{description:{component:"Product summary card with image, title, price and an add-to-cart CTA.\n\nUsage:\n\n```tsx\nimport { ProductCard } from './ProductCard';\nimport { PRODUCTS } from '@acme/platform-core/products';\n\n<ProductCard product={PRODUCTS[0]} showImage showPrice ctaLabel=\"Add to cart\" />\n\n// Key args: product (SKU), showImage, showPrice, ctaLabel\n```"}}}},__WEBPACK_DEFAULT_EXPORT__=meta,baseArgs=meta.args,Default=(0,_story_utils_createStories__WEBPACK_IMPORTED_MODULE_3__.T)(baseArgs,{},"default",{a11y:!0,viewports:["desktop"],tags:["visual"]}),Loading=(0,_story_utils_createStories__WEBPACK_IMPORTED_MODULE_3__.T)(baseArgs,{showImage:!1,showPrice:!1},"loading",{viewports:["mobile1"],tags:["visual"]}),Empty=(0,_story_utils_createStories__WEBPACK_IMPORTED_MODULE_3__.T)(baseArgs,{product:{...sample,title:""}},"empty",{a11y:!0,viewports:["mobile1"],tags:["visual"]}),Error=(0,_story_utils_createStories__WEBPACK_IMPORTED_MODULE_3__.T)(baseArgs,{product:sample,showPrice:!1},"error",{a11y:!0,critical:!0,viewports:["desktop"],tags:["visual","ci"]}),RTL=(0,_story_utils_createStories__WEBPACK_IMPORTED_MODULE_3__.T)(baseArgs,{ctaLabel:"أضف إلى السلة"},"default",{rtl:!0,viewports:["mobile1"],tags:["visual"]}),AddToCartFlow={...(0,_story_utils_createStories__WEBPACK_IMPORTED_MODULE_3__.T)(baseArgs,{},"default",{a11y:!0,critical:!0,viewports:["desktop"],tags:["visual","ci"]}),play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_0__.ux)(canvasElement);await _storybook_test__WEBPACK_IMPORTED_MODULE_0__.Q4.click(await canvas.findByRole("button",{name:/add to cart|أضف إلى السلة/i})),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_0__.E3)(canvasElement).toBeDefined()}},__namedExportsOrder=["Default","Loading","Empty","Error","RTL","AddToCartFlow"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {}, 'default', {\n  a11y: true,\n  viewports: ['desktop'],\n  tags: ['visual']\n})",...Default.parameters?.docs?.source}}},Loading.parameters={...Loading.parameters,docs:{...Loading.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {\n  showImage: false,\n  showPrice: false\n}, 'loading', {\n  viewports: ['mobile1'],\n  tags: ['visual']\n})",...Loading.parameters?.docs?.source}}},Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {\n  product: {\n    ...sample,\n    title: ''\n  }\n}, 'empty', {\n  a11y: true,\n  viewports: ['mobile1'],\n  tags: ['visual']\n})",...Empty.parameters?.docs?.source}}},Error.parameters={...Error.parameters,docs:{...Error.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {\n  product: sample,\n  showPrice: false\n}, 'error', {\n  a11y: true,\n  critical: true,\n  viewports: ['desktop'],\n  tags: ['visual', 'ci']\n})",...Error.parameters?.docs?.source}}},RTL.parameters={...RTL.parameters,docs:{...RTL.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {\n  ctaLabel: 'أضف إلى السلة'\n}, 'default', {\n  rtl: true,\n  viewports: ['mobile1'],\n  tags: ['visual']\n})",...RTL.parameters?.docs?.source}}},AddToCartFlow.parameters={...AddToCartFlow.parameters,docs:{...AddToCartFlow.parameters?.docs,source:{originalSource:"{\n  ...makeStateStory(baseArgs, {}, 'default', {\n    a11y: true,\n    critical: true,\n    viewports: ['desktop'],\n    tags: ['visual', 'ci']\n  }),\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    await userEvent.click(await canvas.findByRole('button', {\n      name: /add to cart|أضف إلى السلة/i\n    }));\n    // Expectation: nothing to assert visually here without toast; interaction should not error.\n    await expect(canvasElement).toBeDefined();\n  }\n}",...AddToCartFlow.parameters?.docs?.source}}}},"./packages/ui/src/components/organisms/ProductCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ProductCard});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),next_image__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@storybook+nextjs@8.6.14_@swc+core@1.12.9_esbuild@0.25.5_next@15.3.5_@babel+core@7.28.4_f309bebf97d2c09aa3c164b2abf593ce/node_modules/@storybook/nextjs/dist/images/next-image.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),_acme_platform_core_contexts_CartContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/platform-core/src/contexts/CartContext.tsx"),_utils_style__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/ui/src/utils/style/index.ts"),_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/ui/src/components/atoms/shadcn/index.ts"),_atoms_Price__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/ui/src/components/atoms/Price.tsx"),_acme_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/i18n/src/index.ts"),_i18n_resolveText__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/i18n/src/resolveText.ts");const ProductCard=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(({product,onAddToCart,showImage=!0,showPrice=!0,ctaLabel,padding="p-4",width,height,margin,locale,className,...props},ref)=>{var _product_media;const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_6__.c3)(),{classes,style}=(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.A)({width,height,padding,margin}),media=null===(_product_media=product.media)||void 0===_product_media?void 0:_product_media[0],[,dispatch]=(0,_acme_platform_core_contexts_CartContext__WEBPACK_IMPORTED_MODULE_7__._)();var _media_url,_media_altText,_ref,_media_url1,_product_title;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref,style,className:(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.cn)("flex flex-col gap-3 rounded-lg border",classes,className),...props,children:[showImage&&media&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative aspect-square",children:"image"===media.type?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.A,{src:null!==(_media_url=media.url)&&void 0!==_media_url?_media_url:"",alt:null!==(_ref=null!==(_media_altText=media.altText)&&void 0!==_media_altText?_media_altText:product.title)&&void 0!==_ref?_ref:"",fill:!0,sizes:"(min-width: 640px) 25vw, 50vw",className:"rounded-md object-cover"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("video",{src:null!==(_media_url1=media.url)&&void 0!==_media_url1?_media_url1:"",className:"h-full w-full rounded-md object-cover","data-aspect":"1/1",muted:!0,playsInline:!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-medium",children:null!==(_product_title=product.title)&&void 0!==_product_title?_product_title:""}),showPrice&&null!=product.price&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Price__WEBPACK_IMPORTED_MODULE_5__.g,{amount:product.price,className:"font-semibold"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__.$n,{onClick:()=>{onAddToCart?onAddToCart(product):dispatch({type:"add",sku:product})},children:ctaLabel?"string"==typeof ctaLabel?ctaLabel:"key"===ctaLabel.type?t(ctaLabel.key,ctaLabel.params):"inline"===ctaLabel.type?(0,_i18n_resolveText__WEBPACK_IMPORTED_MODULE_8__.W)(ctaLabel,null!=locale?locale:"en",t):t("Add to cart"):t("Add to cart")})]})});ProductCard.displayName="ProductCard",ProductCard.__docgenInfo={description:"",methods:[],displayName:"ProductCard",props:{product:{required:!0,tsType:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},description:""},onAddToCart:{required:!1,tsType:{name:"signature",type:"function",raw:"(product: SKU) => void",signature:{arguments:[{type:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},name:"product"}],return:{name:"void"}}},description:""},showImage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showPrice:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},ctaLabel:{required:!1,tsType:{name:"TranslatableText"},description:""},padding:{required:!1,tsType:{name:"string"},description:"Override default padding classes.",defaultValue:{value:'"p-4"',computed:!1}},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Optional width"},height:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Optional height"},margin:{required:!1,tsType:{name:"string"},description:"Optional margin classes"},locale:{required:!1,tsType:{name:"Locale"},description:"Optional current locale used for inline values"}}}},"./packages/ui/src/story-utils/createStories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function makeStateStory(base,patch,state,opts={}){const{a11y=!0,critical=!1,rtl=!1,viewports=[],tags=[],docsDescription}=opts,parameters={a11y:{disable:!a11y},dataState:state};rtl&&(parameters.rtl=!0),viewports.length&&(parameters.viewport={defaultViewport:viewports[0]}),docsDescription&&(parameters.docs={description:{story:docsDescription}});const computedTags=["autodocs",a11y?"a11y":"no-a11y",critical?"critical":"noncritical",...tags];parameters.chromatic={disable:!computedTags.includes("visual")};return{args:{...base,...patch},parameters,tags:computedTags}}__webpack_require__.d(__webpack_exports__,{T:()=>makeStateStory})}}]);