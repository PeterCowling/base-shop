// tsconfig.base.json  ★ revised
{
  "compilerOptions": {
    /* ────────── fundamental paths ────────── */
    "baseUrl": ".",

    /* ────────── language / emit ──────────── */
    "target": "ES2022",
    "module": "es2020",
    "jsx": "react-jsx",
    "moduleResolution": "node",
    "esModuleInterop": true,
    "resolveJsonModule": true,
    "moduleSuffixes": [".server", ".client", ""],
    "allowImportingTsExtensions": true,
    "noEmit": true,

    /* ────────── type-safety flags ────────── */
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "skipLibCheck": false,

    /* ────────── global types ─────────────── */
    "types": ["node", "react", "react-dom"],

    /* ────────── workspace aliases ────────── */
    "paths": {
      /* --- core packages ------------------------------------------------ */
      "@platform-core": ["packages/platform-core"],
      "@platform-core/*": ["packages/platform-core/*"],
      "@platform-machine/*": ["packages/platform-machine/*"],
      "@themes/*": ["packages/themes/*"],
      "@ui/*": ["packages/ui/*"],

      /* --- apps --------------------------------------------------------- */
      "@cms/*": ["apps/cms/src/*"],

      /* --- feature shorthands ------------------------------------------ */
      "@/components/pdp/*": ["packages/platform-core/components/pdp/*"],
      "@/components/shop/*": ["packages/platform-core/components/shop/*"],
      "@/components/*": ["packages/ui/components/*"],

      "@lib/stripeServer": ["packages/lib/stripeServer.server.ts"],
      "@/lib/stripeServer": ["packages/lib/stripeServer.server.ts"],
      "@lib/*": ["packages/platform-core/*", "packages/lib/*"],
      "@/lib/*": ["packages/platform-core/*", "packages/lib/*"],

      "@contexts/*": [
        "packages/platform-core/contexts/*",
        "packages/lib/contexts/*"
      ],
      "@/contexts/*": [
        "packages/platform-core/contexts/*",
        "packages/lib/contexts/*"
      ],

      "@i18n/*": ["packages/i18n/src/*", "packages/i18n/*"],
      "@/i18n/*": ["packages/i18n/src/*", "packages/i18n/*"],

      "@svelte-tool/*": ["packages/svelte-tool/*"],

      "@auth": ["packages/auth/src/index.ts"],
      "@auth/*": ["packages/auth/src/*"],

      /* --- THREE type barrels ------------------------------------------ */

      "@types/root": ["src/types/index.ts"],
      "@types/root/*": ["src/types/*"],

      "@types/cms": ["apps/cms/src/types/index.ts"],
      "@types/cms/*": ["apps/cms/src/types/*"],

      "@types/shared": ["packages/types/src/index.ts"],
      "@types/shared/*": ["packages/types/src/*"],

      /* --- misc -------------------------------------------------------- */
      "@acme/tailwind-config": ["packages/tailwind-config/src/index.ts"],
      "@config": ["packages/config/env.ts"],
      "@config/*": ["packages/config/*"]
    }
  },

  /* ambient globals */
  "files": ["./src/types/global.d.ts"],

  /* default source globs (each workspace overrides as needed) */
  "include": ["src/**/*", "packages/**/src/**/*", "apps/**/src/**/*"]
}
