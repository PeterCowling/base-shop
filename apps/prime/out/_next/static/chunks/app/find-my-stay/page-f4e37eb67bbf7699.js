(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[637],{1395:(e,t,r)=>{Promise.resolve().then(r.bind(r,1481))},1481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(6586),n=r(4701),s=r(3920),l=r(55),o=r.n(l),i=r(7826);function c(){let[e,t]=(0,i.useState)(""),[r,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(null);async function h(t){if(t.preventDefault(),e.trim()&&r.trim()){d(!0),m(null);try{let t=await fetch("/api/find-booking?surname=".concat(encodeURIComponent(e),"&bookingRef=").concat(encodeURIComponent(r)));if(!t.ok)return void(404===t.status?m("Booking not found. Please check your details."):429===t.status?m("Too many attempts. Please try again later."):m("Something went wrong. Please try again."));let a=await t.json();window.location.href="/staff-lookup?code=".concat(a.checkInCode)}catch(e){m("Connection error. Please try again.")}finally{d(!1)}}}return(0,a.jsx)("main",{className:"min-h-screen bg-gray-50 p-4",children:(0,a.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center gap-3",children:[(0,a.jsx)(o(),{href:"/",className:"rounded-full p-2 hover:bg-gray-200",children:(0,a.jsx)(n.A,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Find My Stay"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Enter your booking details"})]})]}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"surname",className:"block text-sm font-medium text-gray-700",children:"Surname"}),(0,a.jsx)("input",{id:"surname",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your surname",className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:c})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"bookingRef",className:"block text-sm font-medium text-gray-700",children:"Booking Reference"}),(0,a.jsx)("input",{id:"bookingRef",type:"text",value:r,onChange:e=>l(e.target.value.toUpperCase()),placeholder:"e.g. BDC-123456",className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-3 font-mono uppercase focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:c})]}),u&&(0,a.jsx)("div",{className:"rounded-lg bg-red-50 p-4 text-red-800",children:u}),(0,a.jsx)("button",{type:"submit",disabled:c||!e.trim()||!r.trim(),className:"flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-6 py-3 text-white hover:bg-blue-700 disabled:opacity-50",children:c?(0,a.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{className:"h-5 w-5"}),"Find Booking"]})})]})]})})}},3920:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5682).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},4701:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5682).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5682:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(7826);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...c,width:n,height:n,stroke:r,strokeWidth:l?24*Number(s)/Number(n):s,className:o("lucide",d),...!u&&!i(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:i,...c}=r;return(0,a.createElement)(d,{ref:s,iconNode:t,className:o("lucide-".concat(n(l(e))),"lucide-".concat(e),i),...c})});return r.displayName=l(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[293,956,889,358],()=>t(1395)),_N_E=e.O()}]);