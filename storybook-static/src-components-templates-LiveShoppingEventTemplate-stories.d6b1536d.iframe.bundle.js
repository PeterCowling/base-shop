"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[1181],{"./packages/i18n/src/resolveText.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function resolveText(value,locale,t){if("string"==typeof value)return value;if("key"===(null==value?void 0:value.type))return t(value.key,value.params);if("inline"===(null==value?void 0:value.type)){const chain=function fallbackChain(locale){switch(locale){case"de":return["de","en"];case"it":return["it","en"];default:return["en"]}}(locale);for(const loc of chain){var _value_value;const v=null===(_value_value=value.value)||void 0===_value_value?void 0:_value_value[loc];if("string"==typeof v&&v.length>0)return v}return""}return""}__webpack_require__.d(__webpack_exports__,{W:()=>resolveText})},"./packages/ui/src/components/organisms/ProductCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ProductCard});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),next_image__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@storybook+nextjs@8.6.14_@swc+core@1.12.9_esbuild@0.25.5_next@15.3.5_@babel+core@7.28.4_f309bebf97d2c09aa3c164b2abf593ce/node_modules/@storybook/nextjs/dist/images/next-image.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),_acme_platform_core_contexts_CartContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/platform-core/src/contexts/CartContext.tsx"),_utils_style__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/ui/src/utils/style/index.ts"),_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/ui/src/components/atoms/shadcn/index.ts"),_atoms_Price__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/ui/src/components/atoms/Price.tsx"),_acme_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/i18n/src/index.ts"),_i18n_resolveText__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/i18n/src/resolveText.ts");const ProductCard=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(({product,onAddToCart,showImage=!0,showPrice=!0,ctaLabel,padding="p-4",width,height,margin,locale,className,...props},ref)=>{var _product_media;const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_6__.c3)(),{classes,style}=(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.A)({width,height,padding,margin}),media=null===(_product_media=product.media)||void 0===_product_media?void 0:_product_media[0],[,dispatch]=(0,_acme_platform_core_contexts_CartContext__WEBPACK_IMPORTED_MODULE_7__._)();var _media_url,_media_altText,_ref,_media_url1,_product_title;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref,style,className:(0,_utils_style__WEBPACK_IMPORTED_MODULE_3__.cn)("flex flex-col gap-3 rounded-lg border",classes,className),...props,children:[showImage&&media&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative aspect-square",children:"image"===media.type?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.A,{src:null!==(_media_url=media.url)&&void 0!==_media_url?_media_url:"",alt:null!==(_ref=null!==(_media_altText=media.altText)&&void 0!==_media_altText?_media_altText:product.title)&&void 0!==_ref?_ref:"",fill:!0,sizes:"(min-width: 640px) 25vw, 50vw",className:"rounded-md object-cover"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("video",{src:null!==(_media_url1=media.url)&&void 0!==_media_url1?_media_url1:"",className:"h-full w-full rounded-md object-cover","data-aspect":"1/1",muted:!0,playsInline:!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-medium",children:null!==(_product_title=product.title)&&void 0!==_product_title?_product_title:""}),showPrice&&null!=product.price&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_Price__WEBPACK_IMPORTED_MODULE_5__.g,{amount:product.price,className:"font-semibold"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms_shadcn__WEBPACK_IMPORTED_MODULE_4__.$n,{onClick:()=>{onAddToCart?onAddToCart(product):dispatch({type:"add",sku:product})},children:ctaLabel?"string"==typeof ctaLabel?ctaLabel:"key"===ctaLabel.type?t(ctaLabel.key,ctaLabel.params):"inline"===ctaLabel.type?(0,_i18n_resolveText__WEBPACK_IMPORTED_MODULE_8__.W)(ctaLabel,null!=locale?locale:"en",t):t("Add to cart"):t("Add to cart")})]})});ProductCard.displayName="ProductCard",ProductCard.__docgenInfo={description:"",methods:[],displayName:"ProductCard",props:{product:{required:!0,tsType:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},description:""},onAddToCart:{required:!1,tsType:{name:"signature",type:"function",raw:"(product: SKU) => void",signature:{arguments:[{type:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},name:"product"}],return:{name:"void"}}},description:""},showImage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showPrice:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},ctaLabel:{required:!1,tsType:{name:"TranslatableText"},description:""},padding:{required:!1,tsType:{name:"string"},description:"Override default padding classes.",defaultValue:{value:'"p-4"',computed:!1}},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Optional width"},height:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Optional height"},margin:{required:!1,tsType:{name:"string"},description:"Optional margin classes"},locale:{required:!1,tsType:{name:"Locale"},description:"Optional current locale used for inline values"}}}},"./packages/ui/src/components/templates/LiveShoppingEventTemplate.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>LiveShoppingEventTemplate_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js"),style=__webpack_require__("./packages/ui/src/utils/style/index.ts"),shadcn=__webpack_require__("./packages/ui/src/components/atoms/shadcn/index.ts"),resolveText=__webpack_require__("./packages/i18n/src/resolveText.ts"),ProductCard=__webpack_require__("./packages/ui/src/components/organisms/ProductCard.tsx"),src=__webpack_require__("./packages/i18n/src/index.ts"),primitives=__webpack_require__("./packages/ui/src/components/atoms/primitives/index.ts");function LiveShoppingEventTemplate({streamUrl,products=[],chatMessages=[],onSendMessage,onAddToCart,ctaLabel,locale="en",className,...props}){const t=(0,src.c3)(),addLabel=(()=>{if(!ctaLabel){const v=t("actions.addToCart");return"string"==typeof v?v:"Add to cart"}return"string"==typeof ctaLabel?ctaLabel:"key"===ctaLabel.type?t(ctaLabel.key,ctaLabel.params):"inline"===ctaLabel.type?(0,resolveText.W)(ctaLabel,locale,t):"Add to cart"})(),[message,setMessage]=react.useState("");return(0,jsx_runtime.jsxs)(primitives.xA,{cols:1,gap:6,className:(0,style.cn)("lg:grid-cols-3",className),...props,children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-4 lg:col-span-2",children:[(0,jsx_runtime.jsx)("div",{className:"aspect-video w-full bg-fg",children:(0,jsx_runtime.jsx)("video",{src:streamUrl,controls:!0,className:"h-full w-full","data-aspect":"16/9",children:(0,jsx_runtime.jsx)("track",{kind:"captions",srcLang:"en",label:t("captions.english"),src:"data:text/vtt;base64,",default:!0})})}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:t("live.chat.title")}),(0,jsx_runtime.jsxs)("div",{className:"h-64 space-y-2 overflow-y-auto rounded-md border bg-bg p-4",children:[chatMessages.map(m=>(0,jsx_runtime.jsxs)("div",{className:"text-sm",children:[(0,jsx_runtime.jsxs)("span",{className:"me-1 font-medium",children:[m.user,":"]}),(0,jsx_runtime.jsx)("span",{children:m.message})]},m.id)),0===chatMessages.length&&(0,jsx_runtime.jsx)("p",{className:"text-muted-foreground text-sm",children:t("live.chat.empty")})]}),onSendMessage&&(0,jsx_runtime.jsx)("form",{onSubmit:function handleSubmit(e){e.preventDefault();const text=message.trim();text&&(null==onSendMessage||onSendMessage(text),setMessage(""))},children:(0,jsx_runtime.jsxs)(primitives.cV,{gap:2,children:[(0,jsx_runtime.jsx)(shadcn.pd,{value:message,onChange:e=>setMessage(e.target.value),placeholder:t("live.chat.placeholder"),className:"flex-1"}),(0,jsx_runtime.jsx)(shadcn.$n,{type:"submit",children:t("actions.send")})]})})]})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold",children:t("live.products.title")}),(0,jsx_runtime.jsxs)(primitives.xA,{cols:1,gap:4,children:[products.map(p=>(0,jsx_runtime.jsx)(ProductCard.A,{product:p,onAddToCart,ctaLabel:addLabel},p.id)),0===products.length&&(0,jsx_runtime.jsx)("p",{className:"text-muted-foreground text-sm",children:t("live.products.empty")})]})]})]})}LiveShoppingEventTemplate.__docgenInfo={description:"",methods:[],displayName:"LiveShoppingEventTemplate",props:{streamUrl:{required:!0,tsType:{name:"string"},description:""},products:{required:!1,tsType:{name:"Array",elements:[{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"}],raw:"SKU[]"},description:"",defaultValue:{value:"[]",computed:!1}},chatMessages:{required:!1,tsType:{name:"Array",elements:[{name:"ChatMessage"}],raw:"ChatMessage[]"},description:"",defaultValue:{value:"[]",computed:!1}},onSendMessage:{required:!1,tsType:{name:"signature",type:"function",raw:"(message: string) => void",signature:{arguments:[{type:{name:"string"},name:"message"}],return:{name:"void"}}},description:""},onAddToCart:{required:!1,tsType:{name:"signature",type:"function",raw:"(product: SKU) => void",signature:{arguments:[{type:{name:"z.infer",elements:[{name:"skuSchema"}],raw:"z.infer<typeof skuSchema>"},name:"product"}],return:{name:"void"}}},description:""},ctaLabel:{required:!1,tsType:{name:"TranslatableText"},description:""},locale:{required:!1,tsType:{name:"Locale"},description:"",defaultValue:{value:'"en"',computed:!1}}}};const LiveShoppingEventTemplate_stories={component:LiveShoppingEventTemplate,args:{streamUrl:"video.mp4",products:[{id:"1",slug:"product-1",title:"Product 1",price:1e3,deposit:0,stock:0,forSale:!0,forRental:!1,media:[{url:"https://placehold.co/300",type:"image"}],sizes:[],description:""},{id:"2",slug:"product-2",title:"Product 2",price:1500,deposit:0,stock:0,forSale:!0,forRental:!1,media:[{url:"https://placehold.co/300",type:"image"}],sizes:[],description:""}],chatMessages:[{id:"1",user:"Alice",message:"Hello"},{id:"2",user:"Bob",message:"Great deal!"}]}},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}}}]);