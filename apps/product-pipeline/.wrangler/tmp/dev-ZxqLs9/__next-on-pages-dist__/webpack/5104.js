var v={},k=(M,T,P)=>(v.__chunk_5104=(R,D,N)=>{"use strict";N.d(D,{hO:()=>x,jn:()=>b,TG:()=>p});let p={zero:0n,fromCents:t=>BigInt(t),fromEuros:t=>BigInt(Math.round(100*t)),toEuros:t=>Number(t)/Number(100n),add:(t,n)=>t+n,subtract:(t,n)=>t-n,max:(t,n)=>t>n?t:n,min:(t,n)=>t<n?t:n,abs:t=>t<0n?-t:t};function b(t){let n=function(l){let e=Math.max(0,Math.floor(l.horizonDays)),C=Array.from({length:e+1},(u,c)=>c),r=Array.from({length:e+1},()=>0n);for(let u of l.cashflows){if(!Number.isFinite(u.day))continue;let c=Math.floor(u.day);if(c<0||c>e)continue;let E=r[c]??0n;r[c]=E+u.amountCents}let m=[],o=[],i=0n;for(let u of r)i+=u,m.push(i),o.push(i<0n?-i:0n);return{days:C,cashflowCents:r,cumulativeCents:m,investedCents:o}}(t),h=n.investedCents.reduce((l,e)=>e>l?e:l,0n),s=n.investedCents.reduce((l,e)=>l+e,0n),f=function(l){for(let e=0;e<l.cumulativeCents.length;e+=1)if((l.cumulativeCents[e]??0n)>=0n)return e;return null}(n),a=function(l,e,C){if(!l||!e||!C)return null;let r=Math.ceil(l*C);if(!Number.isFinite(r)||r<=0)return null;let m=0;for(let o=0;o<e.length;o+=1){let i=e[o],u=typeof i=="number"&&Number.isFinite(i)?i:m;if(m=u,u>=r)return o}return null}(t.unitsPlanned,t.unitsSoldByDay,t.sellThroughTargetPct),d=t.salvageValueCents??p.zero,g=(n.cumulativeCents[n.cumulativeCents.length-1]??0n)+d,z=Number(s)/100,y=s>0n?Number(g)/Number(s):null;return{peakCashOutlayCents:h,capitalDaysCentsDays:s,capitalDaysEurosDays:z,paybackDay:f,sellThroughDay:a,netCashProfitCents:g,profitPerCapitalDay:y,annualizedCapitalReturnRate:y!==null?365*y:null,timeline:n}}let _=t=>t.annualizedCapitalReturnRate;function x({baseInput:t,definitions:n,metric:h=_}){let s=h(b(t)),f={};for(let a of n){if(!a.delta||s===null){f[a.label]=null;continue}let d=h(b(a.apply(t,a.delta)));if(d===null){f[a.label]=null;continue}f[a.label]=(d-s)/a.delta}return f}},v);export{k as __getNamedExports};
