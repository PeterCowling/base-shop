(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{2352:(e,t,s)=>{Promise.resolve().then(s.bind(s,6204))},6204:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var n=s(9339),a=s(7),i=s(8023),r=s(7019),l=s(1717);let c=(0,i.c)(l.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);function u(e){let{locale:t}=e,[s,i]=(0,r.useState)();return((0,r.useEffect)(()=>{(async()=>{let e=await fetch("/api/checkout-session",{method:"POST"}),{id:t}=await e.json();i(t)})()},[]),s)?(0,n.jsx)(a.Elements,{stripe:c,options:{clientSecret:s,locale:t},children:(0,n.jsx)(o,{})},s):(0,n.jsx)("p",{children:"Loading payment form…"})}function o(){let e=(0,a.useStripe)(),t=(0,a.useElements)(),[s,i]=(0,r.useState)(!1),[l,c]=(0,r.useState)();async function u(s){if(s.preventDefault(),!e||!t)return;i(!0);let{error:n}=await e.confirmPayment({elements:t,redirect:"if_required"});if(n){var a;c(null!=(a=n.message)?a:"Payment failed"),i(!1)}}return(0,n.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,n.jsx)(a.PaymentElement,{}),l&&(0,n.jsx)("p",{className:"text-red-600 text-sm",children:l}),(0,n.jsx)("button",{type:"submit",disabled:!e||s,className:"w-full bg-gray-900 text-white py-2 rounded disabled:opacity-50",children:s?"Processing…":"Pay now"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[925,629,924,358],()=>t(2352)),_N_E=e.O()}]);