"use strict";(self.webpackChunk_apps_storybook=self.webpackChunk_apps_storybook||[]).push([[5190],{"../../__mocks__/next/navigation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,notFound:()=>notFound,permanentRedirect:()=>permanentRedirect,redirect:()=>redirect,revalidatePath:()=>revalidatePath,revalidateTag:()=>revalidateTag,useParams:()=>useParams,usePathname:()=>usePathname,useRouter:()=>useRouter,useSearchParams:()=>useSearchParams});var storybook_test__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("storybook/test"),process=__webpack_require__("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js"),console=__webpack_require__("../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function logWarning(message,details){(function isDev(){var _process_env;return void 0===process||"production"!==(null===(_process_env=process.env)||void 0===_process_env?void 0:"production")})()&&(details?console.warn(message,details):console.warn(message))}function getWindow(){return window}const router={push:(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)().mockName("next/navigation.router.push"),replace:(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)().mockName("next/navigation.router.replace"),prefetch:(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(async()=>{}).mockName("next/navigation.router.prefetch"),back:(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)().mockName("next/navigation.router.back"),forward:(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)().mockName("next/navigation.router.forward"),refresh:(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)().mockName("next/navigation.router.refresh")},useRouter=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(()=>router).mockName("next/navigation.useRouter"),usePathname=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(()=>function currentPathname(){try{var _win_location;const win=getWindow();var _win_location_pathname;return null!==(_win_location_pathname=null==win||null===(_win_location=win.location)||void 0===_win_location?void 0:_win_location.pathname)&&void 0!==_win_location_pathname?_win_location_pathname:"/"}catch(error){return logWarning("[storybook mock] Failed to read window.location.pathname",error),"/"}}()).mockName("next/navigation.usePathname"),useSearchParams=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(()=>{const params=new URLSearchParams(function currentSearch(){try{var _win_location;const win=getWindow();var _win_location_search;return null!==(_win_location_search=null==win||null===(_win_location=win.location)||void 0===_win_location?void 0:_win_location.search)&&void 0!==_win_location_search?_win_location_search:""}catch(error){return logWarning("[storybook mock] Failed to read window.location.search",error),""}}());return{get:key=>params.get(key),getAll:key=>params.getAll(key),has:key=>params.has(key),entries:()=>params.entries(),keys:()=>params.keys(),values:()=>params.values(),toString:()=>params.toString(),forEach:(callback,thisArg)=>params.forEach(callback,thisArg),size:params.size,[Symbol.iterator]:()=>params[Symbol.iterator]()}}).mockName("next/navigation.useSearchParams"),useParams=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(()=>({})).mockName("next/navigation.useParams"),redirect=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)((url,status)=>{logWarning("[storybook mock] next/navigation.redirect called",{url,status})}).mockName("next/navigation.redirect"),notFound=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(()=>{logWarning("[storybook mock] next/navigation.notFound called")}).mockName("next/navigation.notFound"),revalidatePath=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(()=>{logWarning("[storybook mock] next/navigation.revalidatePath called")}).mockName("next/navigation.revalidatePath"),revalidateTag=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(()=>{logWarning("[storybook mock] next/navigation.revalidateTag called")}).mockName("next/navigation.revalidateTag"),permanentRedirect=(0,storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)((url,status)=>{logWarning("[storybook mock] next/navigation.permanentRedirect called",{url,status})}).mockName("next/navigation.permanentRedirect"),__WEBPACK_DEFAULT_EXPORT__={useRouter,usePathname,useSearchParams,useParams,redirect,notFound,revalidatePath,revalidateTag,permanentRedirect}},"../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}function clsx(){for(var e,t,f=0,n="",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}__webpack_require__.d(__webpack_exports__,{$:()=>clsx,A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=clsx},"../../packages/ui/src/components/atoms/primitives/Inline.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>Inline});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),_utils_style_cn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),_slot__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/ui/src/components/atoms/primitives/slot.tsx");const Inline=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({gap=2,alignY="center",wrap=!0,asChild=!1,className,...rest},ref)=>{const alignClass="start"===alignY?"items-start":"center"===alignY?"items-center":"end"===alignY?"items-end":"items-baseline",Comp=asChild?_slot__WEBPACK_IMPORTED_MODULE_2__.D:"div";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Comp,{ref,className:(0,_utils_style_cn__WEBPACK_IMPORTED_MODULE_3__.$)("flex",wrap?"flex-wrap":"flex-nowrap",`gap-${gap}`,alignClass,className),...rest})});Inline.displayName="Inline",Inline.__docgenInfo={description:"",methods:[],displayName:"Inline",props:{gap:{required:!1,tsType:{name:"union",raw:"0 | 1 | 2 | 3 | 4 | 5 | 6 | 8 | 10 | 12",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"8"},{name:"literal",value:"10"},{name:"literal",value:"12"}]},description:"",defaultValue:{value:"2",computed:!1}},alignY:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end" | "baseline"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'},{name:"literal",value:'"baseline"'}]},description:"",defaultValue:{value:'"center"',computed:!1}},wrap:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}}},"../../packages/ui/src/components/atoms/primitives/slot.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>Slot});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");const Slot=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(({children,...props},ref)=>{const isValid=react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children);let childRef,childProps={};if(isValid){const{ref:cRef,...cProps}=children.props;childRef=cRef,childProps=cProps}const setMergedRef=react__WEBPACK_IMPORTED_MODULE_0__.useCallback(node=>{"function"==typeof ref?ref(node):ref&&(ref.current=node),"function"==typeof childRef?childRef(node):childRef&&(childRef.current=node)},[ref,childRef]),merged={...props,...childProps,className:(0,clsx__WEBPACK_IMPORTED_MODULE_1__.A)(props.className,childProps.className),ref:setMergedRef};return isValid?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children,merged):null});Slot.displayName="Slot",Slot.__docgenInfo={description:"",methods:[],displayName:"Slot",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"../../packages/ui/src/components/cms/blocks/BlogListing.Matrix.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>BlogListing_Matrix_stories});var BlogListing=__webpack_require__("../../packages/ui/src/components/cms/blocks/BlogListing.tsx"),createStories=__webpack_require__("../../packages/ui/src/story-utils/createStories.ts");const BlogListing_fixtures_namespaceObject=JSON.parse('{"posts":[{"title":"Spring Trends","excerpt":"Fresh looks for the season.","url":"/blog/spring","shopUrl":"/collections/new"},{"title":"Sustainable Picks","excerpt":"Eco-friendly favorites.","url":"/blog/eco"}]}');var types=__webpack_require__("../../node_modules/.pnpm/zod@3.25.73/node_modules/zod/v3/types.js"),console=__webpack_require__("../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const meta={title:"CMS Blocks/BlogListing/Matrix",component:BlogListing.A,parameters:{docs:{autodocs:!1}},args:{posts:BlogListing_fixtures_namespaceObject.posts}},BlogListing_Matrix_stories=meta,baseArgs=meta.args,Post=types.Ik({title:types.Yj(),excerpt:types.Yj().optional(),url:types.Yj().optional(),shopUrl:types.Yj().optional()});try{types.Ik({posts:types.YO(Post)}).parse(BlogListing_fixtures_namespaceObject)}catch(e){console.error("Invalid BlogListing fixture:",e)}const Default=(0,createStories.T)(baseArgs,{},"default",{a11y:!0,viewports:["desktop"],tags:["visual"]}),__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {}, 'default', {\n  a11y: true,\n  viewports: ['desktop'],\n  tags: ['visual']\n})",...Default.parameters?.docs?.source}}}},"../../packages/ui/src/components/cms/blocks/BlogListing.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>BlogListing});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/jsx-runtime.js"),next_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_babel-p_5f4009eaaa2f46513e879f269f75344a/node_modules/next/dist/compiled/react/index.js"),next_navigation__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../__mocks__/next/navigation.js"),_acme_i18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/i18n/src/index.ts"),_atoms_primitives_Inline__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/ui/src/components/atoms/primitives/Inline.tsx");const CATEGORY_QUERY_PARAM="category";function BlogListing({posts=[],locale}){const t=(0,_acme_i18n__WEBPACK_IMPORTED_MODULE_4__.c3)(),shopStoryCta=t("blog.cta.shopStory"),allCategoriesLabel=t("blog.filter.all"),searchParams=(0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useSearchParams)(),router=(0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();var _searchParams_get;const activeCategory=null!==(_searchParams_get=null==searchParams?void 0:searchParams.get(CATEGORY_QUERY_PARAM))&&void 0!==_searchParams_get?_searchParams_get:null,categories=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{const set=new Set;for(const p of posts)if(Array.isArray(p.categories))for(const c of p.categories)set.add(c);return Array.from(set).sort((a,b)=>a.localeCompare(b,null!=locale?locale:void 0))},[locale,posts]),filtered=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>activeCategory?posts.filter(p=>{var _p_categories;return null===(_p_categories=p.categories)||void 0===_p_categories?void 0:_p_categories.includes(activeCategory)}):posts,[activeCategory,posts]),fmt=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{try{return new Intl.DateTimeFormat(locale||void 0,{year:"numeric",month:"short",day:"2-digit"})}catch(e){return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit"})}},[locale]),searchParamsSnapshot=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{var _searchParams_toString;return null!==(_searchParams_toString=null==searchParams?void 0:searchParams.toString())&&void 0!==_searchParams_toString?_searchParams_toString:""},[searchParams]),updateCategory=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(value=>{if(value===activeCategory||!value&&!activeCategory)return;const params=new URLSearchParams(searchParamsSnapshot);value?params.set(CATEGORY_QUERY_PARAM,value):params.delete(CATEGORY_QUERY_PARAM);const query=params.toString(),basePath=window.location.pathname;router.push(query?`?${query}`:basePath||"?")},[activeCategory,router,searchParamsSnapshot]);return posts.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:"space-y-4",children:[categories.length>1?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_primitives_Inline__WEBPACK_IMPORTED_MODULE_5__.c,{gap:2,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>updateCategory(null),className:"rounded border px-2 py-1 text-sm "+(activeCategory?"opacity-70":"bg-foreground text-background"),children:allCategoriesLabel}),categories.map(c=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>updateCategory(activeCategory===c?null:c),className:"rounded border px-2 py-1 text-sm "+(activeCategory===c?"bg-foreground text-background":"opacity-80"),children:c},c))]}):null,filtered.map(p=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("article",{className:"space-y-1",children:[p.url?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{href:p.url,children:p.title})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:p.title}),Array.isArray(p.categories)&&p.categories.length||p.date?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_atoms_primitives_Inline__WEBPACK_IMPORTED_MODULE_5__.c,{gap:2,className:"text-xs text-muted",children:[Array.isArray(p.categories)?p.categories.map(c=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"rounded bg-muted px-2 py-0.5",children:c},c)):null,p.date&&!Number.isNaN(Date.parse(p.date))?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("time",{dateTime:p.date,className:"ms-auto opacity-80",children:fmt.format(new Date(p.date))}):null]}):null,p.excerpt&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-muted","data-token":"--color-muted",children:p.excerpt}),p.shopUrl&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{href:p.shopUrl,className:"text-primary underline",children:shopStoryCta})})]},p.title))]}):null}BlogListing.__docgenInfo={description:"",methods:[],displayName:"BlogListing",props:{posts:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  title: string;\n  excerpt?: string;\n  url?: string;\n  shopUrl?: string;\n  categories?: string[];\n  date?: string;\n}",signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"excerpt",value:{name:"string",required:!1}},{key:"url",value:{name:"string",required:!1}},{key:"shopUrl",value:{name:"string",required:!1}},{key:"categories",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"date",value:{name:"string",required:!1}}]}}],raw:"BlogPost[]"},description:"",defaultValue:{value:"[]",computed:!1}},locale:{required:!1,tsType:{name:"string"},description:""}}}},"../../packages/ui/src/story-utils/createStories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function makeStateStory(base,patch,state,opts={}){const{a11y=!0,critical=!1,rtl=!1,viewports=[],tags=[],docsDescription}=opts,parameters={a11y:{disable:!a11y},dataState:state};rtl&&(parameters.rtl=!0),viewports.length&&(parameters.viewport={defaultViewport:viewports[0]}),docsDescription&&(parameters.docs={description:{story:docsDescription}});const computedTags=["autodocs",a11y?"a11y":"no-a11y",critical?"critical":"noncritical",...tags];parameters.chromatic={disable:!computedTags.includes("visual")};return{args:{...base,...patch},parameters,tags:computedTags}}__webpack_require__.d(__webpack_exports__,{T:()=>makeStateStory})}}]);