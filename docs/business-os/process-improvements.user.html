<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="30">
  <title>Startup Loop ‚Äî Process Improvements</title>
  <style>
    :root {
      --bg:            #0e1016;
      --surface:       #161921;
      --surface-2:     #1e2230;
      --border:        #2a2f45;
      --text:          #e4e7f2;
      --text-muted:    #6b728f;
      --text-dim:      #454d6a;

      --red:           #f05c5c;
      --red-bg:        rgba(240,92,92,0.10);
      --red-border:    rgba(240,92,92,0.28);

      --amber:         #f5a623;
      --amber-bg:      rgba(245,166,35,0.10);
      --amber-border:  rgba(245,166,35,0.28);

      --blue:          #5b9cf6;
      --blue-bg:       rgba(91,156,246,0.10);
      --blue-border:   rgba(91,156,246,0.28);

      --green:         #4ade80;
      --green-bg:      rgba(74,222,128,0.08);
      --green-border:  rgba(74,222,128,0.25);

      --purple:        #a78bfa;
      --purple-bg:     rgba(167,139,250,0.10);
      --purple-border: rgba(167,139,250,0.28);

      --radius:        8px;
      --radius-sm:     5px;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 14px;
      line-height: 1.6;
      margin: 0;
    }

    .sl-content {
      max-width: 960px;
      margin: 0 auto;
      padding: 32px 24px 80px;
    }

    .page-header {
      border-bottom: 1px solid var(--border);
      padding-bottom: 20px;
      margin-bottom: 28px;
    }
    .page-header h1 { font-size: 22px; font-weight: 600; letter-spacing: -0.3px; }
    .page-header p  { color: var(--text-muted); font-size: 13px; margin-top: 4px; }

    /* ‚îÄ‚îÄ Filter bar ‚îÄ‚îÄ */
    .filter-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 24px;
      align-items: center;
    }
    .filter-label {
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--text-dim);
      margin-right: 4px;
    }
    .filter-btn {
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text-muted);
      font-size: 12px;
      font-weight: 600;
      padding: 4px 12px;
      border-radius: 100px;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.12s;
    }
    .filter-btn:hover { color: var(--text); border-color: var(--text-dim); }
    .filter-btn.active           { background: var(--blue-bg);   border-color: var(--blue-border);   color: var(--blue); }
    .filter-btn.active.biz-HBAG { background: var(--purple-bg); border-color: var(--purple-border); color: var(--purple); }
    .filter-btn.active.biz-BRIK { background: var(--green-bg);  border-color: var(--green-border);  color: var(--green); }
    .filter-btn.active.biz-BOS  { background: var(--blue-bg);   border-color: var(--blue-border);   color: var(--blue); }
    .filter-btn.active.biz-PLAT { background: var(--amber-bg);  border-color: var(--amber-border);  color: var(--amber); }
    .filter-divider { width: 1px; height: 20px; background: var(--border); margin: 0 4px; }

    /* ‚îÄ‚îÄ Summary bar ‚îÄ‚îÄ */
    .summary-bar { display: flex; gap: 10px; margin-bottom: 28px; flex-wrap: wrap; }
    .summary-pill {
      display: flex; align-items: center; gap: 6px;
      padding: 5px 12px; border-radius: 100px;
      font-size: 12px; font-weight: 500; border: 1px solid;
    }
    .summary-pill .count { font-size: 15px; font-weight: 700; line-height: 1; }
    .pill-blue   { background: var(--blue-bg);   border-color: var(--blue-border);   color: var(--blue); }
    .pill-amber  { background: var(--amber-bg);  border-color: var(--amber-border);  color: var(--amber); }
    .pill-purple { background: var(--purple-bg); border-color: var(--purple-border); color: var(--purple); }
    .pill-muted  { background: var(--surface-2); border-color: var(--border);        color: var(--text-muted); }

    /* ‚îÄ‚îÄ Section ‚îÄ‚îÄ */
    .section { margin-bottom: 36px; }
    .section-header {
      display: flex; align-items: center; gap: 10px; margin-bottom: 14px;
    }
    .section-header h2 {
      font-size: 13px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.6px; color: var(--text-muted);
    }
    .section-count {
      font-size: 11px; font-weight: 700; padding: 1px 7px;
      border-radius: 100px; background: var(--surface-2); color: var(--text-muted);
    }

    /* ‚îÄ‚îÄ Item card ‚îÄ‚îÄ */
    .item {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px 18px;
      margin-bottom: 10px;
      border-left: 3px solid transparent;
    }
    .item.idea { border-left-color: var(--blue); }
    .item.risk { border-left-color: var(--amber); }
    .item.pending-review { border-left-color: var(--purple); }

    .item-top {
      display: flex; align-items: flex-start;
      justify-content: space-between; gap: 12px; margin-bottom: 8px;
    }
    .item-title { font-size: 14px; font-weight: 600; color: var(--text); line-height: 1.4; }
    .item-badges { display: flex; gap: 6px; flex-wrap: wrap; flex-shrink: 0; }

    .badge {
      font-size: 10px; font-weight: 700; padding: 2px 7px;
      border-radius: var(--radius-sm); text-transform: uppercase; letter-spacing: 0.4px; white-space: nowrap;
    }
    .badge-idea    { background: var(--blue-bg);   color: var(--blue);   border: 1px solid var(--blue-border); }
    .badge-risk    { background: var(--amber-bg);  color: var(--amber);  border: 1px solid var(--amber-border); }
    .badge-pending { background: var(--purple-bg); color: var(--purple); border: 1px solid var(--purple-border); }
    .badge-HBAG    { background: var(--purple-bg); color: var(--purple); border: 1px solid var(--purple-border); }
    .badge-BRIK    { background: var(--green-bg);  color: var(--green);  border: 1px solid var(--green-border); }
    .badge-BOS     { background: var(--blue-bg);   color: var(--blue);   border: 1px solid var(--blue-border); }
    .badge-PLAT    { background: var(--amber-bg);  color: var(--amber);  border: 1px solid var(--amber-border); }
    .badge-generic { background: var(--surface-2); color: var(--text-muted); border: 1px solid var(--border); }

    .item-body { font-size: 13px; color: var(--text-muted); line-height: 1.6; }
    .item-body strong { color: var(--text); }

    .item-action {
      margin-top: 10px; padding: 8px 12px;
      background: var(--surface-2); border-radius: var(--radius-sm);
      font-size: 12.5px; color: var(--text);
    }
    .item-action-label {
      font-size: 10px; font-weight: 700; text-transform: uppercase;
      letter-spacing: 0.5px; color: var(--text-muted); margin-bottom: 3px;
    }

    .item-meta {
      display: flex; flex-wrap: wrap; gap: 16px;
      margin-top: 10px; padding-top: 10px;
      border-top: 1px solid var(--border);
      font-size: 11px; color: var(--text-dim);
    }
    .item-meta span { display: flex; align-items: center; gap: 4px; }
    .item-meta code {
      font-family: 'SFMono-Regular', Consolas, monospace;
      font-size: 10px; background: var(--surface-2);
      padding: 1px 5px; border-radius: 3px; color: var(--text-muted);
    }

    /* ‚îÄ‚îÄ Empty ‚îÄ‚îÄ */
    .empty {
      padding: 20px; text-align: center; color: var(--text-dim);
      font-size: 13px; border: 1px dashed var(--border); border-radius: var(--radius);
    }

    /* ‚îÄ‚îÄ Stale notice ‚îÄ‚îÄ */
    .stale-notice {
      padding: 10px 14px;
      background: var(--surface-2);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: 12px;
      color: var(--text-dim);
      margin-bottom: 24px;
    }
    .stale-notice strong { color: var(--text-muted); }

    /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
    .page-footer {
      margin-top: 48px; padding-top: 20px;
      border-top: 1px solid var(--border);
      font-size: 12px; color: var(--text-dim);
      display: flex; justify-content: space-between; flex-wrap: wrap; gap: 8px;
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f5f6fa; --surface: #ffffff; --surface-2: #f0f1f7;
        --border: #dde0ed; --text: #1a1d2e; --text-muted: #5a6080; --text-dim: #a0a8c0;
      }
    }
  </style>

<style id="sl-theme-css">html[data-theme="dark"]{--bg:#0e1016;--surface:#161921;--surface-2:#1e2230;--surface-raised:#1e2230;--border:#2a2f45;--text:#e4e7f2;--text-muted:#6b728f;--text-dim:#454d6a;--accent:#5b9cf6;--accent-soft:rgba(91,156,246,.15);--code-bg:#161921;--code-border:#2a2f45;--red-bg:rgba(240,92,92,.10);--amber-bg:rgba(245,166,35,.10);--green-bg:rgba(74,222,128,.08);--blue-bg:rgba(91,156,246,.10);--purple-bg:rgba(167,139,250,.10)}html[data-theme="dark"] body{background:var(--bg)!important;color:var(--text)!important}html[data-theme="light"]{--bg:#f5f6fa;--surface:#ffffff;--surface-2:#f0f1f7;--surface-raised:#f0f1f7;--border:#dde0ed;--text:#1a1d2e;--text-muted:#5a6080;--text-dim:#a0a8c0;--accent:#3362d0;--accent-soft:#e8eeff;--code-bg:#f0f1f7;--code-border:#dde0ed;--red-bg:rgba(200,50,50,.08);--amber-bg:rgba(180,120,0,.08);--green-bg:rgba(40,160,80,.06);--blue-bg:rgba(40,100,220,.08);--purple-bg:rgba(120,80,200,.08)}html[data-theme="light"] body{background:var(--bg)!important;color:var(--text)!important}[data-theme="light"] #sl-nav{background:#eef0f7!important;border-bottom-color:#dde0ed!important}[data-theme="light"] #sl-nav .sl-brand,[data-theme="light"] #sl-nav a,[data-theme="light"] #sl-theme-btn{color:#5a6080!important}[data-theme="light"] #sl-nav a:hover,[data-theme="light"] #sl-nav a.sl-on{color:#1a1d2e!important}</style>
<script id="sl-theme-init">(function(){try{var t=localStorage.getItem("sl-theme");if(!t)t=window.matchMedia("(prefers-color-scheme:dark)").matches?"dark":"light";document.documentElement.setAttribute("data-theme",t)}catch(e){}})()</script>
</head>
<body>
<nav id="sl-nav"><style>#sl-nav{position:sticky;top:0;z-index:9999;display:flex;align-items:center;background:#111318;border-bottom:1px solid #2a2d3e;padding:0 16px;height:42px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;font-size:13px;overflow-x:auto;white-space:nowrap}#sl-nav .sl-brand{color:#4b5270;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.7px;margin-right:16px;flex-shrink:0}#sl-nav a{color:#7b82a0;text-decoration:none;padding:0 11px;height:42px;display:inline-flex;align-items:center;gap:5px;font-weight:500;border-bottom:2px solid transparent;transition:color .12s;flex-shrink:0}#sl-nav a:hover{color:#e4e7f2}#sl-nav a.sl-on{color:#e4e7f2;border-bottom-color:#5b9cf6}#sl-theme-btn{margin-left:auto;background:none;border:none;cursor:pointer;font-size:15px;padding:0 12px;height:42px;flex-shrink:0;color:#7b82a0;line-height:1}</style><span class="sl-brand">Startup Loop</span><a href="startup-loop-workflow.user.html">Workflow</a><a href="startup-loop-files.user.html">Loop Files</a><a href="startup-loop-file-types.user.html">File Types</a><a href="startup-loop-output-registry.user.html">Output Registry</a><a href="ideas.user.html">Ideas</a><a href="process-improvements.user.html">Process</a><button id="sl-theme-btn" title="Toggle light/dark mode">üåô</button><script>(function(){var p=location.pathname.split("/").pop()||"";document.querySelectorAll("#sl-nav a").forEach(function(a){if(a.getAttribute("href").split("/").pop()===p)a.classList.add("sl-on")});var btn=document.getElementById("sl-theme-btn");function upd(){btn.textContent=document.documentElement.getAttribute("data-theme")==="dark"?"üåô":"‚òÄÔ∏è"}upd();btn.addEventListener("click",function(){var t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",t);localStorage.setItem("sl-theme",t);upd()});})()</script></nav>

<div class="sl-content">

  <div class="page-header">
    <h1>Process Improvements</h1>
    <p>Improvements, risks, and pending reviews from completed build cycles. Filter by business or type to focus your review. Regenerate after each build cycle completes.</p>
  </div>

  <div id="app"></div>

  <div class="page-footer">
    <span>docs/business-os/process-improvements.user.html</span>
    <span>Last cleared: 2026-02-26 ‚Äî extracted from build records, reflection debt, and results reviews</span>
    <span id="footer-generated"></span>
  </div>

</div><!-- /.sl-content -->

<script>
(function () {
  'use strict';

  // ‚îÄ‚îÄ Inline data extracted from results-review and build-record files ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // Regenerate after each build cycle by re-running the extraction.

  var GEN_TS = "2026-02-26T09:49:03.699Z";

  var IDEA_ITEMS = [
    {
      "type": "idea",
      "business": "BOS",
      "title": "Backfill older completed ideas into the registry",
      "body": "many historical results-review files have ideas that have been actioned but are still appearing in the report (51 ideas shown, unknown fraction already done)",
      "suggested_action": "manual audit pass or INVESTIGATE task to identify and backfill the highest-priority completed entries",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:47:46.087Z",
      "path": "docs/plans/_archive/process-improvements-completion-lifecycle/results-review.user.md",
      "idea_key": "b94ed760a8c6e70812f1e715d57ff654a038eda5"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "None for the other four categories.",
      "body": "None for the other four categories.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:47:46.087Z",
      "path": "docs/plans/_archive/process-improvements-completion-lifecycle/results-review.user.md",
      "idea_key": "b72c6a2bde48b4b9299be1d4a6860e8f6e85959e"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "AI-to-mechanistic: The extractFromJsxAttribute utility correctly handles most cases but returns confident: false for template literals with interpolations. A future improvement could expand confidence for template literals where the bare class token is always in the static portion.",
      "body": "AI-to-mechanistic: The extractFromJsxAttribute utility correctly handles most cases but returns confident: false for template literals with interpolations. A future improvement could expand confidence for template literals where the bare class token is always in the static portion.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:16.107Z",
      "path": "docs/plans/_archive/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "78659c800551efcc152a19e465ce0ed9f94f6ffb"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "New loop process: None identified.",
      "body": "New loop process: None identified.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:16.107Z",
      "path": "docs/plans/_archive/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "e22600775fee478e192cd1ebe2186cbec027e889"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "New open-source package: None identified.",
      "body": "New open-source package: None identified.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:16.107Z",
      "path": "docs/plans/_archive/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "9b01b2eccb23490e2a6ef87e0ed01e0b2fcaa607"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "New skill: None ‚Äî this was a standard lp-do-build code-change flow.",
      "body": "New skill: None ‚Äî this was a standard lp-do-build code-change flow.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:16.107Z",
      "path": "docs/plans/_archive/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "9517d16769495b7cb3786a19af35808319cb1c10"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "New standing data source: None identified.",
      "body": "New standing data source: None identified.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:16.107Z",
      "path": "docs/plans/_archive/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "d6053f0ef147a7587944a488f5445afeed28521a"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "AI-to-mechanistic: The extractFromJsxAttribute utility correctly handles most cases but returns confident: false for template literals with interpolations. A future improvement could expand confidence for template literals where the bare class token is always in the static portion.",
      "body": "AI-to-mechanistic: The extractFromJsxAttribute utility correctly handles most cases but returns confident: false for template literals with interpolations. A future improvement could expand confidence for template literals where the bare class token is always in the static portion.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:02.381Z",
      "path": "docs/plans/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "fe02150793889094003f0c4a9cb631967e47e91f"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "New loop process: None identified.",
      "body": "New loop process: None identified.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:02.381Z",
      "path": "docs/plans/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "bac1c74bbcdcf739f14ed4af35c828fa388c1e6d"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "New open-source package: None identified.",
      "body": "New open-source package: None identified.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:02.381Z",
      "path": "docs/plans/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "96f2bd78027236806b5625b202fdd1f42d1be074"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "New skill: None ‚Äî this was a standard lp-do-build code-change flow.",
      "body": "New skill: None ‚Äî this was a standard lp-do-build code-change flow.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:02.381Z",
      "path": "docs/plans/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "2abbd81e8f7ba92396ac4a0a7362d826c6a9ec7f"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "New standing data source: None identified.",
      "body": "New standing data source: None identified.",
      "source": "results-review.user.md",
      "date": "2026-02-26T09:11:02.381Z",
      "path": "docs/plans/reception-rounded-lg-lint-rule/results-review.user.md",
      "idea_key": "9dd63e5b59f4c0791afc5085b0fa568e59e3cc6e"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add ASSESSMENT-12 to loop-spec so GATE-ASSESSMENT-01 enforces dossier promotion before ASSESSMENT-13",
      "body": "TASK-06 acceptance note calls out that ASSESSMENT-12 should run before ASSESSMENT-13 but the gate does not enforce it ‚Äî documented friction point.",
      "suggested_action": "create card to add ASSESSMENT-12 to loop-spec and update GATE-ASSESSMENT-01.",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:53:10.111Z",
      "path": "docs/plans/_archive/startup-loop-product-identity-gap/results-review.user.md",
      "idea_key": "c4bd1e648763f424e2bd509de647df7b3925a428"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Assess whether ASSESSMENT-13/14/15 need prompt template files",
      "body": "prompt_required: false set for all three new stages ‚Äî consistent with skill-file execution but may need revisiting if the loop UI requires prompt templates.",
      "suggested_action": "defer ‚Äî assess when first real business runs ASSESSMENT-13.",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:53:10.111Z",
      "path": "docs/plans/_archive/startup-loop-product-identity-gap/results-review.user.md",
      "idea_key": "d60d167a7803b1b4c4e2b9a54192015a1ca9c2ff"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Validate packaging brief with a real physical-product operator",
      "body": "TASK-04 and TASK-03 confidence capped at 80% ‚Äî regulatory reference data not yet validated against real production experience.",
      "suggested_action": "when a physical-product business first runs ASSESSMENT-15, collect feedback and update regulatory-requirements.md.",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:53:10.111Z",
      "path": "docs/plans/_archive/startup-loop-product-identity-gap/results-review.user.md",
      "idea_key": "45bfc4f2a076416e63c7fa72dc75143a2d0591a9"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add ASSESSMENT-12 to loop-spec so GATE-ASSESSMENT-01 enforces dossier promotion before ASSESSMENT-13",
      "body": "TASK-06 acceptance note calls out that ASSESSMENT-12 should run before ASSESSMENT-13 but the gate does not enforce it ‚Äî documented friction point.",
      "suggested_action": "create card to add ASSESSMENT-12 to loop-spec and update GATE-ASSESSMENT-01.",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:53:01.939Z",
      "path": "docs/plans/startup-loop-product-identity-gap/results-review.user.md",
      "idea_key": "b2d857f1b9b0b1a353fed9023a281fee1f85a525"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Assess whether ASSESSMENT-13/14/15 need prompt template files",
      "body": "prompt_required: false set for all three new stages ‚Äî consistent with skill-file execution but may need revisiting if the loop UI requires prompt templates.",
      "suggested_action": "defer ‚Äî assess when first real business runs ASSESSMENT-13.",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:53:01.939Z",
      "path": "docs/plans/startup-loop-product-identity-gap/results-review.user.md",
      "idea_key": "515ff10d4c18b25b9a19da5a477002662c796142"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Validate packaging brief with a real physical-product operator",
      "body": "TASK-04 and TASK-03 confidence capped at 80% ‚Äî regulatory reference data not yet validated against real production experience.",
      "suggested_action": "when a physical-product business first runs ASSESSMENT-15, collect feedback and update regulatory-requirements.md.",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:53:01.939Z",
      "path": "docs/plans/startup-loop-product-identity-gap/results-review.user.md",
      "idea_key": "50250241c361b3e014540cb7f748b06e906f22b5"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add Jest unit test with fixture JSON mock for gsc-url-inspection-batch.ts extraction logic",
      "body": "TC-01 through TC-04 validated by code inspection only; fixture-based test would catch regression on return-type refactors",
      "suggested_action": "defer",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:14:25.464Z",
      "path": "docs/plans/_archive/seo-monitoring-datepublished-baseline/results-review.user.md",
      "idea_key": "94171ba01389aff8f13c0eb976c89cfdf61747d9"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Confirm richResultsResult field presence on next monitoring run against amalfi-positano-bus (one indexed URL) to validate API response shape empirically",
      "body": "TASK-01 delivered with optional-chaining fallbacks; no live API response with structured data yet observed for any seed URL",
      "suggested_action": "defer (happens automatically on next run)",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:14:25.464Z",
      "path": "docs/plans/_archive/seo-monitoring-datepublished-baseline/results-review.user.md",
      "idea_key": "a7d9276518b19aed313e3f444b6db67349cc1cfb"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Wire lastUpdated through HowToGetHereContent to unlock datePublished on 31 EN transport pages",
      "body": "transport pages have no datePublished structured data; monitoring will capture HowTo detection instead of Article when they index",
      "suggested_action": "defer",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:14:25.464Z",
      "path": "docs/plans/_archive/seo-monitoring-datepublished-baseline/results-review.user.md",
      "idea_key": "5a52fb8afce7adb5c0738ce56dd61c016da11049"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "E2E coverage for J2 error paths (validation failure, pipeline failure, empty-input 409)",
      "body": "TC-09-03 added only the success path; the plan explicitly deferred error-path coverage as non-goals. Now that the success path is tested, error paths are the natural next expansion.",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:03:55.075Z",
      "path": "docs/plans/_archive/xa-e2e-sync-success-path/results-review.user.md",
      "idea_key": "352a6020732ed972f3a5203e01616eb26ad89742"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "/how-to-get-here server-resolved hero H1 (sub-track C)",
      "body": "TASK-11 deferred useHowToGetHereContent audit ‚Äî HowToGetHereIndexContent hook needs investigation before server-resolved props pattern can be applied safely.",
      "suggested_action": "spike (audit hook dependencies before scoping)",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:02:22.786Z",
      "path": "docs/plans/_archive/brikette-deeper-route-funnel-cro/results-review.user.md",
      "idea_key": "b550e7d7075385897bfdb286e51d043750f351d7"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "RSC conversion for RoomsStructuredData + ExperiencesStructuredData",
      "body": "TASK-10 investigation confirmed both use useCurrentLanguage() (client hooks) but all underlying data is static ‚Äî full RSC conversion is feasible and would eliminate the client component boundary.",
      "suggested_action": "create card (P3 SSR, low urgency post-launch)",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:02:22.786Z",
      "path": "docs/plans/_archive/brikette-deeper-route-funnel-cro/results-review.user.md",
      "idea_key": "be4c24a746a5caf425cb4ee64fd66eea7732854f"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add IT locale /book route to the static export to stop the redirect to /en",
      "body": "Smoke test confirmed /it/prenota redirects to /en ‚Äî IT-speaking visitors get an English booking page",
      "suggested_action": "spike",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:01:53.208Z",
      "path": "docs/plans/brikette-cta-sales-funnel-ga4/results-review.user.md",
      "idea_key": "25c8a8824d18b07ac37db9166dcff663b6ed4e3e"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Track GA4 funnel drop-off in Explorations once custom dimensions are visible (48h)",
      "body": "Full funnel confirmed firing; no conversion rate baseline exists yet",
      "suggested_action": "defer (check at T+7 days when custom dimensions propagate)",
      "source": "results-review.user.md",
      "date": "2026-02-26T08:01:53.208Z",
      "path": "docs/plans/brikette-cta-sales-funnel-ga4/results-review.user.md",
      "idea_key": "bcdd9c80911fe4bd1a09728c3fecc7b6861104a3"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Automate rounded ‚Üí rounded-lg lint rule to prevent recurrence",
      "body": "12+ bare rounded instances found across 7 screens in this plan; same violations were found in Phase 1‚Äì3; no lint rule currently prevents reintroduction",
      "suggested_action": "spike (ESLint custom rule or Tailwind lint plugin)",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:46:43.788Z",
      "path": "docs/plans/_archive/reception-ui-screen-polish-phase4/results-review.user.md",
      "idea_key": "2c2c1ae29f3909135687df537cc4141b8160852b"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Extension.tsx debug console.log removal",
      "body": "4 debug console.log calls flagged with TODO comments in Extension.tsx during TASK-11; removal deferred as logic-entangled per non-goal",
      "suggested_action": "create card (code quality, TASK-11 already has TODO markers in-place)",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:46:43.788Z",
      "path": "docs/plans/_archive/reception-ui-screen-polish-phase4/results-review.user.md",
      "idea_key": "492ebcde914e6d445092688ec0173dbbd5262ac5"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Sweep PaymentsView.test.tsx to use data-cy attribute",
      "body": "pre-existing test failure discovered during Wave 3; root cause is testIdAttribute: \"data-cy\" jest config vs data-testid in test mock ‚Äî a one-line fix in the test file",
      "suggested_action": "create card (quick fix, low effort)",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:46:43.788Z",
      "path": "docs/plans/_archive/reception-ui-screen-polish-phase4/results-review.user.md",
      "idea_key": "0f3141291c45c80af447fafc4ca82ec1887cdd12"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Automate periodic smoke test runs against production (e.g. weekly cron) so GA4 event regressions are caught without manual operator invocation",
      "body": "smoke test is manual-only; value of the assertion is bounded by run frequency",
      "suggested_action": "defer",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:40:11.468Z",
      "path": "docs/plans/_archive/brikette-smoke-view-item-list/results-review.user.md",
      "idea_key": "b3cb39280dd5e64ca2f271505fc3617bb9ce4186"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add CI drift check step using check-process-improvements to catch SKIP_SIMPLE_GIT_HOOKS bypasses",
      "body": "SKIP_SIMPLE_GIT_HOOKS=1 is used by bos-export and would bypass the hook",
      "suggested_action": "defer (bos-export does not touch plan files, so this is low risk in practice)",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:36:11.273Z",
      "path": "docs/plans/_archive/process-improvements-live-update/results-review.user.md",
      "idea_key": "9dc16843ce70700259c1e422c106cdb28273ecb2"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add check_url_strict coverage to other localized booking entry points (e.g., /de/buchen, /fr/reserver)",
      "body": "TASK-04 strict check plumbing is now reusable via healthcheck-strict-routes input in reusable-app.yml",
      "suggested_action": "defer",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:33:03.262Z",
      "path": "docs/plans/_archive/brikette-it-book-route-static-export/results-review.user.md",
      "idea_key": "30a0a8985d1c87982902aead225c25cd09a5b0bc"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Extend smoke test to cover representative IT locale routes (rooms, experiences)",
      "body": "TASK-01 confirmed IT book present, but no other IT-locale routes are smoke-tested",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:33:03.262Z",
      "path": "docs/plans/_archive/brikette-it-book-route-static-export/results-review.user.md",
      "idea_key": "d8e5e55862f2c3c4703d7605ba2e1dc4773b1615"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "The reflection debt emitter currently runs as a TypeScript script triggered by pnpm --filter scripts startup-loop:generate-process-improvements. The five-category scan in the pre-fill step is still LLM reasoning (agent reads build context and scans). A future mechanistic check could diff the New Idea Candidates section of committed results-reviews against the five category labels and flag missing categories as a lint warning.",
      "body": "this build added a structured five-category checklist to step 2, revealing that compliance checking (are all five categories addressed?) is a deterministic pattern-match, not a reasoning task",
      "suggested_action": "spike",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:27:53.087Z",
      "path": "docs/plans/_archive/post-build-reflection-prompting/results-review.user.md",
      "idea_key": "a8bd43e491362bb28adf381f0d335f9b08dccbfe"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "The wave build execution for this plan (three independent S-effort markdown edits) was orchestrated manually. A docs-patch skill that handles batches of bounded markdown edits to SKILL.md files (verify current state, apply edit, verify result, commit) would eliminate the lp-do-build overhead for this class of purely-additive process-doc changes.",
      "body": "all three tasks were trivial file edits with identical Red/Green/Refactor structure",
      "suggested_action": "defer (needs more examples to justify)",
      "source": "results-review.user.md",
      "date": "2026-02-26T07:27:53.087Z",
      "path": "docs/plans/_archive/post-build-reflection-prompting/results-review.user.md",
      "idea_key": "d6de990c408eef01e2ccebf0268908ac8e4110fa"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Extend UI polish to Phase 4 screens (16 unread screens identified in fact-find) using same pattern",
      "body": "All Phase 1‚Äì3 screens now polished; remaining screens have visible visual gap",
      "suggested_action": "spike ‚Äî quick read of all 16 Phase 4 screen root components to establish complexity brackets before starting a new plan",
      "source": "results-review.user.md",
      "date": "2026-02-26T01:32:59.021Z",
      "path": "docs/plans/_archive/reception-ui-screen-polish/results-review.user.md",
      "idea_key": "3b8a236a10c0f0db3e1fbf72ad851005523c26e2"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "ReceptionSkeleton pattern should be documented as the canonical loading state for reception app tables",
      "body": "Component created and used in 2 screens (CheckinsTable, Checkout); will be needed by Phase 4 screens",
      "suggested_action": "create card ‚Äî add to design system notes or code comment in shared component",
      "source": "results-review.user.md",
      "date": "2026-02-26T01:32:59.021Z",
      "path": "docs/plans/_archive/reception-ui-screen-polish/results-review.user.md",
      "idea_key": "56df98e4006fb2a28f3af4e6e16e10228c829801"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add validate:launch-media to CI so media contract failures block merges",
      "body": "contract validator currently run manually; new SKUs could be merged without images",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:37:02.398Z",
      "path": "docs/plans/hbag-website-02-image-first-upgrade/results-review.user.md",
      "idea_key": "ac3d068ddeedab6a631cf1798af0a87688c96116"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Expand catalog from 3 to target SKU count with production imagery",
      "body": "launch media contract passes for 3 active SKUs ‚Äî catalog is minimal for launch",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:37:02.398Z",
      "path": "docs/plans/hbag-website-02-image-first-upgrade/results-review.user.md",
      "idea_key": "45c78ffe03dc5912a945f665dc9fb674e05e72e6"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Real-device performance spot-check before public launch",
      "body": "build-record flags this as the only remaining pre-launch gate; a QA matrix is already drafted at artifacts/real-device-qa-matrix.md",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:37:02.398Z",
      "path": "docs/plans/hbag-website-02-image-first-upgrade/results-review.user.md",
      "idea_key": "c4b0e1bcf4fabf89df721f914bf64e644fdb801b"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Automated policy-fact consistency check across templates",
      "body": "three policy facts manually verified across 125 templates; any future policy change has no automated catch",
      "suggested_action": "spike",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:36:44.667Z",
      "path": "docs/plans/hostel-email-template-expansion/results-review.user.md",
      "idea_key": "d6c0d012a20bfaa110f0a2ea0fdeded4b3e11bc3"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Post-stay review workflow using T178 as the trigger template",
      "body": "T178 built and lint-passing but review-link URL still a placeholder; workflow not yet activated",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:36:44.667Z",
      "path": "docs/plans/hostel-email-template-expansion/results-review.user.md",
      "idea_key": "0788a8f4a7e332d5daa0073b10366b7d35840f7c"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Template selection rate monitoring dashboard or weekly report",
      "body": "build-record recommends running draft_signal_stats after 4 weeks; no scheduled monitoring exists",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:36:44.667Z",
      "path": "docs/plans/hostel-email-template-expansion/results-review.user.md",
      "idea_key": "19390ebb667f9ecf94a405949128d0acbeb629e5"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add automated constraint-graph cycle check to CI",
      "body": "cycles were manually verified via generate-stage-operator-views.ts; no automated CI gate exists",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:36:24.076Z",
      "path": "docs/plans/startup-loop-parallel-container-wiring/results-review.user.md",
      "idea_key": "d5ebf7bacf8d307645289097e7a30d2d68601692"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Visual diff test for process-map HTML to catch silent regressions",
      "body": "swim-lane layout was browser-verified manually; no regression test exists",
      "suggested_action": "spike",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:36:24.076Z",
      "path": "docs/plans/startup-loop-parallel-container-wiring/results-review.user.md",
      "idea_key": "e6d41217823fc313fd5fe0ae6781723def8af146"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add E2E coverage for sync success path once scripts are restored",
      "body": "test:e2e only covers J1 happy path; J2 has no E2E test",
      "suggested_action": "defer until sync scripts exist",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:35:19.828Z",
      "path": "docs/plans/xa-uploader-usability-hardening/results-review.user.md",
      "idea_key": "73feebe70f5a57c10423915e5326cc3a0b6355fc"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Restore or port missing XA sync scripts to unblock J2",
      "body": "scripts/src/xa/validate-xa-inputs.ts and run-xa-pipeline.ts are absent; sync journey is deterministically blocked",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:35:19.828Z",
      "path": "docs/plans/xa-uploader-usability-hardening/results-review.user.md",
      "idea_key": "16634df2ebefc5651b0a6b7551502d2bbec1b86a"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add filesystem discovery smoke test to CI",
      "body": "rebuild-discovery-index.sh is validated manually; no automated regression guard on its output shape",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:34:30.738Z",
      "path": "docs/plans/do-skills-bos-decoupling/results-review.user.md",
      "idea_key": "c5a46e9603aeec9f92f8561051fbaed85592406d"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Audit existing in-flight plans for stale BOS frontmatter fields",
      "body": "Templates cleaned but older active plans may still carry Business-OS-Integration/Card-ID fields",
      "suggested_action": "spike",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:34:30.738Z",
      "path": "docs/plans/do-skills-bos-decoupling/results-review.user.md",
      "idea_key": "336cadb8c091f25f65d75cf9beca9c762c25d087"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add datePublished to monitoring baseline to track when guide pages first appear with valid structured data in search results",
      "body": "T+0 baseline has 29 unknown URLs; structured data correctness cannot be validated until pages are indexed",
      "suggested_action": "defer",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:32:11.291Z",
      "path": "docs/plans/_archive/brikette-seo-api-optimization-loop/results-review.user.md",
      "idea_key": "361960b9c7d02a3691633298d03f6b1b32df7506"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Enable Google Indexing API and test URL submission eligibility",
      "body": "All 5 test submissions returned HTTP 403 ‚Äî API not enabled in GCP project 98263641014",
      "suggested_action": "spike (operator enables API at GCP console, then re-runs 5 test URLs)",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:32:11.291Z",
      "path": "docs/plans/_archive/brikette-seo-api-optimization-loop/results-review.user.md",
      "idea_key": "2a9895c0b987426e79f26ab0ad5d09a70a53152e"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Wire lastUpdated prop through HowToGetHereContent to unlock datePublished on transport pages",
      "body": "31 EN transport pages have no lastUpdated in RouteDefinition; datePublished fix was deferred from TASK-03",
      "suggested_action": "defer",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:32:11.291Z",
      "path": "docs/plans/_archive/brikette-seo-api-optimization-loop/results-review.user.md",
      "idea_key": "27d5c91eacc1a6e92dfea3cb5bb52da69026e1ad"
    },
    {
      "type": "idea",
      "business": "BOS",
      "title": "Add session_id or caller_pid to governed telemetry event schema to enable actor attribution in future zombie incidents.",
      "body": "TASK-01 could not confirm actor identity with 80% confidence; no session metadata in events.jsonl.",
      "suggested_action": "create card",
      "source": "results-review.user.md",
      "date": "2026-02-25T22:24:07.859Z",
      "path": "docs/plans/_archive/build-subagent-jest-zombie-cleanup/results-review.user.md",
      "idea_key": "2adca1b79137219ebded92915d3d2b227e9b00db"
    }
  ];

  var RISK_ITEMS = [];

  var PENDING_REVIEW_ITEMS = [
    {
      "type": "pending-review",
      "business": "BOS",
      "title": "Pending results review: reception-rounded-lg-lint-rule",
      "body": "Results review exists but the \"expansion opportunities\" section is missing.",
      "suggested_action": "Complete docs/plans/_archive/reception-rounded-lg-lint-rule/results-review.user.md ‚Äî four sections: what the build achieved, what needs updating in standing docs, new ideas spotted, and expansion opportunities.",
      "source": "build-record.user.md",
      "date": "2026-02-26T09:11:16.099Z",
      "path": "docs/plans/_archive/reception-rounded-lg-lint-rule/build-record.user.md"
    },
    {
      "type": "pending-review",
      "business": "BOS",
      "title": "Pending results review: reception-rounded-lg-lint-rule",
      "body": "Results review exists but the \"expansion opportunities\" section is missing.",
      "suggested_action": "Complete docs/plans/reception-rounded-lg-lint-rule/results-review.user.md ‚Äî four sections: what the build achieved, what needs updating in standing docs, new ideas spotted, and expansion opportunities.",
      "source": "build-record.user.md",
      "date": "2026-02-26T09:10:47.340Z",
      "path": "docs/plans/reception-rounded-lg-lint-rule/build-record.user.md"
    }
  ];

  // ‚îÄ‚îÄ State ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  var activeBusiness = 'ALL';
  var activeType = 'all';

  // ‚îÄ‚îÄ Helpers ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function fmtDate(iso) {
    try {
      var d = new Date(iso);
      if (isNaN(d.getTime())) return iso;
      return d.toLocaleString('it-IT', { day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit' });
    } catch (e) { return iso; }
  }

  function esc(s) {
    return String(s || '')
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;');
  }

  function bizBadge(b) {
    var known = ['HBAG','BRIK','BOS','PLAT','XA'];
    var cls = known.indexOf(b) >= 0 ? 'badge-' + b : 'badge-generic';
    return '<span class="badge ' + cls + '">' + esc(b) + '</span>';
  }

  function typeBadge(t) {
    var map = { idea: 'badge-idea', risk: 'badge-risk', 'pending-review': 'badge-pending' };
    var lbl = { idea: 'Idea Candidate', risk: 'Open Risk', 'pending-review': 'Pending Review' };
    return '<span class="badge ' + (map[t] || 'badge-generic') + '">' + esc(lbl[t] || t) + '</span>';
  }

  // ‚îÄ‚îÄ Render ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function allItems() { return IDEA_ITEMS.concat(RISK_ITEMS).concat(PENDING_REVIEW_ITEMS); }

  function filtered(items) {
    return items.filter(function (item) {
      if (activeBusiness !== 'ALL' && item.business !== activeBusiness) return false;
      if (activeType !== 'all' && item.type !== activeType) return false;
      return true;
    });
  }

  function render() {
    var ideas    = filtered(IDEA_ITEMS);
    var risks    = filtered(RISK_ITEMS);
    var pending  = filtered(PENDING_REVIEW_ITEMS);

    // All distinct businesses
    var bizsAll = ['ALL'];
    allItems().forEach(function (item) {
      if (item.business && bizsAll.indexOf(item.business) < 0) bizsAll.push(item.business);
    });

    var html = '';

    // Summary bar
    html += '<div class="summary-bar">';
    html += '<div class="summary-pill pill-blue"><span class="count">' + IDEA_ITEMS.length + '</span> Idea Candidates</div>';
    html += '<div class="summary-pill pill-amber"><span class="count">' + RISK_ITEMS.length + '</span> Open Risks</div>';
    html += '<div class="summary-pill pill-purple"><span class="count">' + PENDING_REVIEW_ITEMS.length + '</span> Pending Reviews</div>';
    html += '</div>';

    // Filter bar
    html += '<div class="filter-bar">';
    html += '<span class="filter-label">Business</span>';
    bizsAll.forEach(function (b) {
      var active = activeBusiness === b ? ' active biz-' + b : '';
      html += '<button class="filter-btn' + active + '" data-filter-biz="' + esc(b) + '">' + esc(b) + '</button>';
    });
    html += '<div class="filter-divider"></div>';
    html += '<span class="filter-label">Type</span>';
    [['all','All'],['idea','Ideas'],['risk','Risks'],['pending-review','Pending Review']].forEach(function (p) {
      var active = activeType === p[0] ? ' active' : '';
      html += '<button class="filter-btn' + active + '" data-filter-type="' + esc(p[0]) + '">' + esc(p[1]) + '</button>';
    });
    html += '</div>';

    // ‚îÄ‚îÄ Section: Idea Candidates ‚îÄ‚îÄ //
    if (activeType === 'all' || activeType === 'idea') {
      html += '<div class="section">';
      html += '<div class="section-header"><h2>Idea Candidates</h2><span class="section-count">' + ideas.length + '</span></div>';
      if (ideas.length === 0) {
        html += '<div class="empty">No idea candidates match the current filter.</div>';
      } else {
        ideas.forEach(function (item) { html += renderItem(item); });
      }
      html += '</div>';
    }

    // ‚îÄ‚îÄ Section: Open Risks ‚îÄ‚îÄ //
    if (activeType === 'all' || activeType === 'risk') {
      html += '<div class="section">';
      html += '<div class="section-header"><h2>Open Risks</h2><span class="section-count">' + risks.length + '</span></div>';
      if (risks.length === 0) {
        html += '<div class="empty">No open risks match the current filter.</div>';
      } else {
        risks.forEach(function (item) { html += renderItem(item); });
      }
      html += '</div>';
    }

    // ‚îÄ‚îÄ Section: Pending Results Reviews ‚îÄ‚îÄ //
    if (activeType === 'all' || activeType === 'pending-review') {
      html += '<div class="section">';
      html += '<div class="section-header"><h2>Pending Results Reviews</h2><span class="section-count">' + pending.length + '</span></div>';
      if (pending.length === 0) {
        html += '<div class="empty">No pending reviews match the current filter.</div>';
      } else {
        html += '<p style="font-size:12px;color:var(--text-dim);margin-bottom:12px;">These plans have build records but no <code>results-review.user.md</code> yet. Plans cannot be archived until the operator produces a results review.</p>';
        pending.forEach(function (item) { html += renderItem(item); });
      }
      html += '</div>';
    }

    document.getElementById('app').innerHTML = html;
    attachHandlers();
  }

  function renderItem(item) {
    var html = '<div class="item ' + esc(item.type) + '">';
    html += '<div class="item-top">';
    html += '<div class="item-title">' + esc(item.title) + '</div>';
    html += '<div class="item-badges">' + bizBadge(item.business) + typeBadge(item.type) + '</div>';
    html += '</div>';
    html += '<div class="item-body">' + esc(item.body) + '</div>';
    if (item.suggested_action) {
      html += '<div class="item-action"><div class="item-action-label">Suggested Next Action</div>' + esc(item.suggested_action) + '</div>';
    }
    html += '<div class="item-meta">';
    html += '<span>Source: <code>' + esc(item.source) + '</code></span>';
    if (item.date) html += '<span>Date: ' + esc(fmtDate(item.date)) + '</span>';
    if (item.path) html += '<span>Path: <code>' + esc(item.path) + '</code></span>';
    html += '</div>';
    html += '</div>';
    return html;
  }

  function attachHandlers() {
    document.querySelectorAll('[data-filter-biz]').forEach(function (btn) {
      btn.addEventListener('click', function () {
        activeBusiness = this.getAttribute('data-filter-biz');
        try { sessionStorage.setItem('pi-filter-biz', activeBusiness); } catch (e) {}
        render();
      });
    });
    document.querySelectorAll('[data-filter-type]').forEach(function (btn) {
      btn.addEventListener('click', function () {
        activeType = this.getAttribute('data-filter-type');
        try { sessionStorage.setItem('pi-filter-type', activeType); } catch (e) {}
        render();
      });
    });
  }

  try {
    var savedBiz = sessionStorage.getItem('pi-filter-biz');
    var savedType = sessionStorage.getItem('pi-filter-type');
    if (savedBiz) activeBusiness = savedBiz;
    if (savedType) activeType = savedType;
  } catch (e) {}

  render();

  var genEl = document.getElementById('footer-generated');
  if (genEl) {
    genEl.textContent = 'Generated: ' + new Date(GEN_TS).toLocaleString('it-IT', { day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' }) + ' \u2014 auto-refreshes every 30s';
  }
})();
</script>
</body>
</html>
