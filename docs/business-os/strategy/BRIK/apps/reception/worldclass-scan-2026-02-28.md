---
schema_version: worldclass-scan.v1
business: BRIK
app: reception
goal_version: 1
scan_date: 2026-02-28
status: active
---

# World-Class Gap Scan — BRIK/reception (2026-02-28)

## Data Sources Probed

| Data Source | Status | Notes |
|---|---|---|
| Repo | configured | Full source scan of `apps/reception/src/` — extensive till, inventory, safe, EOD, and reports modules found |
| Stripe | not-configured | Bar POS / cash management app — no Stripe products; not applicable to these domains |
| GA4 | not-configured | `G-2ZSYXG8R7T` is configured for the Brikette website only; not relevant to reception app cash/stock domains |
| Firebase | configured | Project `prime-f3652` with `reception` alias; Firebase is the primary data store for all four domains |
| Octorate | not-configured | Only in guest-email service and one test file; not integrated into cash or stock management workflows |

## Gap Comparison Table

| Domain | domain_id | Gap | Current State | Threshold | Gap Classification | Evidence Source | Notes |
|---|---|---|---|---|---|---|---|
| Cash Reconciliation UX | cash-reconciliation-ux | No blind mode (hiding expected balance from junior staff) | 3-step wizard (Cash → Receipts → Keycards) with denomination-aware entry, expected-vs-actual at close, offline save-as-you-go, and manager override on step navigation. Expected cash is shown to all roles during counting — no "blind" mode to hide expected balance from non-manager roles. | A drawer/session workflow that records starting cash and cash movements, supports a fast counted close with an immediate over/short display, and stores an audit-ready record that can be reviewed later—even if the network is down at close time. | minor-gap | `apps/reception/src/components/till/CloseShiftForm.tsx`, `apps/reception/src/components/till/StepProgress.tsx`, `apps/reception/src/components/till/DenominationInput.tsx` | Minimum threshold clearly met. Blind mode (hiding expected from junior staff to prevent gaming) is a world-class differentiator not yet present. Single-terminal context reduces the urgency but role-aware balance hiding is a key indicator. |
| Cash Reconciliation UX | cash-reconciliation-ux | No drawer-to-employee lock/assignment | Shifts record `openedBy`/`closedBy` staff name (accountability trail exists). No mechanism prevents a different staff member from closing someone else's open shift, and no "drawer locked to employee" UI state exists. | A drawer/session workflow that records starting cash and cash movements, supports a fast counted close with an immediate over/short display, and stores an audit-ready record that can be reviewed later—even if the network is down at close time. | minor-gap | `apps/reception/src/schemas/tillShiftSchema.ts`, `apps/reception/src/components/till/TillReconciliation.tsx` | Not a minimum-threshold blocker. For BRIK's single-terminal, shared-hardware context this is lower priority than blind mode. Noted as a world-class differentiator gap. |
| Stock Accountability | stock-accountability | No user attribution on stock count lines | Category-based batch count (`BatchStockCount`) with per-category progress tracking (`useBatchCountProgress`), explained/unexplained variance separation (`buildExplainedShrinkageByItem` + `buildUnexplainedVarianceByItem`), reason codes on negative variance, offline Firebase sync. Firebase ledger entries record `itemId`, `quantity`, `timestamp`, `type`, `reason` — but no `submittedBy` staff field. | A storage-area/category-based count sheet with fast quantity entry, offline-safe save-as-you-go, and automatic expected-vs-counted variance calculation with a required note/reason when variance exceeds a defined threshold. | minor-gap | `apps/reception/src/components/inventory/BatchStockCount.tsx`, `apps/reception/src/components/inventory/StockManagement.tsx`, `apps/reception/src/hooks/utilities/useBatchCountProgress.ts` | Minimum threshold met. Missing user attribution per submitted count line prevents post-count investigation from identifying who counted which items — a key world-class accountability indicator. |
| Manager Audit Visibility | manager-audit-visibility | No consolidated "is today clean?" summary | `TillShiftHistory` (in Till & Safe nav section) has staff+date filters, 30-day range, and denomination drill-down per shift. `ManagerAuditContent` (Manager Audit nav) shows last 3 shifts + 7-day stock variance table. No single above-the-fold view combines both domains into a clean/dirty shift status card a manager can confirm in ≤30 seconds. | A single manager view per shift/day showing expected vs actual cash and any stock variances, with user attribution, timestamps, and an exportable log so unresolved issues are visible immediately rather than buried. | minor-gap | `apps/reception/src/components/managerAudit/ManagerAuditContent.tsx`, `apps/reception/src/components/till/TillShiftHistory.tsx` | TillShiftHistory is strong for till audit. ManagerAuditContent has relevant data but presents till and stock in separate sections without a top-level summary card. The ≤30-second confirmation threshold is borderline — requires two separate navigation paths. |
| Manager Audit Visibility | manager-audit-visibility | Stock variance audit not filterable or exportable | `ManagerAuditContent` stock variance table shows the last 7 days with item/delta/date. Fixed window, no staff filter, no date filter, no CSV export capability. No user attribution on stock count entries (no `submittedBy` field in Firebase ledger). | A single manager view per shift/day showing expected vs actual cash and any stock variances, with user attribution, timestamps, and an exportable log so unresolved issues are visible immediately rather than buried. | minor-gap | `apps/reception/src/components/managerAudit/ManagerAuditContent.tsx` | Manager cannot investigate a specific item or staff member's counting history, or export stock variance data for owner reporting. A date-range filter, item filter, and basic CSV export would close this gap. |
| End-of-Day Close-Out | end-of-day-closeout | No inline variance amounts in EOD close-out view | `EodChecklistContent` shows ✓/✗ per section (Till, Safe, Stock, Float) and blocks confirm-close until all sections complete. Single "Confirm day closed" button produces a stored closure record. The record stores `confirmedBy`, `timestamp`, `date` only — no variance amounts, no cash totals, no stock delta summary. EOD view shows completion status only, not actionable numbers. | A single guided close-out checklist that (a) confirms drawers are counted and recorded, (b) confirms stock logging status, (c) forces resolution or explicit carry-over of outstanding items, and (d) produces a stored summary report that remains viewable offline and syncs when connectivity returns. | minor-gap | `apps/reception/src/components/eodChecklist/EodChecklistContent.tsx`, `apps/reception/src/schemas/eodClosureSchema.ts` | Minimum threshold mostly met: checklist present, blocker on incomplete steps, float step, stored record. Gap: closure record has no variance data — a manager reviewing the stored summary cannot see the actual cash over/short or stock delta for that day without navigating to separate screens. |
| End-of-Day Close-Out | end-of-day-closeout | No exception override or carry-over mechanism | `EodChecklistContent` blocks the confirm button with a hard `allDone` gate (tillDone && safeDone && stockDone). No escape hatch with elevated credentials and mandatory reason for exceptional cases (e.g., safe inaccessible, stock count impossible due to system issue). Staff simply cannot complete EOD when any step is blocked with no override path. | A single guided close-out checklist that (a) confirms drawers are counted and recorded, (b) confirms stock logging status, (c) forces resolution or explicit carry-over of outstanding items, and (d) produces a stored summary report that remains viewable offline and syncs when connectivity returns. | minor-gap | `apps/reception/src/components/eodChecklist/EodChecklistContent.tsx` | World-class systems (Square, Revel) provide owner-passcode overrides for exceptional cases. Without this, legitimate edge cases leave staff unable to close the day. Override should require manager reauth and log a reason — consistent with the existing `managerReauth` pattern. |

## Scan Summary

- World-class domains: 0
- Major gaps: 0
- Minor gaps: 7 (across 4 domains — 2 per cash-reconciliation-ux, 1 per stock-accountability, 2 per manager-audit-visibility, 2 per end-of-day-closeout)
- No-data gaps: 0
- Total gap rows emitted: 7
