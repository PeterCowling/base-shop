"use strict";(self.webpackChunkcms_monorepo=self.webpackChunkcms_monorepo||[]).push([[370],{"./packages/ui/src/components/cms/blocks/RentalAvailabilitySection.Matrix.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>RentalAvailabilitySection_Matrix_stories});var RentalAvailabilitySection=__webpack_require__("./packages/ui/src/components/cms/blocks/RentalAvailabilitySection.tsx"),createStories=__webpack_require__("./packages/ui/src/story-utils/createStories.ts");const RentalAvailabilitySection_fixtures_namespaceObject=JSON.parse('{"sku":"green-sneaker","locationId":"store-1"}');var types=__webpack_require__("./node_modules/.pnpm/zod@3.25.73/node_modules/zod/v3/types.js"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const meta={title:"CMS Blocks/RentalAvailabilitySection/Matrix",component:RentalAvailabilitySection.A,tags:["autodocs"],args:{...RentalAvailabilitySection_fixtures_namespaceObject}},RentalAvailabilitySection_Matrix_stories=meta,baseArgs=meta.args;try{types.Ik({sku:types.Yj(),locationId:types.Yj().optional()}).parse(RentalAvailabilitySection_fixtures_namespaceObject)}catch(e){console.error("Invalid RentalAvailabilitySection fixture:",e)}const Default=(0,createStories.T)(baseArgs,{},"default",{a11y:!0,viewports:["desktop"],tags:["visual"]}),__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"makeStateStory(baseArgs, {}, 'default', {\n  a11y: true,\n  viewports: ['desktop'],\n  tags: ['visual']\n})",...Default.parameters?.docs?.source}}}},"./packages/ui/src/components/cms/blocks/RentalAvailabilitySection.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RentalAvailabilitySection});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.3.5_@babel+core@7.28.4_@opentelemetry+api@1.9.0_@playwright+test@1.53.2_react-d_b38198e836dabfde367dfef63fafdf09/node_modules/next/dist/compiled/react/index.js");let adapter=null;const t=s=>s;function RentalAvailabilitySection({sku,locationId,className,...rest}){const[start,setStart]=react.useState(""),[end,setEnd]=react.useState(""),[status,setStatus]=react.useState("idle"),[result,setResult]=react.useState(null),disabled=!start||!end,notConfigured=result&&0===result.blocks.length&&"loaded"===status&&!1===result.available;return(0,jsx_runtime.jsx)("div",{className,...rest,children:(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-3",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"block text-sm",children:t("Start")}),(0,jsx_runtime.jsx)("input",{type:"date",value:start,onChange:e=>setStart(e.target.value),className:"rounded border px-2 py-1 min-h-10"})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"block text-sm",children:t("End")}),(0,jsx_runtime.jsx)("input",{type:"date",value:end,onChange:e=>setEnd(e.target.value),className:"rounded border px-2 py-1 min-h-10"})]}),(0,jsx_runtime.jsx)("div",{className:"self-end",children:(0,jsx_runtime.jsx)("button",{type:"button",onClick:async()=>{if(!disabled){setStatus("loading");try{const data=await async function getAvailability(sku,range,locationId){if(!adapter)return{available:!1,blocks:[]};try{return await adapter.getAvailability(sku,range,locationId)}catch(e){return{available:!1,blocks:[]}}}(sku,{start,end},locationId);setResult(data),setStatus("loaded")}catch(e){setStatus("error")}}},disabled,className:"rounded bg-black px-3 py-1 text-white disabled:opacity-50 min-h-10 min-w-10",children:t("Check")})})]}),"loading"===status&&(0,jsx_runtime.jsx)("p",{className:"text-sm text-neutral-600",children:t("Checking availability…")}),"error"===status&&(0,jsx_runtime.jsx)("p",{className:"text-sm text-red-600",children:t("Failed to check availability.")}),"loaded"===status&&result&&(0,jsx_runtime.jsxs)("div",{className:"text-sm",children:[(0,jsx_runtime.jsxs)("p",{children:[t("Available:")," ",(0,jsx_runtime.jsx)("strong",{children:String(result.available)}),null!=result.capacity?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" · ",t("Capacity:")," ",result.capacity]}):null]}),notConfigured&&(0,jsx_runtime.jsx)("p",{className:"text-neutral-600",children:t("Availability provider not configured. This is a demo stub.")})]})]})})}RentalAvailabilitySection.__docgenInfo={description:"",methods:[],displayName:"RentalAvailabilitySection",props:{sku:{required:!0,tsType:{name:"string"},description:""},locationId:{required:!1,tsType:{name:"string"},description:""}}}},"./packages/ui/src/story-utils/createStories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function makeStateStory(base,patch,state,opts={}){const{a11y=!0,critical=!1,rtl=!1,viewports=[],tags=[],docsDescription}=opts,parameters={a11y:{disable:!a11y},dataState:state};rtl&&(parameters.rtl=!0),viewports.length&&(parameters.viewport={defaultViewport:viewports[0]}),docsDescription&&(parameters.docs={description:{story:docsDescription}});const computedTags=["autodocs",a11y?"a11y":"no-a11y",critical?"critical":"noncritical",...tags];parameters.chromatic={disable:!computedTags.includes("visual")};return{args:{...base,...patch},parameters,tags:computedTags}}__webpack_require__.d(__webpack_exports__,{T:()=>makeStateStory})}}]);