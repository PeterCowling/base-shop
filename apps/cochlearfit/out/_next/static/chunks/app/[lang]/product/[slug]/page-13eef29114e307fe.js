(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{844:(e,t,r)=>{Promise.resolve().then(r.bind(r,9642))},905:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(6586),a=r(7826),o=r(65),l=r(7862);let i=a.memo(function(e){let{amount:t,currency:r}=e,i=(0,o.Y)(),c=(0,a.useMemo)(()=>{var e;return e=(0,l.Tl)(i),new Intl.NumberFormat(e,{style:"currency",currency:r,currencyDisplay:"narrowSymbol"}).format(t/100)},[t,r,i]);return(0,s.jsx)("span",{children:c})})},1880:(e,t,r)=>{"use strict";r.d(t,{uP:()=>m,e:()=>u,jo:()=>p,n5:()=>d,d$:()=>i,_s:()=>c,P5:()=>n});let s=[{key:"sand",label:"Sand",hex:"hsl(var(--color-sand))"},{key:"ocean",label:"Ocean",hex:"hsl(var(--color-ocean))"},{key:"berry",label:"Berry",hex:"hsl(var(--color-berry))"}],a=[{key:"kids",label:"Kids"},{key:"adult",label:"Adult"}],o=(e,t)=>a.flatMap(r=>s.map(s=>({id:"".concat(e,"-").concat(r.key,"-").concat(s.key),size:r.key,color:s.key,colorLabel:s.label,colorHex:s.hex,price:t[r.key],currency:"USD",stripePriceId:"price_".concat(e,"_").concat(r.key,"_").concat(s.key),inStock:!0}))),l=[{id:"cochlearfit-classic",slug:"classic",name:"product.classic.name",style:"product.classic.style",shortDescription:"product.classic.shortDescription",longDescription:"product.classic.longDescription",featureBullets:["product.classic.feature1","product.classic.feature2","product.classic.feature3"],materials:["product.classic.material1","product.classic.material2"],careInstructions:["product.classic.care1","product.classic.care2","product.classic.care3"],compatibilityNotes:["product.classic.compatibility1","product.classic.compatibility2","product.classic.compatibility3"],images:[{src:"/images/classic-hero.svg",alt:"product.classic.image1Alt",width:820,height:520},{src:"/images/classic-detail.svg",alt:"product.classic.image2Alt",width:820,height:520}],variants:o("classic",{kids:3400,adult:3800})},{id:"cochlearfit-sport",slug:"sport",name:"product.sport.name",style:"product.sport.style",shortDescription:"product.sport.shortDescription",longDescription:"product.sport.longDescription",featureBullets:["product.sport.feature1","product.sport.feature2","product.sport.feature3"],materials:["product.sport.material1","product.sport.material2"],careInstructions:["product.sport.care1","product.sport.care2","product.sport.care3"],compatibilityNotes:["product.sport.compatibility1","product.sport.compatibility2","product.sport.compatibility3"],images:[{src:"/images/sport-hero.svg",alt:"product.sport.image1Alt",width:820,height:520},{src:"/images/sport-detail.svg",alt:"product.sport.image2Alt",width:820,height:520}],variants:o("sport",{kids:3600,adult:4e3})}];function i(){return l}function c(e){for(let t of l){let r=t.variants.find(t=>t.id===e);if(r)return r}}function n(e,t,r){return e.variants.find(e=>e.size===t&&e.color===r)}function d(e){var t;let r=e.variants[0];if(!r)throw Error("Product has no variants");return null!=(t=e.variants.find(e=>e.inStock))?t:r}function u(e){let t=new Set;for(let r of e.variants)t.add(r.size);return a.map(e=>e.key).filter(e=>t.has(e))}function m(e){let t=new Set;for(let r of e.variants)t.add(r.color);return s.map(e=>e.key).filter(e=>t.has(e))}function p(e){var t,r;return null!=(r=null==(t=s.find(t=>t.key===e))?void 0:t.hex)?r:"hsl(var(--color-fg))"}},2079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=r(7826);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=o(e,s)),t&&(a.current=o(t,s))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2308:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(6586),a=r(7826),o=r(7718),l=r(2675);let i=a.memo(function(e){let{quantity:t,onChange:r,min:i=o.yY,max:c=o._x,label:n}=e,d=(0,a.useMemo)(()=>t>i,[t,i]),u=(0,a.useMemo)(()=>t<c,[t,c]),m=(0,a.useMemo)(()=>"".concat(n," -"),[n]),p=(0,a.useMemo)(()=>"".concat(n," +"),[n]),f=(0,a.useCallback)(()=>{d&&r(t-1)},[d,r,t]),x=(0,a.useCallback)(()=>{u&&r(t+1)},[u,r,t]);return(0,s.jsxs)(l.A,{className:"items-center gap-2","aria-label":n,children:[(0,s.jsx)("button",{type:"button",onClick:f,disabled:!d,"aria-label":m,className:"size-12 rounded-full border border-border-1 text-lg font-semibold text-foreground transition hover:border-primary/60 disabled:opacity-40",children:"-"}),(0,s.jsx)("div",{className:"min-w-8 text-center text-sm font-semibold",children:t}),(0,s.jsx)("button",{type:"button",onClick:x,disabled:!u,"aria-label":p,className:"size-12 rounded-full border border-border-1 text-lg font-semibold text-foreground transition hover:border-primary/60 disabled:opacity-40",children:"+"})]})})},2675:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(6586);let a=r(7826).memo(function(e){let{className:t,...r}=e,a=["flex",t].filter(Boolean).join(" ");return(0,s.jsx)("div",{className:a,...r})})},6024:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>f,_:()=>x});var s=r(6586),a=r(7826),o=r(7718);let l={items:[],updatedAt:0},i=e=>({items:e,updatedAt:Date.now()}),c=e=>e.map(e=>({variantId:e.variantId,quantity:(0,o.pE)(e.quantity)})).filter(e=>e.variantId&&e.quantity>=o.yY);function n(e,t){switch(t.type){case"hydrate":return i(c(t.payload));case"add":{let{variantId:r,quantity:s}=t.payload,a=[...e.items],l=a.findIndex(e=>e.variantId===r),c=(0,o.pE)(s);if(l>=0){let e=a[l];if(!e)return i(a);a[l]={variantId:e.variantId,quantity:(0,o.pE)(e.quantity+c)}}else a.push({variantId:r,quantity:c});return i(a)}case"remove":return i(e.items.filter(e=>e.variantId!==t.payload.variantId));case"setQuantity":return i(c(e.items.map(e=>e.variantId!==t.payload.variantId?e:{...e,quantity:(0,o.pE)(t.payload.quantity)})));case"clear":return i([]);default:return e}}let d="cochlearfit:cart",u=e=>!!e&&"object"==typeof e&&"string"==typeof e.variantId&&"number"==typeof e.quantity&&e.quantity>=o.yY;var m=r(6233);let p=(0,a.createContext)(null);function f(e){let{children:t}=e,[r,i]=(0,a.useReducer)(n,l),c=(0,a.useMemo)(()=>(0,m.m)(r),[r]),f=(0,a.useCallback)((e,t)=>{i({type:"add",payload:{variantId:e,quantity:t}})},[]),x=(0,a.useCallback)(e=>{i({type:"remove",payload:{variantId:e}})},[]),y=(0,a.useCallback)((e,t)=>{i({type:"setQuantity",payload:{variantId:e,quantity:t}})},[]),b=(0,a.useCallback)(()=>{i({type:"clear"})},[]),h=(0,a.useCallback)(()=>{let e=function(){let e=window.localStorage.getItem(d);if(!e)return null;try{let t=JSON.parse(e);if(!t||1!==t.version||!Array.isArray(t.items))return null;return t.items.filter(u).map(e=>({variantId:e.variantId,quantity:(0,o.pE)(e.quantity)}))}catch(e){return null}}();e&&e.length>0&&i({type:"hydrate",payload:e})},[]);(0,a.useEffect)(()=>{h()},[h]),(0,a.useEffect)(()=>{let e={version:1,items:r.items.map(e=>({variantId:e.variantId,quantity:(0,o.pE)(e.quantity)}))};window.localStorage.setItem(d,JSON.stringify(e))},[r.items]);let v=(0,a.useMemo)(()=>({items:r.items,itemCount:c.itemCount,subtotal:c.subtotal,currency:c.currency,addItem:f,removeItem:x,setQuantity:y,clear:b}),[f,b,x,y,r.items,c]);return(0,s.jsx)(p.Provider,{value:v,children:t})}function x(){let e=(0,a.useContext)(p);if(!e)throw Error("useCart must be used within CartProvider");return e}},6233:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,m:()=>a});var s=r(1880);function a(e){let t=0,r=0,a="USD";for(let o of e.items){let e=(0,s._s)(o.variantId);e&&(t+=o.quantity,r+=o.quantity*e.price,a=e.currency)}return{itemCount:t,subtotal:r,currency:a}}function o(e){let t=(0,s.d$)(),r=new Map;for(let e of t)for(let t of e.variants)r.set(t.id,{product:e,variant:t});return e.flatMap(e=>{let t=r.get(e.variantId);return t?[{item:e,product:t.product,variant:t.variant}]:[]})}},6662:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(6586),a=r(7826);let o=a.memo(function(e){let{variant:t="primary",className:r,...o}=e,l=(0,a.useMemo)(()=>["inline-flex","min-h-12","items-center","justify-center","rounded-full","px-5","text-sm","font-semibold","tracking-wide","transition","focus-visible:focus-ring","disabled:cursor-not-allowed","disabled:opacity-60",...{primary:["bg-primary","text-primary-foreground","hover:bg-accent"],outline:["border","border-border-1","text-foreground","hover:border-primary/70","hover:text-accent"],ghost:["text-foreground","hover:text-accent"]}[t],r].filter(Boolean).join(" "),[r,t]);return(0,s.jsx)("button",{...o,className:l})})},6876:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(6586),a=r(7826);let o=a.memo(function(e){let{children:t,className:r}=e,o=(0,a.useMemo)(()=>["mx-auto","w-full","max-w-md","px-4",r].filter(Boolean).join(" "),[r]);return(0,s.jsx)("div",{className:o,children:t})})},7718:(e,t,r)=>{"use strict";r.d(t,{_x:()=>a,pE:()=>o,yY:()=>s});let s=1,a=10;function o(e){return Number.isNaN(e)||e<s?s:e>a?a:Math.floor(e)}},8851:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(6586);let a=r(7826).memo(function(e){let{className:t,...r}=e,a=["grid",t].filter(Boolean).join(" ");return(0,s.jsx)("div",{className:a,...r})})},9642:(e,t,r)=>{"use strict";r.d(t,{default:()=>C});var s=r(6586),a=r(7826),o=r(2707),l=r(5876),i=r(6876);let c=a.memo(function(e){let{children:t,className:r,containerClassName:o}=e,l=(0,a.useMemo)(()=>r?"py-10 ".concat(r):"py-10",[r]);return(0,s.jsx)("section",{className:l,children:o?(0,s.jsx)(i.A,{className:o,children:t}):(0,s.jsx)(i.A,{children:t})})});var n=r(8851),d=r(1880),u=r(2675);let m=a.memo(function(e){let{value:t,label:r,selected:o,onSelect:l}=e,i=(0,a.useCallback)(()=>{l(t)},[l,t]);return(0,s.jsx)("button",{type:"button",onClick:i,className:(o?["rounded-full","border","border-primary","bg-primary/10","px-4","py-2","text-sm","font-semibold","text-accent"]:["rounded-full","border","border-border-1","px-4","py-2","text-sm","font-semibold","text-foreground","transition","hover:border-primary/60"]).join(" "),"aria-pressed":o,children:r})}),p=a.memo(function(e){let{value:t,label:r,hex:o,selected:l,onSelect:i}=e,c=(0,a.useCallback)(()=>{i(t)},[i,t]),n=(0,a.useMemo)(()=>({backgroundColor:o}),[o]);return(0,s.jsxs)("button",{type:"button",onClick:c,className:(l?["flex","items-center","gap-2","rounded-full","border","border-primary","bg-surface-2","px-3","py-2","text-sm","font-semibold","text-foreground"]:["flex","items-center","gap-2","rounded-full","border","border-border-1","bg-surface-2","px-3","py-2","text-sm","font-semibold","text-foreground","transition","hover:border-primary/60"]).join(" "),"aria-pressed":l,children:[(0,s.jsx)("span",{className:"h-4 w-4 rounded-full border border-border-1",style:n,"aria-hidden":!0}),r]})});function f(e){let{sizes:t,colors:r,size:o,color:i,onSizeChange:c,onColorChange:n}=e,f=(0,l.c3)(),x=(0,a.useMemo)(()=>t,[t]),y=(0,a.useMemo)(()=>r,[r]),b=(0,a.useMemo)(()=>f("color.".concat(i)),[i,f]),h=(0,a.useMemo)(()=>({color:b}),[b]);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:f("product.size")}),(0,s.jsx)(u.A,{className:"flex-wrap gap-2",children:x.map(e=>(0,s.jsx)(m,{value:e,label:f("size.".concat(e)),selected:e===o,onSelect:c},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:f("product.color")}),(0,s.jsx)(u.A,{className:"flex-wrap gap-2",children:y.map(e=>(0,s.jsx)(p,{value:e,label:f("color.".concat(e)),hex:(0,d.jo)(e),selected:e===i,onSelect:n},e))})]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:f("product.selectedColor",h)})]})}var x=r(2308),y=r(905),b=r(6662);let h=a.memo(function(e){let{amount:t,currency:r,onAdd:a,disabled:o,label:l}=e;return(0,s.jsx)("div",{className:"sticky bottom-0 z-10 border-t border-border-1 bg-surface-1/95 py-4 backdrop-blur",children:(0,s.jsxs)(i.A,{className:"flex items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"text-lg font-semibold",children:(0,s.jsx)(y.A,{amount:t,currency:r})}),(0,s.jsx)(b.A,{type:"button",onClick:a,disabled:o,className:"flex-1",children:l})]})})});var v=r(6024),g=r(7718);class j extends a.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){try{console.error("CochlearFit UI error boundary:",e)}catch(e){}}render(){return this.state.hasError?this.props.fallback?this.props.fallback:null:this.props.children}constructor(e){super(e),this.state={hasError:!1}}}function N(e){let{children:t,fallback:r}=e,o=(0,l.c3)(),i=(0,a.useCallback)(()=>{window.location.reload()},[]),c=(0,a.useMemo)(()=>(0,s.jsxs)("div",{className:"surface rounded-3xl border border-border-1 p-5 text-sm",children:[(0,s.jsx)("div",{className:"mb-2 font-semibold",children:o("error.title")}),(0,s.jsx)("div",{className:"mb-4 text-muted-foreground",children:o("error.body")}),(0,s.jsx)(b.A,{type:"button",variant:"outline",onClick:i,children:o("error.retry")})]}),[i,o]);return(0,s.jsx)(j,{fallback:null!=r?r:c,children:t})}let k=function(e){var t,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=t=>(0,s.jsx)(N,{fallback:o.fallback,children:a.createElement(e,t)});return l.displayName="withErrorBoundary(".concat(null!=(r=null!=(t=e.displayName)?t:e.name)?r:"Component",")"),a.memo(l)}(function(e){let{product:t}=e,r=(0,l.c3)(),{addItem:i}=(0,v._)(),[u,m]=(0,a.useState)(1),{sizes:p,colors:j,size:N,color:k,selectedVariant:C,onSizeChange:w,onColorChange:A}=function(e,t){let r=(0,a.useMemo)(()=>(0,d.n5)(e),[void 0,e]),[s,o]=(0,a.useState)(r.size),[l,i]=(0,a.useState)(r.color),c=(0,a.useMemo)(()=>(0,d.e)(e),[e]),n=(0,a.useMemo)(()=>(0,d.uP)(e),[e]),u=(0,a.useMemo)(()=>{var t;return null!=(t=(0,d.P5)(e,s,l))?t:r},[l,r,e,s]);return{sizes:c,colors:n,size:s,color:l,selectedVariant:u,onSizeChange:(0,a.useCallback)(e=>{o(e)},[]),onColorChange:(0,a.useCallback)(e=>{i(e)},[])}}(t),M=(0,a.useCallback)(e=>{m((0,g.pE)(e))},[]),I=(0,a.useCallback)(()=>{i(C.id,u)},[i,u,C.id]),S=(0,a.useMemo)(()=>!C.inStock,[C.inStock]);return(0,s.jsxs)("div",{className:"space-y-10",children:[(0,s.jsx)(c,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r(t.style)}),(0,s.jsx)("h1",{className:"font-display text-3xl font-semibold",children:r(t.name)}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:r(t.longDescription)})]}),(0,s.jsx)(n.A,{className:"gap-4",children:t.images.map(e=>(0,s.jsx)("div",{className:"relative aspect-card overflow-hidden rounded-3xl bg-surface-2",children:(0,s.jsx)(o.default,{src:e.src,alt:r(e.alt),fill:!0,sizes:"(max-width: 480px) 100vw, 420px",className:"object-cover"})},e.src))})]})}),(0,s.jsx)(c,{className:"pt-0",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-2xl font-semibold",children:(0,s.jsx)(y.A,{amount:C.price,currency:C.currency})}),(0,s.jsx)("div",{className:(S?["rounded-full","bg-muted/20","px-3","py-1","text-xs","font-semibold","text-muted-foreground"]:["rounded-full","bg-success/20","px-3","py-1","text-xs","font-semibold","text-success-foreground"]).join(" "),children:S?r("product.outOfStock"):r("product.inStock")})]}),(0,s.jsx)(f,{sizes:p,colors:j,size:N,color:k,onSizeChange:w,onColorChange:A}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.quantity")}),(0,s.jsx)(x.A,{quantity:u,onChange:M,label:r("product.quantity")})]}),(0,s.jsx)(b.A,{type:"button",onClick:I,disabled:S,children:r("product.addToCart")})]})}),(0,s.jsx)(c,{className:"pt-0",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.features")}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-muted-foreground",children:t.featureBullets.map(e=>(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{"aria-hidden":!0,className:"mt-1 text-primary",children:"+"}),(0,s.jsx)("span",{children:r(e)})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.materials")}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-muted-foreground",children:t.materials.map(e=>(0,s.jsx)("li",{children:r(e)},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.care")}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-muted-foreground",children:t.careInstructions.map(e=>(0,s.jsx)("li",{children:r(e)},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:r("product.compatibility")}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-muted-foreground",children:t.compatibilityNotes.map(e=>(0,s.jsx)("li",{children:r(e)},e))})]})]})}),(0,s.jsx)(h,{amount:C.price,currency:C.currency,onAdd:I,disabled:S,label:r("product.addToCart")})]})});function C(e){return(0,s.jsx)(k,{...e})}}},e=>{var t=t=>e(e.s=t);e.O(0,[106,707,132,956,889,358],()=>t(844)),_N_E=e.O()}]);