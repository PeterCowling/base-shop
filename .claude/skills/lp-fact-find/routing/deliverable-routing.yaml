version: 1

# Family/channel/subtype keeps intake simple while preserving canonical
# Deliverable-Type values expected by /lp-plan and /lp-build.
# Skill IDs are stored without leading slash for canonical matching.

deliverable_families:
  code-change:
    canonical_type: code-change
    primary_execution_skill: lp-build
    supporting_skills:
      - create-api-endpoint
      - create-server-action
      - create-ui-component

  message:
    required_channel: true
    channels:
      email:
        canonical_type: email-message
        primary_execution_skill: draft-email
        supporting_skills:
          - ops-inbox
          - draft-outreach
      whatsapp:
        canonical_type: whatsapp-message
        primary_execution_skill: draft-whatsapp
        supporting_skills:
          - biz-update-plan

  doc:
    required_subtype: true
    subtypes:
      product-brief:
        canonical_type: product-brief
        primary_execution_skill: biz-product-brief
        supporting_skills:
          - biz-update-plan
      marketing-asset:
        canonical_type: marketing-asset
        primary_execution_skill: draft-marketing
        supporting_skills:
          - lp-channels
          - lp-seo
          - biz-update-plan

  spreadsheet:
    canonical_type: spreadsheet
    primary_execution_skill: biz-spreadsheet
    supporting_skills:
      - biz-update-plan

  multi:
    canonical_type: multi-deliverable
    primary_execution_skill: lp-build
    supporting_skills:
      - select per task in /lp-plan

startup_alias_mapping:
  startup-budget-envelope:
    canonical_type: spreadsheet
    primary_execution_skill: biz-spreadsheet
  startup-channel-plan:
    canonical_type: product-brief
    primary_execution_skill: biz-product-brief
  startup-demand-test-protocol:
    canonical_type: product-brief
    primary_execution_skill: biz-product-brief
  startup-supply-timeline:
    canonical_type: spreadsheet
    primary_execution_skill: biz-spreadsheet
  startup-weekly-kpcs-memo:
    canonical_type: product-brief
    primary_execution_skill: biz-product-brief
  website-upgrade-backlog:
    canonical_type: multi-deliverable
    primary_execution_skill: lp-build
  startup-loop-gap-fill:
    canonical_type: product-brief
    primary_execution_skill: lp-replan
    note: "Trigger-type (block|bottleneck|feedback) determines output path and outcome (briefing vs planning). See modules/outcome-a-loop-gap.md."
