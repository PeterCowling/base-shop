{"mode":"file","findings":[{"severity":"critical","file":"docs/plans/xa-uploader-deployment-config/plan.md","line":"59","message":"The plan treats `wrangler secret put` as the production path but omits a build-time secret strategy. `apps/xa-uploader/next.config.mjs:33-38` hard-fails production non-CI builds when required secrets are missing, so a first-time local deploy can fail before `wrangler deploy` even if runtime secrets are configured."},{"severity":"warning","file":"docs/plans/xa-uploader-deployment-config/plan.md","line":"41","message":"The plan assumes putting `NEXT_PUBLIC_*` values in `wrangler.toml [vars]` is sufficient for behavior/configuration. `apps/xa-uploader/src/components/catalog/useCatalogConsole.client.ts:66-95` reads these in client code, which is build-time inlined by Next; runtime Worker vars alone may not update client-visible values without rebuilding with those envs."},{"severity":"warning","file":"docs/plans/xa-uploader-deployment-config/plan.md","line":"100","message":"TASK-01 and TASK-02 are marked fully parallel with no dependency, but both must stay schema-identical (same var names/defaults across `.env.example` and `wrangler.toml`). The plan lacks an explicit reconciliation/checkpoint step, creating drift risk in operator docs."},{"severity":"info","file":"docs/plans/xa-uploader-deployment-config/plan.md","line":"181","message":"TOML validation is defined as visual inspection only. This is weak for deployment-critical config; add a parser-based or command-based validation step."}],"verdict":"needs_revision","score":6,"review":"..."}
